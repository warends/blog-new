angular.module("willsBlog",["ngResource","ngAnimate","ngSanitize","ui.router","duScroll"]),angular.module("willsBlog").config(["$locationProvider","$stateProvider","$urlRouterProvider",function(e,t,o){o.otherwise("/"),e.html5Mode(!0),t.state("home",{url:"/",templateUrl:"/partials/main/main",controller:"mainCtrl"}).state("account",{url:"/account",templateUrl:"/partials/login/login",controller:"loginCtrl"}).state("signup",{url:"/signup",templateUrl:"/partials/login/signup",controller:"signupCtrl"}).state("posts",{url:"/posts",templateUrl:"/partials/blog/blog-list",controller:"blogListCtrl"}).state("profile",{url:"/profile",templateUrl:"/partials/admin/profile",controller:"profileCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeAutheticatedUserForRoute()}]}}).state("postDetail",{url:"/posts/:slug",templateUrl:"/partials/blog/post-detail",controller:"postDetailCtrl"}).state("newPost",{url:"/admin/new-post",templateUrl:"/partials/blog/new-post",controller:"newPostCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeCurrentUserForRoute("admin")}]}}).state("editPost",{url:"/admin/:slug/edit",templateUrl:"/partials/blog/edit-post",controller:"editPostCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeCurrentUserForRoute("admin")}]}}).state("users",{url:"/admin/users",templateUrl:"/partials/admin/users-list",controller:"userListCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeCurrentUserForRoute("admin")}]}})}]),angular.module("willsBlog").run(["$rootScope","$location","$anchorScroll",function(e,t,o){o.yOffset=60,e.$on("$routeChangeError",function(e,o,n,r){"not authorized"===r&&t.path("/")}),e.$on("$stateChangeSuccess",function(e,t,o){window.scrollTo(0,0)})}]),angular.module("willsBlog").controller("profileCtrl",["$scope","mvAuth","identity","notifier",function(e,t,o,n){e.username=o.currentUser.username,e.fName=o.currentUser.firstName,e.lName=o.currentUser.lastName,e.update=function(){var o={username:e.username,firstName:e.fName,lastName:e.lName};e.password&&e.password.length>0&&(o.password=e.password),t.updateCurrentUser(o).then(function(){n.notify("Your information has been updated")},function(e){n.error(e)})}}]),angular.module("willsBlog").controller("userListCtrl",["$scope","mvUser",function(e,t){e.users=t.query()}]),angular.module("willsBlog").controller("blogListCtrl",["$scope","mvCachedPost","identity","$location","Meta",function(e,t,o,n,r){window.scrollTo(0,0),r.setTitle("Blog"),e.posts=t.query(),e.identity=o,e.sortOptions=[{value:"title",text:"Sort by Title"},{value:"published",text:"Published Date"}],e.sortOrder=e.sortOptions[0].value}]),angular.module("willsBlog").controller("editPostCtrl",["$scope","notifier","mvPost","$q","$location","$stateParams","$http",function(e,t,o,n,r,a,s){e.post=o.get({slug:a.slug}),e.post.data={_id:e.post._id,title:e.post.title,slug:e.post.slug,categories:e.post.categories,headerImage:e.post.headerImage,excerpt:e.post.excerpt,body:e.post.body,author:e.post.author},e.updatePost=function(){e.post.$update({slug:e.post.slug},function(){t.notify("Your post has been updated"),r.path("/blog")},function(e){t.error(e.data)})},e.deletePost=function(e){e.$delete(function(){t.notify("Deleted from server"),r.path("/blog")})}}]),angular.module("willsBlog").factory("mvCachedPost",["mvPost",function(e){var t;return{query:function(){return t||(t=e.query()),t}}}]),angular.module("willsBlog").factory("mvPost",["$resource",function(e){return e("/api/posts/:slug",{slug:"@slug"},{update:{method:"PUT"}},{stripTrailingSlashes:!1})}]),angular.module("willsBlog").controller("newPostCtrl",["$scope","notifier","mvPost","$location",function(e,t,o,n){e.post=new o,e.createNewPost=function(){e.post.$save(function(){t.notify("New Post Created"),n.path("/blog")})},e.cancel=function(){n.path("/blog")}}]),angular.module("willsBlog").controller("postDetailCtrl",["$scope","mvCachedPost","mvPost","$stateParams","Meta",function(e,t,o,n,r){window.scrollTo(0,0),e.post=o.get({slug:n.slug},function(){var t=e.post.title,o=e.post.excerpt;r.setTitle(t),r.setDesc(o)})}]),angular.module("willsBlog").controller("carouselCtrl",["$scope",function(e){e.slides=[{name:"Mobile",svg:"mobile-svg",desc:"Is your website up to date with the most current mobile design trends? If not, you are loosing valuable business. Ensure that your customers can reach your business from anywhere and receive the best user experience. By building with responsive design in mind, your customers will get a pixel perfect look from mobile to tablet or desktop."},{name:"ECommerce",svg:"ecomm-svg",desc:"Do you have a new product you are looking to bring to market and need an e-commerce site or just looking for more modern feel to an existing site?  By utilizing robust ecommerce platforms, we can design and develop a site that will scale with your business and needs all in time to meet your busy deadlines. "},{name:"SEO",svg:"seo-svg",desc:"Having a modern design and user friendly website is great, but if customers can`t find your business, it wont matter much.  We design and develop every aspect of the website with search engine optimization in mind and so your customers can find you among the competition.  Also through research and analytics we can develop, plan and deploy the best SEO and marketing practices to increase conversions and retention."}],e.currentIndex=0,e.setCurrentSlideIndex=function(t){e.currentIndex=t},e.isCurrentSlideIndex=function(t){return e.currentIndex===t}}]).animation(".slide-animation",function(){return{addClass:function(e,t,o){"ng-hide"==t?TweenMax.to(e,.5,{left:-e.parent().width(),onComplete:o}):o()},removeClass:function(e,t,o){"ng-hide"==t?(e.removeClass("ng-hide"),TweenMax.set(e,{left:e.parent().width()}),TweenMax.to(e,.5,{left:0,onComplete:o})):o()}}}),angular.module("willsBlog").controller("mainCtrl",["$scope","$location","mvCachedPost","notifier","TwitterService","$http","Meta",function(e,t,o,n,r,a,s){s.setTitle("Home"),s.setDesc("I enjoy all things web development and am always actively learning the newest techniques and langauges. If you have a web design or development project, give me a shout, I would love to talk about it."),e.services=[{name:"Development",svg:"dev-logo",description:"Customized and reusable code using the most up to date HTML5, CSS3 and Javascript framworks. Options range from static sites, content managed sites, and ecommerce stores.",more:"Development Skills include HTML5, CSS, Javascript, Angular, Backbone, Node, Express, Boostrap and more."},{name:"Web Design",svg:"design-logo",description:"Creating an excellent user experience through clean, simple and thoroughly crafted design. Collaboration with clients during design process ensures a superb finished project.",more:"Services include wire frames, photoshop mockups, logo design, and company branding."},{name:"Support",svg:"sup-logo",description:"Support is readily available for clients when anything comes up along the development process. Also available are personal instruction on how to maintain or update your own site.",more:"Have a new product or feature you want to implement? Plans for continued support and maintenance are available."}],e.posts=o.query(),e.form={},e.sendMail=function(){var t={contactName:this.contactName,contactCompany:this.contactCompany,contactEmail:this.contactEmail,contactMessage:this.contactMessage};a.post("/contact-form",t).success(function(t,o,r,a){n.notify("Thank you for your message "+t.contactName),e.form.contactForm.$setPristine(),e.form.contactForm.$setUntouched()}).error(function(e,t,o,r){n.notify("There was an error processing your request. Please try again")}),this.contactName=null,this.contactCompany=null,this.contactEmail=null,this.contactMessage=null},e.getUser=function(t){r.getUser(t).then(function(t){e.twitterErrors=void 0,e.tweets=JSON.parse(t.result.userData)}).catch(function(t){console.error("there was an error retrieving data: ",t),e.twitterErrors=t.error})}}]),angular.module("willsBlog").controller("navCtrl",["$scope","$location","$document",function(e,t,o){e.scrollTop=function(){o.scrollTopAnimated(0)},e.linkTo=function(e){var n=t.url(),r=60,a=800,s=angular.element(e);"/"!==n?t.url("/",function(){o.scrollToElement(s,r,a)}):o.scrollToElement(s,r,a)}}]),angular.module("willsBlog").controller("workCtrl",["$scope",function(e){e.tendrilShown=!1,e.toggleTendril=function(){e.tendrilShown=!e.tendrilShown},e.crownShow=!1,e.toggleCrown=function(){e.crownShow=!e.crownShow},e.broadShow=!1,e.toggleBroad=function(){e.broadShow=!e.broadShow},e.adihow=!1,e.toggleAdi=function(){e.adiShow=!e.adiShow}}]),angular.module("willsBlog").factory("identity",["$window","mvUser",function(e,t){var o;return e.bootstrappedUserObject&&(o=new t,angular.extend(o,e.bootstrappedUserObject)),{currentUser:o,isAuthenticated:function(){return!!this.currentUser},isAuthorized:function(e){return!!this.currentUser&&this.currentUser.roles.indexOf(e)>-1}}}]),angular.module("willsBlog").controller("loginCtrl",["$scope","$http","identity","notifier","mvAuth","$location","Meta",function(e,t,o,n,r,a,s){window.scrollTo(0,0),s.setTitle("Account"),e.identity=o,e.signIn=function(t,o){r.authenticateUser(t,o).then(function(t){t?(n.notify("You have signed in"),a.url("/account"),e.actShown=!1):n.notify("Username/Password Incorrect")})},e.signOut=function(){r.logoutUser().then(function(){e.username="",e.password="",n.notify("You have logged out"),a.path("/")})},e.signup=function(){var t={username:e.username,firstName:e.fName,lastName:e.lName,password:e.password};r.createUser(t).then(function(){n.notify("User account created"),a.path("/")},function(e){n.error(e)})},e.cancel=function(){a.path("/")},e.actShown=!1,e.toggleAccount=function(){o.isAuthenticated()?a.path("/account"):e.actShown=!e.actShown},e.signupShown=!1,e.toggleSignup=function(){e.signupShown=!e.signupShown}}]),angular.module("willsBlog").factory("mvAuth",["$http","identity","$q","mvUser",function(e,t,o,n){return{authenticateUser:function(r,a){var s=o.defer();return e.post("/login",{username:r,password:a}).then(function(e){if(e.data.success){var o=new n;angular.extend(o,e.data.user),t.currentUser=o,s.resolve(!0)}else s.resolve(!1)}),s.promise},logoutUser:function(){var n=o.defer();return e.post("/logout",{logout:!0}).then(function(){t.currentUser=void 0,n.resolve()}),n.promise},authorizeCurrentUserForRoute:function(e){return!!t.isAuthorized("admin")||o.reject("not authorized")},authorizeAutheticatedUserForRoute:function(){return!!t.isAuthenticated()||o.reject("not a current user")},createUser:function(e){var r=new n(e),a=o.defer();return r.$save().then(function(){t.currentUser=r,a.resolve()},function(e){a.reject(e.data.reason)}),a.promise},updateCurrentUser:function(e){var n=o.defer(),r=angular.copy(t.currentUser);return angular.extend(r,e),r.$update().then(function(){t.currentUser=r,n.resolve()},function(e){n.reject(e.data.reason)}),n.promise}}}]),angular.module("willsBlog").factory("mvUser",["$resource",function(e){var t=e("/api/users/:id",{_id:"@id"},{update:{method:"PUT",isArray:!1}});return t.prototype.isAdmin=function(){return this.roles&&this.roles.indexOf("admin")>-1},t}]),angular.module("willsBlog").controller("signupCtrl",["$scope","mvAuth","notifier","$location",function(e,t,o,n){e.signup=function(){var r={username:e.username,firstName:e.fName,lastName:e.lName,password:e.password};t.createUser(r).then(function(){o.notify("User account created"),n.path("/")},function(e){o.error(e)})},e.cancel=function(){n.path("/")}}]),angular.module("willsBlog").directive("globalModal",function(){return{restrict:"E",scope:{show:"="},replace:!0,transclude:!0,link:function(e,t,o){e.dialogStyle={},o.width&&(e.dialogStyle.width=o.width),o.height&&(e.dialogStyle.height=o.height),e.hideModal=function(){e.show=!1}},templateUrl:"/partials/common/modal"}}),angular.module("willsBlog").value("Toastr",toastr),angular.module("willsBlog").factory("notifier",["Toastr",function(e){return{notify:function(t){e.success(t),console.log(t)},error:function(t){e.error(t),console.log(t)}}}]),angular.module("willsBlog").factory("Meta",function(){var e="Web Development, Denver, CO",t="I enjoy all things web development and am always actively learning the newest techniques and langauges. If you have a web design or development project, give me a shout, I would love to talk about it.";return{title:function(){return e},setTitle:function(t){e=t},description:function(){return t},setDesc:function(e){t=e}}}).controller("metaCtrl",["$scope","Meta",function(e,t){e.Meta=t,e.metaDesc=t}]),angular.module("willsBlog").factory("TwitterService",["$http","$q",function(e,t){var o=function(o){var n=t.defer();return e.post("/twitter/user",{username:o}).success(function(e){return n.resolve(e)}).error(function(e){return n.reject(e)}),n.promise};return{getUser:o}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFkbWluL3Byb2ZpbGVDdHJsLmpzIiwiYWRtaW4vdXNlckxpc3RDdHJsLmpzIiwiYmxvZy9ibG9nTGlzdEN0cmwuanMiLCJibG9nL2VkaXRQb3N0Q3RybC5qcyIsImJsb2cvbXZDYWNoZWRQb3N0LmpzIiwiYmxvZy9tdlBvc3QuanMiLCJibG9nL25ld1Bvc3RDdHJsLmpzIiwiYmxvZy9wb3N0RGV0YWlsQ3RybC5qcyIsIm1haW4vY2Fyb3VzZWxDdHJsLmpzIiwibWFpbi9tYWluQ3RybC5qcyIsIm1haW4vbmF2Q3RybC5qcyIsIm1haW4vd29ya0N0cmwuanMiLCJsb2dpbi9pZGVudGl0eS5qcyIsImxvZ2luL2xvZ2luQ3RybC5qcyIsImxvZ2luL212QXV0aC5qcyIsImxvZ2luL212VXNlci5qcyIsImxvZ2luL3NpZ251cEN0cmwuanMiLCJjb21tb24vbW9kYWxEaXIuanMiLCJjb21tb24vbm90aWZpZXIuanMiLCJjb21tb24vcGFnZS5qcyIsImNvbW1vbi90d2l0dGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkbG9jYXRpb25Qcm92aWRlciIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwiaHRtbDVNb2RlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJyZXNvbHZlIiwicm91dGVSb2xlQ2hlY2siLCJtdkF1dGgiLCJhdXRob3JpemVBdXRoZXRpY2F0ZWRVc2VyRm9yUm91dGUiLCJhdXRob3JpemVDdXJyZW50VXNlckZvclJvdXRlIiwicnVuIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsIiRhbmNob3JTY3JvbGwiLCJ5T2Zmc2V0IiwiJG9uIiwiZXZ0IiwiY3VycmVudCIsInByZXZpb3VzIiwicmVqZWN0aW9uIiwicGF0aCIsImV2ZW50IiwiY3VycmVudFJvdXRlIiwicHJldmlvdXNSb3V0ZSIsIndpbmRvdyIsInNjcm9sbFRvIiwiJHNjb3BlIiwiaWRlbnRpdHkiLCJub3RpZmllciIsInVzZXJuYW1lIiwiY3VycmVudFVzZXIiLCJmTmFtZSIsImZpcnN0TmFtZSIsImxOYW1lIiwibGFzdE5hbWUiLCJ1cGRhdGUiLCJuZXdVc2VyRGF0YSIsInBhc3N3b3JkIiwibGVuZ3RoIiwidXBkYXRlQ3VycmVudFVzZXIiLCJ0aGVuIiwibm90aWZ5IiwicmVhc29uIiwiZXJyb3IiLCJtdlVzZXIiLCJ1c2VycyIsInF1ZXJ5IiwibXZDYWNoZWRQb3N0IiwiTWV0YSIsInNldFRpdGxlIiwicG9zdHMiLCJzb3J0T3B0aW9ucyIsInZhbHVlIiwidGV4dCIsInNvcnRPcmRlciIsIm12UG9zdCIsIiRxIiwiJHN0YXRlUGFyYW1zIiwiJGh0dHAiLCJwb3N0IiwiZ2V0Iiwic2x1ZyIsImRhdGEiLCJfaWQiLCJ0aXRsZSIsImNhdGVnb3JpZXMiLCJoZWFkZXJJbWFnZSIsImV4Y2VycHQiLCJib2R5IiwiYXV0aG9yIiwidXBkYXRlUG9zdCIsIiR1cGRhdGUiLCJkZWxldGVQb3N0IiwiJGRlbGV0ZSIsImZhY3RvcnkiLCJwb3N0TGlzdCIsIiRyZXNvdXJjZSIsIm1ldGhvZCIsInN0cmlwVHJhaWxpbmdTbGFzaGVzIiwiY3JlYXRlTmV3UG9zdCIsIiRzYXZlIiwiY2FuY2VsIiwiZGVzYyIsInNldERlc2MiLCJzbGlkZXMiLCJuYW1lIiwic3ZnIiwiY3VycmVudEluZGV4Iiwic2V0Q3VycmVudFNsaWRlSW5kZXgiLCJpbmRleCIsImlzQ3VycmVudFNsaWRlSW5kZXgiLCJhbmltYXRpb24iLCJhZGRDbGFzcyIsImVsZW1lbnQiLCJjbGFzc05hbWUiLCJkb25lIiwiVHdlZW5NYXgiLCJ0byIsImxlZnQiLCJwYXJlbnQiLCJ3aWR0aCIsIm9uQ29tcGxldGUiLCJyZW1vdmVDbGFzcyIsInNldCIsIlR3aXR0ZXJTZXJ2aWNlIiwic2VydmljZXMiLCJkZXNjcmlwdGlvbiIsIm1vcmUiLCJmb3JtIiwic2VuZE1haWwiLCJjb250YWN0TmFtZSIsInRoaXMiLCJjb250YWN0Q29tcGFueSIsImNvbnRhY3RFbWFpbCIsImNvbnRhY3RNZXNzYWdlIiwic3VjY2VzcyIsInN0YXR1cyIsImhlYWRlcnMiLCJjb250YWN0Rm9ybSIsIiRzZXRQcmlzdGluZSIsIiRzZXRVbnRvdWNoZWQiLCJnZXRVc2VyIiwidHdpdHRlckVycm9ycyIsInVuZGVmaW5lZCIsInR3ZWV0cyIsIkpTT04iLCJwYXJzZSIsInJlc3VsdCIsInVzZXJEYXRhIiwiY2F0Y2giLCJjb25zb2xlIiwiJGRvY3VtZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsVG9wQW5pbWF0ZWQiLCJsaW5rVG8iLCJpZCIsInJvdXRlIiwib2Zmc2V0IiwiZHVyYXRpb24iLCJzY3JvbGxUb0VsZW1lbnQiLCJ0ZW5kcmlsU2hvd24iLCJ0b2dnbGVUZW5kcmlsIiwiY3Jvd25TaG93IiwidG9nZ2xlQ3Jvd24iLCJicm9hZFNob3ciLCJ0b2dnbGVCcm9hZCIsImFkaWhvdyIsInRvZ2dsZUFkaSIsImFkaVNob3ciLCIkd2luZG93IiwiYm9vdHN0cmFwcGVkVXNlck9iamVjdCIsImV4dGVuZCIsImlzQXV0aGVudGljYXRlZCIsImlzQXV0aG9yaXplZCIsInJvbGUiLCJyb2xlcyIsImluZGV4T2YiLCJzaWduSW4iLCJhdXRoZW50aWNhdGVVc2VyIiwiYWN0U2hvd24iLCJzaWduT3V0IiwibG9nb3V0VXNlciIsInNpZ251cCIsImNyZWF0ZVVzZXIiLCJ0b2dnbGVBY2NvdW50Iiwic2lnbnVwU2hvd24iLCJ0b2dnbGVTaWdudXAiLCJkZWZlcnJlZCIsImRlZmVyIiwicmVzcG9uc2UiLCJ1c2VyIiwicHJvbWlzZSIsImxvZ291dCIsInJlamVjdCIsIm5ld1VzZXIiLCJjbG9uZSIsImNvcHkiLCJVc2VyUmVzb3VyY2UiLCJpc0FycmF5IiwicHJvdG90eXBlIiwiaXNBZG1pbiIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJzaG93IiwicmVwbGFjZSIsInRyYW5zY2x1ZGUiLCJsaW5rIiwiYXR0cnMiLCJkaWFsb2dTdHlsZSIsImhlaWdodCIsImhpZGVNb2RhbCIsInRvYXN0ciIsIlRvYXN0ciIsIm1lc3NhZ2UiLCJsb2ciLCJuZXdUaXRsZSIsIm5ld0Rlc2MiLCJtZXRhRGVzYyIsImQiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLGFBQUEsYUFBQSxZQUFBLGFBQUEsWUFBQSxhQUVBRCxRQUFBQyxPQUFBLGFBQUFDLFFBQUEsb0JBQUEsaUJBQUEscUJBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FXQUEsRUFBQUMsVUFBQSxLQUVBSCxFQUFBSSxXQUFBLEdBRUFILEVBQ0FJLE1BQUEsUUFDQUMsSUFBQSxJQUNBQyxZQUFBLHNCQUNBQyxXQUFBLGFBRUFILE1BQUEsV0FDQUMsSUFBQSxXQUNBQyxZQUFBLHdCQUNBQyxXQUFBLGNBRUFILE1BQUEsVUFDQUMsSUFBQSxVQUNBQyxZQUFBLHlCQUNBQyxXQUFBLGVBRUFILE1BQUEsU0FDQUMsSUFBQSxTQUNBQyxZQUFBLDJCQUNBQyxXQUFBLGlCQUVBSCxNQUFBLFdBQ0FDLElBQUEsV0FDQUMsWUFBQSwwQkFDQUMsV0FBQSxjQUNBQyxTQUNBQyxnQkFBQSxTQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUMseUNBSUFQLE1BQUEsY0FDQUMsSUFBQSxlQUNBQyxZQUFBLDZCQUNBQyxXQUFBLG1CQUVBSCxNQUFBLFdBQ0FDLElBQUEsa0JBQ0FDLFlBQUEsMEJBQ0FDLFdBQUEsY0FDQUMsU0FDQUMsZ0JBQUEsU0FBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFFLDZCQUFBLGNBSUFSLE1BQUEsWUFDQUMsSUFBQSxvQkFDQUMsWUFBQSwyQkFDQUMsV0FBQSxlQUNBQyxTQUNBQyxnQkFBQSxTQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUUsNkJBQUEsY0FJQVIsTUFBQSxTQUNBQyxJQUFBLGVBQ0FDLFlBQUEsNkJBQ0FDLFdBQUEsZUFDQUMsU0FDQUMsZ0JBQUEsU0FBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFFLDZCQUFBLGlCQVFBaEIsUUFBQUMsT0FBQSxhQUFBZ0IsS0FBQSxhQUFBLFlBQUEsZ0JBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FFQUEsRUFBQUMsUUFBQSxHQUVBSCxFQUFBSSxJQUFBLG9CQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsbUJBQUFBLEdBQ0FQLEVBQUFRLEtBQUEsT0FJQVQsRUFBQUksSUFBQSxzQkFBQSxTQUFBTSxFQUFBQyxFQUFBQyxHQUNBQyxPQUFBQyxTQUFBLEVBQUEsUUNsR0FoQyxRQUFBQyxPQUFBLGFBQUFVLFdBQUEsZUFBQSxTQUFBLFNBQUEsV0FBQSxXQUFBLFNBQUFzQixFQUFBbkIsRUFBQW9CLEVBQUFDLEdBQ0FGLEVBQUFHLFNBQUFGLEVBQUFHLFlBQUFELFNBQ0FILEVBQUFLLE1BQUFKLEVBQUFHLFlBQUFFLFVBQ0FOLEVBQUFPLE1BQUFOLEVBQUFHLFlBQUFJLFNBRUFSLEVBQUFTLE9BQUEsV0FDQSxHQUFBQyxJQUNBUCxTQUFBSCxFQUFBRyxTQUNBRyxVQUFBTixFQUFBSyxNQUNBRyxTQUFBUixFQUFBTyxNQUdBUCxHQUFBVyxVQUFBWCxFQUFBVyxTQUFBQyxPQUFBLElBQ0FGLEVBQUFDLFNBQUFYLEVBQUFXLFVBR0E5QixFQUFBZ0Msa0JBQUFILEdBQ0FJLEtBQUEsV0FDQVosRUFBQWEsT0FBQSxzQ0FDQSxTQUFBQyxHQUNBZCxFQUFBZSxNQUFBRCxTQ3BCQWpELFFBQUFDLE9BQUEsYUFBQVUsV0FBQSxnQkFBQSxTQUFBLFNBQUEsU0FBQXNCLEVBQUFrQixHQUNBbEIsRUFBQW1CLE1BQUFELEVBQUFFLFdDREFyRCxRQUFBQyxPQUFBLGFBQUFVLFdBQUEsZ0JBQUEsU0FBQSxlQUFBLFdBQUEsWUFBQSxPQUFBLFNBQUFzQixFQUFBcUIsRUFBQXBCLEVBQUFmLEVBQUFvQyxHQUVBeEIsT0FBQUMsU0FBQSxFQUFBLEdBRUF1QixFQUFBQyxTQUFBLFFBRUF2QixFQUFBd0IsTUFBQUgsRUFBQUQsUUFFQXBCLEVBQUFDLFNBQUFBLEVBRUFELEVBQUF5QixjQUNBQyxNQUFBLFFBQUFDLEtBQUEsa0JBQ0FELE1BQUEsWUFBQUMsS0FBQSxtQkFFQTNCLEVBQUE0QixVQUFBNUIsRUFBQXlCLFlBQUEsR0FBQUMsU0NkQTNELFFBQUFDLE9BQUEsYUFBQVUsV0FBQSxnQkFBQSxTQUFBLFdBQUEsU0FBQSxLQUFBLFlBQUEsZUFBQSxRQUFBLFNBQUFzQixFQUFBRSxFQUFBMkIsRUFBQUMsRUFBQTVDLEVBQUE2QyxFQUFBQyxHQUVBaEMsRUFBQWlDLEtBQUFKLEVBQUFLLEtBQUFDLEtBQUFKLEVBQUFJLE9BRUFuQyxFQUFBaUMsS0FBQUcsTUFDQUMsSUFBQXJDLEVBQUFpQyxLQUFBSSxJQUNBQyxNQUFBdEMsRUFBQWlDLEtBQUFLLE1BQ0FILEtBQUFuQyxFQUFBaUMsS0FBQUUsS0FDQUksV0FBQXZDLEVBQUFpQyxLQUFBTSxXQUNBQyxZQUFBeEMsRUFBQWlDLEtBQUFPLFlBQ0FDLFFBQUF6QyxFQUFBaUMsS0FBQVEsUUFDQUMsS0FBQTFDLEVBQUFpQyxLQUFBUyxLQUNBQyxPQUFBM0MsRUFBQWlDLEtBQUFVLFFBR0EzQyxFQUFBNEMsV0FBQSxXQUNBNUMsRUFBQWlDLEtBQUFZLFNBQUFWLEtBQUFuQyxFQUFBaUMsS0FBQUUsTUFBQSxXQUNBakMsRUFBQWEsT0FBQSw4QkFDQTdCLEVBQUFRLEtBQUEsVUFDQSxTQUFBc0IsR0FDQWQsRUFBQWUsTUFBQUQsRUFBQW9CLFNBSUFwQyxFQUFBOEMsV0FBQSxTQUFBYixHQUNBQSxFQUFBYyxRQUFBLFdBQ0E3QyxFQUFBYSxPQUFBLHVCQUNBN0IsRUFBQVEsS0FBQSxlQzNCQTNCLFFBQUFDLE9BQUEsYUFBQWdGLFFBQUEsZ0JBQUEsU0FBQSxTQUFBbkIsR0FDQSxHQUFBb0IsRUFFQSxRQUNBN0IsTUFBQSxXQUtBLE1BSkE2QixLQUNBQSxFQUFBcEIsRUFBQVQsU0FHQTZCLE9DVEFsRixRQUFBQyxPQUFBLGFBQUFnRixRQUFBLFVBQUEsWUFBQSxTQUFBRSxHQUVBLE1BQUFBLEdBQUEsb0JBQUFmLEtBQUEsVUFDQTFCLFFBQ0EwQyxPQUFBLFNBR0FDLHNCQUFBLE9DUEFyRixRQUFBQyxPQUFBLGFBQUFVLFdBQUEsZUFBQSxTQUFBLFdBQUEsU0FBQSxZQUFBLFNBQUFzQixFQUFBRSxFQUFBMkIsRUFBQTNDLEdBRUFjLEVBQUFpQyxLQUFBLEdBQUFKLEdBRUE3QixFQUFBcUQsY0FBQSxXQUNBckQsRUFBQWlDLEtBQUFxQixNQUFBLFdBQ0FwRCxFQUFBYSxPQUFBLG9CQUNBN0IsRUFBQVEsS0FBQSxZQUlBTSxFQUFBdUQsT0FBQSxXQUNBckUsRUFBQVEsS0FBQSxhQ1pBM0IsUUFBQUMsT0FBQSxhQUFBVSxXQUFBLGtCQUFBLFNBQUEsZUFBQSxTQUFBLGVBQUEsT0FBQSxTQUFBc0IsRUFBQXFCLEVBQUFRLEVBQUFFLEVBQUFULEdBRUF4QixPQUFBQyxTQUFBLEVBQUEsR0FVQUMsRUFBQWlDLEtBQUFKLEVBQUFLLEtBQUFDLEtBQUFKLEVBQUFJLE1BQUEsV0FDQSxHQUFBRyxHQUFBdEMsRUFBQWlDLEtBQUFLLE1BQ0FrQixFQUFBeEQsRUFBQWlDLEtBQUFRLE9BQ0FuQixHQUFBQyxTQUFBZSxHQUNBaEIsRUFBQW1DLFFBQUFELFFDaEJBekYsUUFBQUMsT0FBQSxhQUFBVSxXQUFBLGdCQUFBLFNBQUEsU0FBQXNCLEdBQ0FBLEVBQUEwRCxTQUNBQyxLQUFBLFNBQ0FDLElBQUEsYUFDQUosS0FBQSx3VkFFQUcsS0FBQSxZQUNBQyxJQUFBLFlBQ0FKLEtBQUEseVRBRUFHLEtBQUEsTUFDQUMsSUFBQSxVQUNBSixLQUFBLHFhQUlBeEQsRUFBQTZELGFBQUEsRUFDQTdELEVBQUE4RCxxQkFBQSxTQUFBQyxHQUNBL0QsRUFBQTZELGFBQUFFLEdBRUEvRCxFQUFBZ0Usb0JBQUEsU0FBQUQsR0FDQSxNQUFBL0QsR0FBQTZELGVBQUFFLE1BSUFFLFVBQUEsbUJBQUEsV0FDQSxPQUNBQyxTQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsV0FBQUQsRUFDQUUsU0FBQUMsR0FBQUosRUFBQSxJQUFBSyxNQUFBTCxFQUFBTSxTQUFBQyxRQUFBQyxXQUFBTixJQUVBQSxLQUdBTyxZQUFBLFNBQUFULEVBQUFDLEVBQUFDLEdBQ0EsV0FBQUQsR0FDQUQsRUFBQVMsWUFBQSxXQUNBTixTQUFBTyxJQUFBVixHQUFBSyxLQUFBTCxFQUFBTSxTQUFBQyxVQUNBSixTQUFBQyxHQUFBSixFQUFBLElBQUFLLEtBQUEsRUFBQUcsV0FBQU4sS0FFQUEsUUN4Q0F0RyxRQUFBQyxPQUFBLGFBQUFVLFdBQUEsWUFBQSxTQUFBLFlBQUEsZUFBQSxXQUFBLGlCQUFBLFFBQUEsT0FBQSxTQUFBc0IsRUFBQWQsRUFBQW1DLEVBQUFuQixFQUFBNEUsRUFBQTlDLEVBQUFWLEdBRUFBLEVBQUFDLFNBQUEsUUFDQUQsRUFBQW1DLFFBQUEsNE1BRUF6RCxFQUFBK0UsV0FDQXBCLEtBQUEsY0FDQUMsSUFBQSxXQUNBb0IsWUFBQSw2S0FDQUMsS0FBQSw0R0FFQXRCLEtBQUEsYUFDQUMsSUFBQSxjQUNBb0IsWUFBQSxpTEFDQUMsS0FBQSx3RkFFQXRCLEtBQUEsVUFDQUMsSUFBQSxXQUNBb0IsWUFBQSxxTEFDQUMsS0FBQSxvSEFJQWpGLEVBQUF3QixNQUFBSCxFQUFBRCxRQUVBcEIsRUFBQWtGLFFBRUFsRixFQUFBbUYsU0FBQSxXQUNBLEdBQUEvQyxJQUNBZ0QsWUFBQUMsS0FBQUQsWUFDQUUsZUFBQUQsS0FBQUMsZUFDQUMsYUFBQUYsS0FBQUUsYUFDQUMsZUFBQUgsS0FBQUcsZUFHQXhELEdBQUFDLEtBQUEsZ0JBQUFHLEdBQ0FxRCxRQUFBLFNBQUFyRCxFQUFBc0QsRUFBQUMsRUFBQTFILEdBQ0FpQyxFQUFBYSxPQUFBLDhCQUFBcUIsRUFBQWdELGFBQ0FwRixFQUFBa0YsS0FBQVUsWUFBQUMsZUFDQTdGLEVBQUFrRixLQUFBVSxZQUFBRSxrQkFFQTdFLE1BQUEsU0FBQW1CLEVBQUFzRCxFQUFBQyxFQUFBMUgsR0FDQWlDLEVBQUFhLE9BQUEsa0VBRUFzRSxLQUFBRCxZQUFBLEtBQ0FDLEtBQUFDLGVBQUEsS0FDQUQsS0FBQUUsYUFBQSxLQUNBRixLQUFBRyxlQUFBLE1BSUF4RixFQUFBK0YsUUFBQSxTQUFBNUYsR0FDQTJFLEVBQUFpQixRQUFBNUYsR0FDQVcsS0FBQSxTQUFBc0IsR0FDQXBDLEVBQUFnRyxjQUFBQyxPQUNBakcsRUFBQWtHLE9BQUFDLEtBQUFDLE1BQUFoRSxFQUFBaUUsT0FBQUMsWUFHQUMsTUFBQSxTQUFBdEYsR0FDQXVGLFFBQUF2RixNQUFBLHVDQUFBQSxHQUNBakIsRUFBQWdHLGNBQUEvRSxFQUFBQSxZQzVEQWxELFFBQUFDLE9BQUEsYUFBQVUsV0FBQSxXQUFBLFNBQUEsWUFBQSxZQUFBLFNBQUFzQixFQUFBZCxFQUFBdUgsR0FDQXpHLEVBQUEwRyxVQUFBLFdBQ0FELEVBQUFFLGtCQUFBLElBRUEzRyxFQUFBNEcsT0FBQSxTQUFBQyxHQUVBLEdBQUFDLEdBQUE1SCxFQUFBVixNQUNBdUksRUFBQSxHQUNBQyxFQUFBLElBQ0E3QyxFQUFBcEcsUUFBQW9HLFFBQUEwQyxFQUVBLE9BQUFDLEVBRUE1SCxFQUFBVixJQUFBLElBQUEsV0FDQWlJLEVBQUFRLGdCQUFBOUMsRUFBQTRDLEVBQUFDLEtBS0FQLEVBQUFRLGdCQUFBOUMsRUFBQTRDLEVBQUFDLE9DbkJBakosUUFBQUMsT0FBQSxhQUFBVSxXQUFBLFlBQUEsU0FBQSxTQUFBc0IsR0FFQUEsRUFBQWtILGNBQUEsRUFDQWxILEVBQUFtSCxjQUFBLFdBQ0FuSCxFQUFBa0gsY0FBQWxILEVBQUFrSCxjQUdBbEgsRUFBQW9ILFdBQUEsRUFDQXBILEVBQUFxSCxZQUFBLFdBQ0FySCxFQUFBb0gsV0FBQXBILEVBQUFvSCxXQUdBcEgsRUFBQXNILFdBQUEsRUFDQXRILEVBQUF1SCxZQUFBLFdBQ0F2SCxFQUFBc0gsV0FBQXRILEVBQUFzSCxXQUdBdEgsRUFBQXdILFFBQUEsRUFDQXhILEVBQUF5SCxVQUFBLFdBQ0F6SCxFQUFBMEgsU0FBQTFILEVBQUEwSCxZQ25CQTNKLFFBQUFDLE9BQUEsYUFBQWdGLFFBQUEsWUFBQSxVQUFBLFNBQUEsU0FBQTJFLEVBQUF6RyxHQUVBLEdBQUFkLEVBS0EsT0FKQXVILEdBQUFDLHlCQUNBeEgsRUFBQSxHQUFBYyxHQUNBbkQsUUFBQThKLE9BQUF6SCxFQUFBdUgsRUFBQUMsMEJBR0F4SCxZQUFBQSxFQUNBMEgsZ0JBQUEsV0FDQSxRQUFBekMsS0FBQWpGLGFBR0EySCxhQUFBLFNBQUFDLEdBQ0EsUUFBQTNDLEtBQUFqRixhQUFBaUYsS0FBQWpGLFlBQUE2SCxNQUFBQyxRQUFBRixJQUFBLE9DZEFqSyxRQUFBQyxPQUFBLGFBQUFVLFdBQUEsYUFBQSxTQUFBLFFBQUEsV0FBQSxXQUFBLFNBQUEsWUFBQSxPQUFBLFNBQUFzQixFQUFBZ0MsRUFBQS9CLEVBQUFDLEVBQUFyQixFQUFBSyxFQUFBb0MsR0FFQXhCLE9BQUFDLFNBQUEsRUFBQSxHQUNBdUIsRUFBQUMsU0FBQSxXQUVBdkIsRUFBQUMsU0FBQUEsRUFFQUQsRUFBQW1JLE9BQUEsU0FBQWhJLEVBQUFRLEdBQ0E5QixFQUFBdUosaUJBQUFqSSxFQUFBUSxHQUFBRyxLQUFBLFNBQUEyRSxHQUNBQSxHQUNBdkYsRUFBQWEsT0FBQSxzQkFDQTdCLEVBQUFWLElBQUEsWUFDQXdCLEVBQUFxSSxVQUFBLEdBRUFuSSxFQUFBYSxPQUFBLGtDQUtBZixFQUFBc0ksUUFBQSxXQUNBekosRUFBQTBKLGFBQUF6SCxLQUFBLFdBQ0FkLEVBQUFHLFNBQUEsR0FDQUgsRUFBQVcsU0FBQSxHQUNBVCxFQUFBYSxPQUFBLHVCQUNBN0IsRUFBQVEsS0FBQSxRQUlBTSxFQUFBd0ksT0FBQSxXQUNBLEdBQUE5SCxJQUNBUCxTQUFBSCxFQUFBRyxTQUNBRyxVQUFBTixFQUFBSyxNQUNBRyxTQUFBUixFQUFBTyxNQUNBSSxTQUFBWCxFQUFBVyxTQUVBOUIsR0FBQTRKLFdBQUEvSCxHQUNBSSxLQUFBLFdBQ0FaLEVBQUFhLE9BQUEsd0JBQ0E3QixFQUFBUSxLQUFBLE1BQ0EsU0FBQXNCLEdBQ0FkLEVBQUFlLE1BQUFELE1BSUFoQixFQUFBdUQsT0FBQSxXQUNBckUsRUFBQVEsS0FBQSxNQUdBTSxFQUFBcUksVUFBQSxFQUNBckksRUFBQTBJLGNBQUEsV0FDQXpJLEVBQUE2SCxrQkFDQTVJLEVBQUFRLEtBQUEsWUFFQU0sRUFBQXFJLFVBQUFySSxFQUFBcUksVUFJQXJJLEVBQUEySSxhQUFBLEVBQ0EzSSxFQUFBNEksYUFBQSxXQUNBNUksRUFBQTJJLGFBQUEzSSxFQUFBMkksZ0JDMURBNUssUUFBQUMsT0FBQSxhQUFBZ0YsUUFBQSxVQUFBLFFBQUEsV0FBQSxLQUFBLFNBQUEsU0FBQWhCLEVBQUEvQixFQUFBNkIsRUFBQVosR0FFQSxPQUVBa0gsaUJBQUEsU0FBQWpJLEVBQUFRLEdBQ0EsR0FBQWtJLEdBQUEvRyxFQUFBZ0gsT0FpQkEsT0FmQTlHLEdBQUFDLEtBQUEsVUFDQTlCLFNBQUFBLEVBQ0FRLFNBQUFBLElBQ0FHLEtBQUEsU0FBQWlJLEdBQ0EsR0FBQUEsRUFBQTNHLEtBQUFxRCxRQUFBLENBRUEsR0FBQXVELEdBQUEsR0FBQTlILEVBQ0FuRCxTQUFBOEosT0FBQW1CLEVBQUFELEVBQUEzRyxLQUFBNEcsTUFDQS9JLEVBQUFHLFlBQUE0SSxFQUNBSCxFQUFBbEssU0FBQSxPQUVBa0ssR0FBQWxLLFNBQUEsS0FJQWtLLEVBQUFJLFNBR0FWLFdBQUEsV0FDQSxHQUFBTSxHQUFBL0csRUFBQWdILE9BT0EsT0FMQTlHLEdBQUFDLEtBQUEsV0FBQWlILFFBQUEsSUFBQXBJLEtBQUEsV0FDQWIsRUFBQUcsWUFBQTZGLE9BQ0E0QyxFQUFBbEssWUFHQWtLLEVBQUFJLFNBSUFsSyw2QkFBQSxTQUFBaUosR0FDQSxRQUFBL0gsRUFBQThILGFBQUEsVUFHQWpHLEVBQUFxSCxPQUFBLG1CQUlBckssa0NBQUEsV0FDQSxRQUFBbUIsRUFBQTZILG1CQUdBaEcsRUFBQXFILE9BQUEsdUJBSUFWLFdBQUEsU0FBQS9ILEdBQ0EsR0FBQTBJLEdBQUEsR0FBQWxJLEdBQUFSLEdBQ0FtSSxFQUFBL0csRUFBQWdILE9BU0EsT0FQQU0sR0FBQTlGLFFBQUF4QyxLQUFBLFdBQ0FiLEVBQUFHLFlBQUFnSixFQUNBUCxFQUFBbEssV0FDQSxTQUFBb0ssR0FDQUYsRUFBQU0sT0FBQUosRUFBQTNHLEtBQUFwQixVQUdBNkgsRUFBQUksU0FHQXBJLGtCQUFBLFNBQUFILEdBQ0EsR0FBQW1JLEdBQUEvRyxFQUFBZ0gsUUFDQU8sRUFBQXRMLFFBQUF1TCxLQUFBckosRUFBQUcsWUFRQSxPQVBBckMsU0FBQThKLE9BQUF3QixFQUFBM0ksR0FDQTJJLEVBQUF4RyxVQUFBL0IsS0FBQSxXQUNBYixFQUFBRyxZQUFBaUosRUFDQVIsRUFBQWxLLFdBQ0EsU0FBQW9LLEdBQ0FGLEVBQUFNLE9BQUFKLEVBQUEzRyxLQUFBcEIsVUFFQTZILEVBQUFJLGFDOUVBbEwsUUFBQUMsT0FBQSxhQUFBZ0YsUUFBQSxVQUFBLFlBQUEsU0FBQUUsR0FFQSxHQUFBcUcsR0FBQXJHLEVBQUEsa0JBQUFiLElBQUEsUUFDQTVCLFFBQUEwQyxPQUFBLE1BQUFxRyxTQUFBLElBT0EsT0FKQUQsR0FBQUUsVUFBQUMsUUFBQSxXQUNBLE1BQUFyRSxNQUFBNEMsT0FBQTVDLEtBQUE0QyxNQUFBQyxRQUFBLFVBQUEsR0FHQXFCLEtDVkF4TCxRQUFBQyxPQUFBLGFBQUFVLFdBQUEsY0FBQSxTQUFBLFNBQUEsV0FBQSxZQUFBLFNBQUFzQixFQUFBbkIsRUFBQXFCLEVBQUFoQixHQUNBYyxFQUFBd0ksT0FBQSxXQUVBLEdBQUE5SCxJQUNBUCxTQUFBSCxFQUFBRyxTQUNBRyxVQUFBTixFQUFBSyxNQUNBRyxTQUFBUixFQUFBTyxNQUNBSSxTQUFBWCxFQUFBVyxTQUVBOUIsR0FBQTRKLFdBQUEvSCxHQUNBSSxLQUFBLFdBQ0FaLEVBQUFhLE9BQUEsd0JBQ0E3QixFQUFBUSxLQUFBLE1BQ0EsU0FBQXNCLEdBQ0FkLEVBQUFlLE1BQUFELE1BS0FoQixFQUFBdUQsT0FBQSxXQUNBckUsRUFBQVEsS0FBQSxTQ3BCQTNCLFFBQUFDLE9BQUEsYUFBQTJMLFVBQUEsY0FBQSxXQUNBLE9BQ0FDLFNBQUEsSUFDQUMsT0FDQUMsS0FBQSxLQUVBQyxTQUFBLEVBQ0FDLFlBQUEsRUFDQUMsS0FBQSxTQUFBSixFQUFBMUYsRUFBQStGLEdBQ0FMLEVBQUFNLGVBQ0FELEVBQUF4RixRQUNBbUYsRUFBQU0sWUFBQXpGLE1BQUF3RixFQUFBeEYsT0FDQXdGLEVBQUFFLFNBQ0FQLEVBQUFNLFlBQUFDLE9BQUFGLEVBQUFFLFFBRUFQLEVBQUFRLFVBQUEsV0FDQVIsRUFBQUMsTUFBQSxJQUdBckwsWUFBQSw0QkNuQkFWLFFBQUFDLE9BQUEsYUFBQTBELE1BQUEsU0FBQTRJLFFBRUF2TSxRQUFBQyxPQUFBLGFBQUFnRixRQUFBLFlBQUEsU0FBQSxTQUFBdUgsR0FDQSxPQUNBeEosT0FBQSxTQUFBeUosR0FDQUQsRUFBQTlFLFFBQUErRSxHQUNBaEUsUUFBQWlFLElBQUFELElBRUF2SixNQUFBLFNBQUF1SixHQUNBRCxFQUFBdEosTUFBQXVKLEdBQ0FoRSxRQUFBaUUsSUFBQUQsUUNWQXpNLFFBQUFDLE9BQUEsYUFBQWdGLFFBQUEsT0FBQSxXQUNBLEdBQUFWLEdBQUEsOEJBQ0FrQixFQUFBLDBNQUNBLFFBQ0FsQixNQUFBLFdBQUEsTUFBQUEsSUFDQWYsU0FBQSxTQUFBbUosR0FBQXBJLEVBQUFvSSxHQUNBMUYsWUFBQSxXQUFBLE1BQUF4QixJQUNBQyxRQUFBLFNBQUFrSCxHQUFBbkgsRUFBQW1ILE1BR0FqTSxXQUFBLFlBQUEsU0FBQSxPQUFBLFNBQUFzQixFQUFBc0IsR0FDQXRCLEVBQUFzQixLQUFBQSxFQUNBdEIsRUFBQTRLLFNBQUF0SixLQ1pBdkQsUUFBQUMsT0FBQSxhQUFBZ0YsUUFBQSxrQkFBQSxRQUFBLEtBQUEsU0FBQWhCLEVBQUFGLEdBRUEsR0FBQWlFLEdBQUEsU0FBQTVGLEdBQ0EsR0FBQTBLLEdBQUEvSSxFQUFBZ0gsT0FTQSxPQVBBOUcsR0FBQUMsS0FBQSxpQkFBQTlCLFNBQUFBLElBQ0FzRixRQUFBLFNBQUFyRCxHQUNBLE1BQUF5SSxHQUFBbE0sUUFBQXlELEtBRUFuQixNQUFBLFNBQUFBLEdBQ0EsTUFBQTRKLEdBQUExQixPQUFBbEksS0FFQTRKLEVBQUE1QixRQUdBLFFBQ0FsRCxRQUFBQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycsIFsnbmdSZXNvdXJjZScsICduZ0FuaW1hdGUnLCAnbmdTYW5pdGl6ZScsICd1aS5yb3V0ZXInLCAnZHVTY3JvbGwnXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb25maWcoWyckbG9jYXRpb25Qcm92aWRlcicsICckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCBmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlciwgJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcil7XG5cbiAgICB2YXIgcm91dGVSb2xlQ2hlY2tzID0ge1xuICAgICAgYWRtaW46IGZ1bmN0aW9uKG12QXV0aCl7XG4gICAgICAgICAgcmV0dXJuIG12QXV0aC5hdXRob3JpemVDdXJyZW50VXNlckZvclJvdXRlKCdhZG1pbicpO1xuICAgICAgfSxcbiAgICAgIHVzZXI6IGZ1bmN0aW9uKG12QXV0aCl7XG4gICAgICAgICAgcmV0dXJuIG12QXV0aC5hdXRob3JpemVBdXRoZXRpY2F0ZWRVc2VyRm9yUm91dGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG5cbiAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG5cbiAgICAkc3RhdGVQcm92aWRlclxuICAgIC5zdGF0ZSgnaG9tZScsIHtcbiAgICAgIHVybDogJy8nLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvbWFpbi9tYWluJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnYWNjb3VudCcsIHtcbiAgICAgIHVybDogJy9hY2NvdW50JyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2xvZ2luL2xvZ2luJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ3NpZ251cCcsIHtcbiAgICAgIHVybDogJy9zaWdudXAnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvbG9naW4vc2lnbnVwJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdwb3N0cycsIHtcbiAgICAgIHVybDogJy9wb3N0cycsXG4gICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9ibG9nL2Jsb2ctbGlzdCcsXG4gICAgICBjb250cm9sbGVyOiAnYmxvZ0xpc3RDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdwcm9maWxlJywge1xuICAgICAgdXJsOiAnL3Byb2ZpbGUnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYWRtaW4vcHJvZmlsZScsXG4gICAgICBjb250cm9sbGVyOiAncHJvZmlsZUN0cmwnLFxuICAgICAgcmVzb2x2ZToge1xuICAgICAgICByb3V0ZVJvbGVDaGVjazogWydtdkF1dGgnLCBmdW5jdGlvbihtdkF1dGgpe1xuICAgICAgICAgICAgcmV0dXJuIG12QXV0aC5hdXRob3JpemVBdXRoZXRpY2F0ZWRVc2VyRm9yUm91dGUoKTtcbiAgICAgICAgfVxuICAgICAgXX1cbiAgICB9KVxuICAgIC5zdGF0ZSgncG9zdERldGFpbCcsIHsgLy92aWV3IHNpbmdsZSBwb3N0XG4gICAgICB1cmw6ICcvcG9zdHMvOnNsdWcnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYmxvZy9wb3N0LWRldGFpbCcsXG4gICAgICBjb250cm9sbGVyOiAncG9zdERldGFpbEN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ25ld1Bvc3QnLCB7ICAvL2FkZGluZyBhIG5ldyBwb3N0XG4gICAgICB1cmw6ICcvYWRtaW4vbmV3LXBvc3QnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYmxvZy9uZXctcG9zdCcsXG4gICAgICBjb250cm9sbGVyOiAnbmV3UG9zdEN0cmwnLFxuICAgICAgcmVzb2x2ZToge1xuICAgICAgICByb3V0ZVJvbGVDaGVjazogWydtdkF1dGgnLCBmdW5jdGlvbihtdkF1dGgpe1xuICAgICAgICAgICAgcmV0dXJuIG12QXV0aC5hdXRob3JpemVDdXJyZW50VXNlckZvclJvdXRlKCdhZG1pbicpO1xuICAgICAgICB9XG4gICAgICBdfVxuICAgIH0pXG4gICAgLnN0YXRlKCdlZGl0UG9zdCcsIHsgIC8vZWRpdCBwb3N0XG4gICAgICB1cmw6ICcvYWRtaW4vOnNsdWcvZWRpdCcsXG4gICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9ibG9nL2VkaXQtcG9zdCcsXG4gICAgICBjb250cm9sbGVyOiAnZWRpdFBvc3RDdHJsJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgcm91dGVSb2xlQ2hlY2s6IFsnbXZBdXRoJywgZnVuY3Rpb24obXZBdXRoKXtcbiAgICAgICAgICAgIHJldHVybiBtdkF1dGguYXV0aG9yaXplQ3VycmVudFVzZXJGb3JSb3V0ZSgnYWRtaW4nKTtcbiAgICAgICAgfVxuICAgICAgXX1cbiAgICB9KVxuICAgIC5zdGF0ZSgndXNlcnMnLCB7XG4gICAgICB1cmw6ICcvYWRtaW4vdXNlcnMnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYWRtaW4vdXNlcnMtbGlzdCcsXG4gICAgICBjb250cm9sbGVyOiAndXNlckxpc3RDdHJsJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgcm91dGVSb2xlQ2hlY2s6IFsnbXZBdXRoJywgZnVuY3Rpb24obXZBdXRoKXtcbiAgICAgICAgICAgIHJldHVybiBtdkF1dGguYXV0aG9yaXplQ3VycmVudFVzZXJGb3JSb3V0ZSgnYWRtaW4nKTtcbiAgICAgICAgfVxuICAgICAgXX1cbiAgICB9KTtcblxufV0pOy8vZW5kIGNvbmZpZ1xuXG5cbmFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5ydW4oWyckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsICckYW5jaG9yU2Nyb2xsJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKXtcblxuICAkYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSA2MDtcblxuICAkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlRXJyb3InLCBmdW5jdGlvbihldnQsIGN1cnJlbnQsIHByZXZpb3VzLCByZWplY3Rpb24pIHtcbiAgICAgIGlmKHJlamVjdGlvbiA9PT0gJ25vdCBhdXRob3JpemVkJykge1xuICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xuICAgICAgfVxuICB9KTtcblxuICAkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIiwgZnVuY3Rpb24gKGV2ZW50LCBjdXJyZW50Um91dGUsIHByZXZpb3VzUm91dGUpIHtcbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gIH0pO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcigncHJvZmlsZUN0cmwnLCBbJyRzY29wZScsICdtdkF1dGgnLCAnaWRlbnRpdHknLCAnbm90aWZpZXInLCBmdW5jdGlvbigkc2NvcGUsIG12QXV0aCwgaWRlbnRpdHksIG5vdGlmaWVyKXtcbiAgJHNjb3BlLnVzZXJuYW1lID0gaWRlbnRpdHkuY3VycmVudFVzZXIudXNlcm5hbWU7XG4gICRzY29wZS5mTmFtZSA9IGlkZW50aXR5LmN1cnJlbnRVc2VyLmZpcnN0TmFtZTtcbiAgJHNjb3BlLmxOYW1lID0gaWRlbnRpdHkuY3VycmVudFVzZXIubGFzdE5hbWU7XG5cbiAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmV3VXNlckRhdGEgPSB7XG4gICAgICAgIHVzZXJuYW1lOiAkc2NvcGUudXNlcm5hbWUsXG4gICAgICAgIGZpcnN0TmFtZTogJHNjb3BlLmZOYW1lLFxuICAgICAgICBsYXN0TmFtZTogJHNjb3BlLmxOYW1lXG4gICAgICB9XG5cbiAgICAgIGlmKCRzY29wZS5wYXNzd29yZCAmJiAkc2NvcGUucGFzc3dvcmQubGVuZ3RoID4gMCkge1xuICAgICAgIG5ld1VzZXJEYXRhLnBhc3N3b3JkID0gJHNjb3BlLnBhc3N3b3JkO1xuICAgICAgfVxuXG4gICAgICBtdkF1dGgudXBkYXRlQ3VycmVudFVzZXIobmV3VXNlckRhdGEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgbm90aWZpZXIubm90aWZ5KCdZb3VyIGluZm9ybWF0aW9uIGhhcyBiZWVuIHVwZGF0ZWQnKTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgICBub3RpZmllci5lcnJvcihyZWFzb24pO1xuICAgICAgICB9KTtcbiAgfVxuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcigndXNlckxpc3RDdHJsJywgWyckc2NvcGUnLCAnbXZVc2VyJywgZnVuY3Rpb24oJHNjb3BlLCBtdlVzZXIpe1xuICAkc2NvcGUudXNlcnMgPSBtdlVzZXIucXVlcnkoKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCdibG9nTGlzdEN0cmwnLCBbJyRzY29wZScsICdtdkNhY2hlZFBvc3QnLCAnaWRlbnRpdHknLCAnJGxvY2F0aW9uJywgJ01ldGEnLCAgZnVuY3Rpb24oJHNjb3BlLCBtdkNhY2hlZFBvc3QsIGlkZW50aXR5LCAkbG9jYXRpb24sIE1ldGEpe1xuXG4gIHdpbmRvdy5zY3JvbGxUbygwLDApO1xuXG4gIE1ldGEuc2V0VGl0bGUoJ0Jsb2cnKTtcblxuICAkc2NvcGUucG9zdHMgPSBtdkNhY2hlZFBvc3QucXVlcnkoKTtcblxuICAkc2NvcGUuaWRlbnRpdHkgPSBpZGVudGl0eTtcblxuICAkc2NvcGUuc29ydE9wdGlvbnM9IFtcbiAgICB7dmFsdWU6ICd0aXRsZScsIHRleHQ6ICdTb3J0IGJ5IFRpdGxlJ30sXG4gICAge3ZhbHVlOiAncHVibGlzaGVkJywgdGV4dDogJ1B1Ymxpc2hlZCBEYXRlJ31dO1xuXG4gICRzY29wZS5zb3J0T3JkZXIgPSAkc2NvcGUuc29ydE9wdGlvbnNbMF0udmFsdWU7XG59XSk7XG4iLCIgYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmNvbnRyb2xsZXIoJ2VkaXRQb3N0Q3RybCcsIFsnJHNjb3BlJywgJ25vdGlmaWVyJywgJ212UG9zdCcsICckcScsICckbG9jYXRpb24nLCAnJHN0YXRlUGFyYW1zJywgJyRodHRwJywgZnVuY3Rpb24oJHNjb3BlLCBub3RpZmllciwgbXZQb3N0LCAkcSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRodHRwKXtcblxuICAgICRzY29wZS5wb3N0ID0gbXZQb3N0LmdldCh7IHNsdWc6ICRzdGF0ZVBhcmFtcy5zbHVnIH0pO1xuXG4gICAgJHNjb3BlLnBvc3QuZGF0YSA9IHtcbiAgICAgICAgX2lkOiAkc2NvcGUucG9zdC5faWQsXG4gICAgICAgIHRpdGxlIDogJHNjb3BlLnBvc3QudGl0bGUsXG4gICAgICAgIHNsdWc6ICRzY29wZS5wb3N0LnNsdWcsXG4gICAgICAgIGNhdGVnb3JpZXMgOiAkc2NvcGUucG9zdC5jYXRlZ29yaWVzLFxuICAgICAgICBoZWFkZXJJbWFnZSA6ICRzY29wZS5wb3N0LmhlYWRlckltYWdlLFxuICAgICAgICBleGNlcnB0IDogJHNjb3BlLnBvc3QuZXhjZXJwdCxcbiAgICAgICAgYm9keSA6ICRzY29wZS5wb3N0LmJvZHksXG4gICAgICAgIGF1dGhvcjogJHNjb3BlLnBvc3QuYXV0aG9yXG4gICAgfVxuXG4gICAgJHNjb3BlLnVwZGF0ZVBvc3QgPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUucG9zdC4kdXBkYXRlKCB7IHNsdWc6ICRzY29wZS5wb3N0LnNsdWcgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICBub3RpZmllci5ub3RpZnkoJ1lvdXIgcG9zdCBoYXMgYmVlbiB1cGRhdGVkJyk7XG4gICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9ibG9nJyk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgICAgbm90aWZpZXIuZXJyb3IocmVhc29uLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZGVsZXRlUG9zdCA9IGZ1bmN0aW9uKHBvc3Qpe1xuICAgICAgcG9zdC4kZGVsZXRlKGZ1bmN0aW9uKCkge1xuICAgICAgICBub3RpZmllci5ub3RpZnkoJ0RlbGV0ZWQgZnJvbSBzZXJ2ZXInKTtcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9ibG9nJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5mYWN0b3J5KCdtdkNhY2hlZFBvc3QnLCBbJ212UG9zdCcsIGZ1bmN0aW9uKG12UG9zdCl7XG4gIHZhciBwb3N0TGlzdDtcblxuICByZXR1cm4ge1xuICAgIHF1ZXJ5OiBmdW5jdGlvbigpe1xuICAgICAgaWYoIXBvc3RMaXN0KXtcbiAgICAgICAgcG9zdExpc3QgPSBtdlBvc3QucXVlcnkoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBvc3RMaXN0O1xuICAgIH1cbiAgfVxuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuZmFjdG9yeSgnbXZQb3N0JywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbigkcmVzb3VyY2Upe1xuXG4gIHJldHVybiAkcmVzb3VyY2UoJy9hcGkvcG9zdHMvOnNsdWcnLCB7c2x1ZzogJ0BzbHVnJ30sIHtcbiAgICB1cGRhdGUgOiB7XG4gICAgICBtZXRob2Q6ICdQVVQnXG4gICAgfVxuICB9LCB7XG4gICAgc3RyaXBUcmFpbGluZ1NsYXNoZXM6IGZhbHNlXG4gIH0pO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcignbmV3UG9zdEN0cmwnLCBbJyRzY29wZScsICdub3RpZmllcicsICdtdlBvc3QnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24oJHNjb3BlLCBub3RpZmllciwgbXZQb3N0LCAkbG9jYXRpb24pe1xuXG4gICRzY29wZS5wb3N0ID0gbmV3IG12UG9zdCgpO1xuXG4gICRzY29wZS5jcmVhdGVOZXdQb3N0ID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUucG9zdC4kc2F2ZShmdW5jdGlvbigpe1xuICAgICAgICBub3RpZmllci5ub3RpZnkoJ05ldyBQb3N0IENyZWF0ZWQnKTtcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9ibG9nJyk7XG4gICAgfSk7XG4gIH1cblxuICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcbiAgICAkbG9jYXRpb24ucGF0aCgnL2Jsb2cnKTtcbiAgfTtcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmNvbnRyb2xsZXIoJ3Bvc3REZXRhaWxDdHJsJywgWyckc2NvcGUnLCAnbXZDYWNoZWRQb3N0JywgJ212UG9zdCcsICckc3RhdGVQYXJhbXMnLCAnTWV0YScsICBmdW5jdGlvbigkc2NvcGUsIG12Q2FjaGVkUG9zdCwgbXZQb3N0LCAkc3RhdGVQYXJhbXMsIE1ldGEpe1xuXG4gIHdpbmRvdy5zY3JvbGxUbygwLDApO1xuXG4gIC8vIG12Q2FjaGVkUG9zdC5xdWVyeSgpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oY29sbGVjdGlvbil7XG4gIC8vICAgY29sbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uKHBvc3Qpe1xuICAvLyAgICAgaWYocG9zdC5faWQgPT09ICRzdGF0ZVBhcmFtcy5pZCl7XG4gIC8vICAgICAgICRzY29wZS5wb3N0ID0gcG9zdDtcbiAgLy8gICAgIH1cbiAgLy8gICB9KTtcbiAgLy8gfSk7XG5cbiAgICRzY29wZS5wb3N0ID0gbXZQb3N0LmdldCh7IHNsdWc6ICRzdGF0ZVBhcmFtcy5zbHVnIH0sIGZ1bmN0aW9uKCl7XG4gICAgIHZhciB0aXRsZSA9ICRzY29wZS5wb3N0LnRpdGxlO1xuICAgICB2YXIgZGVzYyA9ICRzY29wZS5wb3N0LmV4Y2VycHQ7XG4gICAgIE1ldGEuc2V0VGl0bGUodGl0bGUpO1xuICAgICBNZXRhLnNldERlc2MoZGVzYyk7XG4gICB9KTtcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmNvbnRyb2xsZXIoJ2Nhcm91c2VsQ3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKXtcbiAgJHNjb3BlLnNsaWRlcyA9IFtcbiAgICB7IG5hbWU6ICdNb2JpbGUnLFxuICAgIHN2ZzogJ21vYmlsZS1zdmcnLFxuICAgIGRlc2M6ICdJcyB5b3VyIHdlYnNpdGUgdXAgdG8gZGF0ZSB3aXRoIHRoZSBtb3N0IGN1cnJlbnQgbW9iaWxlIGRlc2lnbiB0cmVuZHM/IElmIG5vdCwgeW91IGFyZSBsb29zaW5nIHZhbHVhYmxlIGJ1c2luZXNzLiBFbnN1cmUgdGhhdCB5b3VyIGN1c3RvbWVycyBjYW4gcmVhY2ggeW91ciBidXNpbmVzcyBmcm9tIGFueXdoZXJlIGFuZCByZWNlaXZlIHRoZSBiZXN0IHVzZXIgZXhwZXJpZW5jZS4gQnkgYnVpbGRpbmcgd2l0aCByZXNwb25zaXZlIGRlc2lnbiBpbiBtaW5kLCB5b3VyIGN1c3RvbWVycyB3aWxsIGdldCBhIHBpeGVsIHBlcmZlY3QgbG9vayBmcm9tIG1vYmlsZSB0byB0YWJsZXQgb3IgZGVza3RvcC4nIH0sXG5cbiAgICB7IG5hbWU6ICdFQ29tbWVyY2UnLFxuICAgIHN2ZzogJ2Vjb21tLXN2ZycsXG4gICAgZGVzYzogJ0RvIHlvdSBoYXZlIGEgbmV3IHByb2R1Y3QgeW91IGFyZSBsb29raW5nIHRvIGJyaW5nIHRvIG1hcmtldCBhbmQgbmVlZCBhbiBlLWNvbW1lcmNlIHNpdGUgb3IganVzdCBsb29raW5nIGZvciBtb3JlIG1vZGVybiBmZWVsIHRvIGFuIGV4aXN0aW5nIHNpdGU/ICBCeSB1dGlsaXppbmcgcm9idXN0IGVjb21tZXJjZSBwbGF0Zm9ybXMsIHdlIGNhbiBkZXNpZ24gYW5kIGRldmVsb3AgYSBzaXRlIHRoYXQgd2lsbCBzY2FsZSB3aXRoIHlvdXIgYnVzaW5lc3MgYW5kIG5lZWRzIGFsbCBpbiB0aW1lIHRvIG1lZXQgeW91ciBidXN5IGRlYWRsaW5lcy4gJyB9LFxuXG4gICAgeyBuYW1lOiAnU0VPJyxcbiAgICBzdmc6ICdzZW8tc3ZnJyxcbiAgICBkZXNjOiAnSGF2aW5nIGEgbW9kZXJuIGRlc2lnbiBhbmQgdXNlciBmcmllbmRseSB3ZWJzaXRlIGlzIGdyZWF0LCBidXQgaWYgY3VzdG9tZXJzIGNhbmB0IGZpbmQgeW91ciBidXNpbmVzcywgaXQgd29udCBtYXR0ZXIgbXVjaC4gIFdlIGRlc2lnbiBhbmQgZGV2ZWxvcCBldmVyeSBhc3BlY3Qgb2YgdGhlIHdlYnNpdGUgd2l0aCBzZWFyY2ggZW5naW5lIG9wdGltaXphdGlvbiBpbiBtaW5kIGFuZCBzbyB5b3VyIGN1c3RvbWVycyBjYW4gZmluZCB5b3UgYW1vbmcgdGhlIGNvbXBldGl0aW9uLiAgQWxzbyB0aHJvdWdoIHJlc2VhcmNoIGFuZCBhbmFseXRpY3Mgd2UgY2FuIGRldmVsb3AsIHBsYW4gYW5kIGRlcGxveSB0aGUgYmVzdCBTRU8gYW5kIG1hcmtldGluZyBwcmFjdGljZXMgdG8gaW5jcmVhc2UgY29udmVyc2lvbnMgYW5kIHJldGVudGlvbi4nIH1cblxuICBdO1xuXG4gICRzY29wZS5jdXJyZW50SW5kZXggPSAwO1xuICAkc2NvcGUuc2V0Q3VycmVudFNsaWRlSW5kZXggPSBmdW5jdGlvbihpbmRleCl7XG4gICAgJHNjb3BlLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICB9XG4gICRzY29wZS5pc0N1cnJlbnRTbGlkZUluZGV4ID0gZnVuY3Rpb24oaW5kZXgpe1xuICAgIHJldHVybiAkc2NvcGUuY3VycmVudEluZGV4ID09PSBpbmRleDtcbiAgfVxufV0pXG5cbi5hbmltYXRpb24oJy5zbGlkZS1hbmltYXRpb24nLCBmdW5jdGlvbigpe1xuICByZXR1cm4ge1xuICAgIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpe1xuICAgICAgaWYgKGNsYXNzTmFtZSA9PSAnbmctaGlkZScpe1xuICAgICAgICAgIFR3ZWVuTWF4LnRvKGVsZW1lbnQsIDAuNSwge2xlZnQ6IC1lbGVtZW50LnBhcmVudCgpLndpZHRoKCksIG9uQ29tcGxldGU6IGRvbmUgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKXtcbiAgICAgIGlmKGNsYXNzTmFtZSA9PSAnbmctaGlkZScpe1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCduZy1oaWRlJyk7XG4gICAgICAgIFR3ZWVuTWF4LnNldChlbGVtZW50LCB7IGxlZnQ6IGVsZW1lbnQucGFyZW50KCkud2lkdGgoKSB9KTtcbiAgICAgICAgVHdlZW5NYXgudG8oZWxlbWVudCwgMC41LCB7bGVmdDogMCwgb25Db21wbGV0ZTogZG9uZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ212Q2FjaGVkUG9zdCcsICdub3RpZmllcicgLCdUd2l0dGVyU2VydmljZScsICckaHR0cCcsICdNZXRhJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9jYXRpb24sIG12Q2FjaGVkUG9zdCwgbm90aWZpZXIsIFR3aXR0ZXJTZXJ2aWNlLCAkaHR0cCwgTWV0YSl7XG5cbiAgTWV0YS5zZXRUaXRsZSgnSG9tZScpO1xuICBNZXRhLnNldERlc2MoJ0kgZW5qb3kgYWxsIHRoaW5ncyB3ZWIgZGV2ZWxvcG1lbnQgYW5kIGFtIGFsd2F5cyBhY3RpdmVseSBsZWFybmluZyB0aGUgbmV3ZXN0IHRlY2huaXF1ZXMgYW5kIGxhbmdhdWdlcy4gSWYgeW91IGhhdmUgYSB3ZWIgZGVzaWduIG9yIGRldmVsb3BtZW50IHByb2plY3QsIGdpdmUgbWUgYSBzaG91dCwgSSB3b3VsZCBsb3ZlIHRvIHRhbGsgYWJvdXQgaXQuJyk7XG5cbiAgJHNjb3BlLnNlcnZpY2VzID0gW1xuICAgIHsgbmFtZTogJ0RldmVsb3BtZW50JyxcbiAgICBzdmc6ICdkZXYtbG9nbycsXG4gICAgZGVzY3JpcHRpb246ICdDdXN0b21pemVkIGFuZCByZXVzYWJsZSBjb2RlIHVzaW5nIHRoZSBtb3N0IHVwIHRvIGRhdGUgSFRNTDUsIENTUzMgYW5kIEphdmFzY3JpcHQgZnJhbXdvcmtzLiBPcHRpb25zIHJhbmdlIGZyb20gc3RhdGljIHNpdGVzLCBjb250ZW50IG1hbmFnZWQgc2l0ZXMsIGFuZCBlY29tbWVyY2Ugc3RvcmVzLicsXG4gICAgbW9yZTogJ0RldmVsb3BtZW50IFNraWxscyBpbmNsdWRlIEhUTUw1LCBDU1MsIEphdmFzY3JpcHQsIEFuZ3VsYXIsIEJhY2tib25lLCBOb2RlLCBFeHByZXNzLCBCb29zdHJhcCBhbmQgbW9yZS4nIH0sXG5cbiAgICB7IG5hbWU6ICdXZWIgRGVzaWduJyxcbiAgICBzdmc6ICdkZXNpZ24tbG9nbycsXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGluZyBhbiBleGNlbGxlbnQgdXNlciBleHBlcmllbmNlIHRocm91Z2ggY2xlYW4sIHNpbXBsZSBhbmQgdGhvcm91Z2hseSBjcmFmdGVkIGRlc2lnbi4gQ29sbGFib3JhdGlvbiB3aXRoIGNsaWVudHMgZHVyaW5nIGRlc2lnbiBwcm9jZXNzIGVuc3VyZXMgYSBzdXBlcmIgZmluaXNoZWQgcHJvamVjdC4nLFxuICAgIG1vcmU6ICdTZXJ2aWNlcyBpbmNsdWRlIHdpcmUgZnJhbWVzLCBwaG90b3Nob3AgbW9ja3VwcywgbG9nbyBkZXNpZ24sIGFuZCBjb21wYW55IGJyYW5kaW5nLicgfSxcblxuICAgIHsgbmFtZTogJ1N1cHBvcnQnLFxuICAgIHN2ZzogJ3N1cC1sb2dvJyxcbiAgICBkZXNjcmlwdGlvbjogJ1N1cHBvcnQgaXMgcmVhZGlseSBhdmFpbGFibGUgZm9yIGNsaWVudHMgd2hlbiBhbnl0aGluZyBjb21lcyB1cCBhbG9uZyB0aGUgZGV2ZWxvcG1lbnQgcHJvY2Vzcy4gQWxzbyBhdmFpbGFibGUgYXJlIHBlcnNvbmFsIGluc3RydWN0aW9uIG9uIGhvdyB0byBtYWludGFpbiBvciB1cGRhdGUgeW91ciBvd24gc2l0ZS4nLFxuICAgIG1vcmU6ICdIYXZlIGEgbmV3IHByb2R1Y3Qgb3IgZmVhdHVyZSB5b3Ugd2FudCB0byBpbXBsZW1lbnQ/IFBsYW5zIGZvciBjb250aW51ZWQgc3VwcG9ydCBhbmQgbWFpbnRlbmFuY2UgYXJlIGF2YWlsYWJsZS4nIH1cblxuICBdO1xuXG4gICRzY29wZS5wb3N0cyA9IG12Q2FjaGVkUG9zdC5xdWVyeSgpO1xuXG4gICRzY29wZS5mb3JtID0ge307XG5cbiAgJHNjb3BlLnNlbmRNYWlsID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgZGF0YSA9KHtcbiAgICAgIGNvbnRhY3ROYW1lIDogdGhpcy5jb250YWN0TmFtZSxcbiAgICAgIGNvbnRhY3RDb21wYW55IDogdGhpcy5jb250YWN0Q29tcGFueSxcbiAgICAgIGNvbnRhY3RFbWFpbCA6IHRoaXMuY29udGFjdEVtYWlsLFxuICAgICAgY29udGFjdE1lc3NhZ2UgOiB0aGlzLmNvbnRhY3RNZXNzYWdlXG4gICAgfSk7XG5cbiAgICAkaHR0cC5wb3N0KCcvY29udGFjdC1mb3JtJywgZGF0YSlcbiAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKXtcbiAgICAgICAgbm90aWZpZXIubm90aWZ5KCdUaGFuayB5b3UgZm9yIHlvdXIgbWVzc2FnZSAnICsgZGF0YS5jb250YWN0TmFtZSk7XG4gICAgICAgICAgICRzY29wZS5mb3JtLmNvbnRhY3RGb3JtLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICAgICAkc2NvcGUuZm9ybS5jb250YWN0Rm9ybS4kc2V0VW50b3VjaGVkKCk7XG4gICAgICB9KVxuICAgICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKXtcbiAgICAgICAgbm90aWZpZXIubm90aWZ5KCdUaGVyZSB3YXMgYW4gZXJyb3IgcHJvY2Vzc2luZyB5b3VyIHJlcXVlc3QuIFBsZWFzZSB0cnkgYWdhaW4nKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb250YWN0TmFtZSA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRhY3RDb21wYW55ID0gbnVsbDtcbiAgICAgIHRoaXMuY29udGFjdEVtYWlsID0gbnVsbDtcbiAgICAgIHRoaXMuY29udGFjdE1lc3NhZ2UgPSBudWxsO1xuXG4gIH1cblxuICAkc2NvcGUuZ2V0VXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcblx0XHRUd2l0dGVyU2VydmljZS5nZXRVc2VyKHVzZXJuYW1lKVxuXHRcdCAgICAudGhlbihmdW5jdGlvbihkYXRhKXtcblx0XHQgICAgICAgICRzY29wZS50d2l0dGVyRXJyb3JzID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIFx0JHNjb3BlLnR3ZWV0cyA9IEpTT04ucGFyc2UoZGF0YS5yZXN1bHQudXNlckRhdGEpO1xuXHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coJHNjb3BlLnR3ZWV0cyk7XG5cdFx0ICAgIH0pXG5cdFx0ICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcil7XG5cdFx0ICAgICAgICBjb25zb2xlLmVycm9yKCd0aGVyZSB3YXMgYW4gZXJyb3IgcmV0cmlldmluZyBkYXRhOiAnLCBlcnJvcik7XG5cdFx0ICAgICAgICAkc2NvcGUudHdpdHRlckVycm9ycyA9IGVycm9yLmVycm9yO1xuXHRcdCAgICB9KVxuXHR9O1xuXG4gIC8vJHNjb3BlLmdldFVzZXIoKTtcblxuXG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCduYXZDdHJsJywgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRzY29wZSwgJGxvY2F0aW9uLCAkZG9jdW1lbnQpe1xuICAkc2NvcGUuc2Nyb2xsVG9wID0gZnVuY3Rpb24oKXtcbiAgICAkZG9jdW1lbnQuc2Nyb2xsVG9wQW5pbWF0ZWQoMCk7XG4gIH1cbiAgJHNjb3BlLmxpbmtUbyA9IGZ1bmN0aW9uKGlkKXtcblxuICAgICAgdmFyIHJvdXRlID0gJGxvY2F0aW9uLnVybCgpO1xuICAgICAgdmFyIG9mZnNldCA9IDYwO1xuICAgICAgdmFyIGR1cmF0aW9uID0gODAwO1xuICAgICAgdmFyIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoaWQpO1xuXG4gICAgICBpZihyb3V0ZSAhPT0gJy8nKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnYW5vdGhlciByb3V0ZSArICcgKyByb3V0ZSk7XG4gICAgICAgICRsb2NhdGlvbi51cmwoJy8nLCBmdW5jdGlvbigpe1xuICAgICAgICAgICRkb2N1bWVudC5zY3JvbGxUb0VsZW1lbnQoZWxlbWVudCwgb2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdzYW1lIHJvdXRlJyk7XG4gICAgICAgICRkb2N1bWVudC5zY3JvbGxUb0VsZW1lbnQoZWxlbWVudCwgb2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICB9XG5cbiAgICAgLy8kbG9jYXRpb24udXJsKGlkKTtcbiAgICAgLy8kYW5jaG9yU2Nyb2xsKCk7XG4gIH07XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCd3b3JrQ3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKXtcblxuICAkc2NvcGUudGVuZHJpbFNob3duID0gZmFsc2U7XG4gICRzY29wZS50b2dnbGVUZW5kcmlsID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnRlbmRyaWxTaG93biA9ICEkc2NvcGUudGVuZHJpbFNob3duO1xuICB9O1xuXG4gICRzY29wZS5jcm93blNob3cgPSBmYWxzZTtcbiAgJHNjb3BlLnRvZ2dsZUNyb3duID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmNyb3duU2hvdyA9ICEkc2NvcGUuY3Jvd25TaG93O1xuICB9O1xuXG4gICRzY29wZS5icm9hZFNob3cgPSBmYWxzZTtcbiAgJHNjb3BlLnRvZ2dsZUJyb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmJyb2FkU2hvdyA9ICEkc2NvcGUuYnJvYWRTaG93O1xuICB9O1xuXG4gICRzY29wZS5hZGlob3cgPSBmYWxzZTtcbiAgJHNjb3BlLnRvZ2dsZUFkaSA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5hZGlTaG93ID0gISRzY29wZS5hZGlTaG93O1xuICB9O1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuZmFjdG9yeSgnaWRlbnRpdHknLCBbJyR3aW5kb3cnLCAnbXZVc2VyJywgZnVuY3Rpb24oJHdpbmRvdywgbXZVc2VyKXtcblxuICB2YXIgY3VycmVudFVzZXI7XG4gIGlmKCEhJHdpbmRvdy5ib290c3RyYXBwZWRVc2VyT2JqZWN0KSB7XG4gICAgY3VycmVudFVzZXIgPSBuZXcgbXZVc2VyKCk7XG4gICAgYW5ndWxhci5leHRlbmQoY3VycmVudFVzZXIsICR3aW5kb3cuYm9vdHN0cmFwcGVkVXNlck9iamVjdCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50VXNlcjogY3VycmVudFVzZXIsXG4gICAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuICEhdGhpcy5jdXJyZW50VXNlcjtcbiAgICB9LFxuXG4gICAgaXNBdXRob3JpemVkOiBmdW5jdGlvbihyb2xlKXtcbiAgICAgIHJldHVybiAhIXRoaXMuY3VycmVudFVzZXIgJiYgdGhpcy5jdXJyZW50VXNlci5yb2xlcy5pbmRleE9mKHJvbGUpID4gLTE7XG4gICAgfVxuXG4gIH1cblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmNvbnRyb2xsZXIoJ2xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJyRodHRwJywgJ2lkZW50aXR5JywgJ25vdGlmaWVyJywgJ212QXV0aCcsICckbG9jYXRpb24nLCAnTWV0YScsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsIGlkZW50aXR5LCBub3RpZmllciwgbXZBdXRoLCAkbG9jYXRpb24sIE1ldGEpe1xuXG4gICAgd2luZG93LnNjcm9sbFRvKDAsMCk7XG4gICAgTWV0YS5zZXRUaXRsZSgnQWNjb3VudCcpO1xuXG4gICAgJHNjb3BlLmlkZW50aXR5ID0gaWRlbnRpdHk7XG5cbiAgICAkc2NvcGUuc2lnbkluID0gZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKXtcbiAgICAgIG12QXV0aC5hdXRoZW50aWNhdGVVc2VyKHVzZXJuYW1lLCBwYXNzd29yZCkudGhlbihmdW5jdGlvbihzdWNjZXNzKXtcbiAgICAgICAgaWYoc3VjY2Vzcyl7XG4gICAgICAgICAgbm90aWZpZXIubm90aWZ5KCdZb3UgaGF2ZSBzaWduZWQgaW4nKTtcbiAgICAgICAgICAkbG9jYXRpb24udXJsKCcvYWNjb3VudCcpO1xuICAgICAgICAgICRzY29wZS5hY3RTaG93biA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vdGlmaWVyLm5vdGlmeSgnVXNlcm5hbWUvUGFzc3dvcmQgSW5jb3JyZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbk91dCA9IGZ1bmN0aW9uKCl7XG4gICAgICBtdkF1dGgubG9nb3V0VXNlcigpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS51c2VybmFtZSA9ICcnO1xuICAgICAgICAkc2NvcGUucGFzc3dvcmQgPSAnJztcbiAgICAgICAgbm90aWZpZXIubm90aWZ5KCdZb3UgaGF2ZSBsb2dnZWQgb3V0Jyk7XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNpZ251cCA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmV3VXNlckRhdGEgPSB7XG4gICAgICAgIHVzZXJuYW1lOiAkc2NvcGUudXNlcm5hbWUsXG4gICAgICAgIGZpcnN0TmFtZTogJHNjb3BlLmZOYW1lLFxuICAgICAgICBsYXN0TmFtZTogJHNjb3BlLmxOYW1lLFxuICAgICAgICBwYXNzd29yZDogJHNjb3BlLnBhc3N3b3JkXG4gICAgICB9O1xuICAgICAgbXZBdXRoLmNyZWF0ZVVzZXIobmV3VXNlckRhdGEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgbm90aWZpZXIubm90aWZ5KCdVc2VyIGFjY291bnQgY3JlYXRlZCcpO1xuICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICBub3RpZmllci5lcnJvcihyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpe1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmFjdFNob3duID0gZmFsc2U7XG4gICAgJHNjb3BlLnRvZ2dsZUFjY291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKGlkZW50aXR5LmlzQXV0aGVudGljYXRlZCgpKXtcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hY2NvdW50Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUuYWN0U2hvd24gPSAhJHNjb3BlLmFjdFNob3duO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbnVwU2hvd24gPSBmYWxzZTtcbiAgICAkc2NvcGUudG9nZ2xlU2lnbnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuc2lnbnVwU2hvd24gPSAhJHNjb3BlLnNpZ251cFNob3duO1xuICAgIH07XG5cblxufV0pO1xuIiwiXG5hbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuZmFjdG9yeSgnbXZBdXRoJywgWyckaHR0cCcsICdpZGVudGl0eScsICckcScsICdtdlVzZXInLCBmdW5jdGlvbigkaHR0cCwgaWRlbnRpdHksICRxLCBtdlVzZXIpe1xuXG4gIHJldHVybiB7XG4gICAgLy8gdGhpcyB0aGluZyB3b3JraW5nXG4gICAgYXV0aGVudGljYXRlVXNlcjogZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKXtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLnBvc3QoJy9sb2dpbicsIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKXtcblxuICAgICAgICAgIHZhciB1c2VyID0gbmV3IG12VXNlcigpO1xuICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHVzZXIsIHJlc3BvbnNlLmRhdGEudXNlcik7XG4gICAgICAgICAgaWRlbnRpdHkuY3VycmVudFVzZXIgPSB1c2VyO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgbG9nb3V0VXNlcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cC5wb3N0KCcvbG9nb3V0Jywge2xvZ291dDogdHJ1ZX0pLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgaWRlbnRpdHkuY3VycmVudFVzZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgIH0sXG5cbiAgICBhdXRob3JpemVDdXJyZW50VXNlckZvclJvdXRlOiBmdW5jdGlvbihyb2xlKXtcbiAgICAgIGlmIChpZGVudGl0eS5pc0F1dGhvcml6ZWQoJ2FkbWluJykpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoJ25vdCBhdXRob3JpemVkJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGF1dGhvcml6ZUF1dGhldGljYXRlZFVzZXJGb3JSb3V0ZTogZnVuY3Rpb24oKXtcbiAgICAgIGlmIChpZGVudGl0eS5pc0F1dGhlbnRpY2F0ZWQoKSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgnbm90IGEgY3VycmVudCB1c2VyJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZVVzZXIgOiBmdW5jdGlvbihuZXdVc2VyRGF0YSkge1xuICAgICAgIHZhciBuZXdVc2VyID0gbmV3IG12VXNlcihuZXdVc2VyRGF0YSk7XG4gICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgIG5ld1VzZXIuJHNhdmUoKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICBpZGVudGl0eS5jdXJyZW50VXNlciA9IG5ld1VzZXI7XG4gICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlLmRhdGEucmVhc29uKTtcbiAgICAgICB9KTtcblxuICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICB1cGRhdGVDdXJyZW50VXNlcjogZnVuY3Rpb24obmV3VXNlckRhdGEpe1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICB2YXIgY2xvbmUgPSBhbmd1bGFyLmNvcHkoaWRlbnRpdHkuY3VycmVudFVzZXIpO1xuICAgICAgICBhbmd1bGFyLmV4dGVuZChjbG9uZSwgbmV3VXNlckRhdGEpO1xuICAgICAgICBjbG9uZS4kdXBkYXRlKCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgIGlkZW50aXR5LmN1cnJlbnRVc2VyID0gY2xvbmU7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlLmRhdGEucmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICB9Ly8gcmV0dXJuXG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5mYWN0b3J5KCdtdlVzZXInLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uKCRyZXNvdXJjZSl7XG5cbiAgdmFyIFVzZXJSZXNvdXJjZSA9ICRyZXNvdXJjZSgnL2FwaS91c2Vycy86aWQnLCB7X2lkIDogJ0BpZCd9LCB7XG4gICAgdXBkYXRlOiB7bWV0aG9kOiAnUFVUJywgaXNBcnJheTogZmFsc2V9XG4gIH0pO1xuXG4gIFVzZXJSZXNvdXJjZS5wcm90b3R5cGUuaXNBZG1pbiA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMucm9sZXMgJiYgdGhpcy5yb2xlcy5pbmRleE9mKCdhZG1pbicpID4gLTE7XG4gIH1cblxuICByZXR1cm4gVXNlclJlc291cmNlO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcignc2lnbnVwQ3RybCcsIFsnJHNjb3BlJywgJ212QXV0aCcsICdub3RpZmllcicsICckbG9jYXRpb24nLCBmdW5jdGlvbigkc2NvcGUsIG12QXV0aCwgbm90aWZpZXIsICRsb2NhdGlvbil7XG4gICAgJHNjb3BlLnNpZ251cCA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgIHZhciBuZXdVc2VyRGF0YSA9IHtcbiAgICAgICAgdXNlcm5hbWU6ICRzY29wZS51c2VybmFtZSxcbiAgICAgICAgZmlyc3ROYW1lOiAkc2NvcGUuZk5hbWUsXG4gICAgICAgIGxhc3ROYW1lOiAkc2NvcGUubE5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiAkc2NvcGUucGFzc3dvcmRcbiAgICAgIH07XG4gICAgICBtdkF1dGguY3JlYXRlVXNlcihuZXdVc2VyRGF0YSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICBub3RpZmllci5ub3RpZnkoJ1VzZXIgYWNjb3VudCBjcmVhdGVkJyk7XG4gICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIG5vdGlmaWVyLmVycm9yKHJlYXNvbik7XG4gICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcbiAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgfTtcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmRpcmVjdGl2ZSgnZ2xvYmFsTW9kYWwnLCBmdW5jdGlvbigpe1xuICByZXR1cm57XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBzY29wZToge1xuICAgICAgc2hvdzogJz0nXG4gICAgfSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgbGluayA6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XG4gICAgICBzY29wZS5kaWFsb2dTdHlsZSA9IHt9O1xuICAgICAgaWYoYXR0cnMud2lkdGgpXG4gICAgICAgIHNjb3BlLmRpYWxvZ1N0eWxlLndpZHRoID0gYXR0cnMud2lkdGg7XG4gICAgICBpZiAoYXR0cnMuaGVpZ2h0KVxuICAgICAgICBzY29wZS5kaWFsb2dTdHlsZS5oZWlnaHQgPSBhdHRycy5oZWlnaHQ7XG5cbiAgICAgIHNjb3BlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHNjb3BlLnNob3cgPSBmYWxzZTtcbiAgICAgIH07XG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9jb21tb24vbW9kYWwnXG4gIH1cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLnZhbHVlKCdUb2FzdHInLCB0b2FzdHIpO1xuXG5hbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuZmFjdG9yeSgnbm90aWZpZXInLCBbJ1RvYXN0cicsIGZ1bmN0aW9uKFRvYXN0cil7XG4gIHJldHVybiB7XG4gICAgbm90aWZ5OiBmdW5jdGlvbihtZXNzYWdlKXtcbiAgICAgIFRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UpO1xuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24obWVzc2FnZSl7XG4gICAgICBUb2FzdHIuZXJyb3IobWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICB9XG4gIH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5mYWN0b3J5KCdNZXRhJywgZnVuY3Rpb24oKXtcbiAgdmFyIHRpdGxlID0gJ1dlYiBEZXZlbG9wbWVudCwgRGVudmVyLCBDTyc7XG4gIHZhciBkZXNjID0gJ0kgZW5qb3kgYWxsIHRoaW5ncyB3ZWIgZGV2ZWxvcG1lbnQgYW5kIGFtIGFsd2F5cyBhY3RpdmVseSBsZWFybmluZyB0aGUgbmV3ZXN0IHRlY2huaXF1ZXMgYW5kIGxhbmdhdWdlcy4gSWYgeW91IGhhdmUgYSB3ZWIgZGVzaWduIG9yIGRldmVsb3BtZW50IHByb2plY3QsIGdpdmUgbWUgYSBzaG91dCwgSSB3b3VsZCBsb3ZlIHRvIHRhbGsgYWJvdXQgaXQuJztcbiAgcmV0dXJuIHtcbiAgICB0aXRsZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRpdGxlO30sXG4gICAgc2V0VGl0bGU6IGZ1bmN0aW9uKG5ld1RpdGxlKSB7IHRpdGxlID0gbmV3VGl0bGUgfSxcbiAgICBkZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7IHJldHVybiBkZXNjO30sXG4gICAgc2V0RGVzYyA6IGZ1bmN0aW9uKG5ld0Rlc2MpIHsgZGVzYyA9IG5ld0Rlc2N9XG4gIH1cbn0pXG4uY29udHJvbGxlcignbWV0YUN0cmwnLCBbJyRzY29wZScsICdNZXRhJywgZnVuY3Rpb24oJHNjb3BlLCBNZXRhKXtcbiAgJHNjb3BlLk1ldGEgPSBNZXRhO1xuICAkc2NvcGUubWV0YURlc2MgPSBNZXRhO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmZhY3RvcnkoJ1R3aXR0ZXJTZXJ2aWNlJywgWyckaHR0cCcsICckcScsIGZ1bmN0aW9uKCRodHRwLCAkcSl7XG5cbiAgdmFyIGdldFVzZXIgPSBmdW5jdGlvbih1c2VybmFtZSl7XG4gICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuXG4gICAgJGh0dHAucG9zdCgnL3R3aXR0ZXIvdXNlcicsIHt1c2VybmFtZSA6IHVzZXJuYW1lfSlcbiAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICByZXR1cm4gZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5lcnJvcihmdW5jdGlvbihlcnJvcil7XG4gICAgICAgIHJldHVybiBkLnJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRVc2VyIDogZ2V0VXNlclxuICAgIH1cbn1dKTtcbiJdfQ==
