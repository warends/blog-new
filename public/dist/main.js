angular.module("willsBlog",["ngResource","ngAnimate","ngSanitize","ui.router"]),angular.module("willsBlog").config(["$locationProvider","$stateProvider","$urlRouterProvider",function(e,t,o){o.otherwise("/"),e.html5Mode(!0),t.state("home",{url:"/",templateUrl:"/partials/main/main",controller:"mainCtrl"}).state("account",{url:"/account",templateUrl:"/partials/login/login",controller:"loginCtrl"}).state("signup",{url:"/signup",templateUrl:"/partials/login/signup",controller:"signupCtrl"}).state("blog",{url:"/blog",templateUrl:"/partials/blog/blog-list",controller:"blogListCtrl"}).state("profile",{url:"/profile",templateUrl:"/partials/admin/profile",controller:"profileCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeAutheticatedUserForRoute()}]}}).state("postDetail",{url:"/posts/:slug",templateUrl:"/partials/blog/post-detail",controller:"postDetailCtrl"}).state("newPost",{url:"/admin/new-post",templateUrl:"/partials/blog/new-post",controller:"newPostCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeCurrentUserForRoute("admin")}]}}).state("editPost",{url:"/admin/:slug/edit",templateUrl:"/partials/blog/edit-post",controller:"editPostCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeCurrentUserForRoute("admin")}]}}).state("users",{url:"/admin/users",templateUrl:"/partials/admin/users-list",controller:"userListCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeCurrentUserForRoute("admin")}]}})}]),angular.module("willsBlog").run(["$rootScope","$location",function(e,t){e.$on("$routeChangeError",function(e,o,n,r){"not authorized"===r&&t.path("/")})}]),angular.module("willsBlog").controller("profileCtrl",["$scope","mvAuth","identity","notifier",function(e,t,o,n){e.username=o.currentUser.username,e.fName=o.currentUser.firstName,e.lName=o.currentUser.lastName,e.update=function(){var o={username:e.username,firstName:e.fName,lastName:e.lName};e.password&&e.password.length>0&&(o.password=e.password),t.updateCurrentUser(o).then(function(){n.notify("Your information has been updated")},function(e){n.error(e)})}}]),angular.module("willsBlog").controller("userListCtrl",["$scope","mvUser",function(e,t){e.users=t.query()}]),angular.module("willsBlog").controller("blogListCtrl",["$scope","mvCachedPost","identity","$location","Meta",function(e,t,o,n,r){window.scrollTo(0,0),r.setTitle("Blog"),e.posts=t.query(),e.identity=o,e.sortOptions=[{value:"title",text:"Sort by Title"},{value:"published",text:"Published Date"}],e.sortOrder=e.sortOptions[0].value}]),angular.module("willsBlog").controller("editPostCtrl",["$scope","notifier","mvPost","$q","$location","$stateParams",function(e,t,o,n,r,a){e.post=o.get({slug:a.slug}),e.post.data={_id:e.post._id,title:e.post.title,slug:e.post.slug,categories:e.post.categories,headerImage:e.post.headerImage,excerpt:e.post.excerpt,body:e.post.body,author:e.post.author},e.updatePost=function(){e.post.$update({slug:e.post.slug},function(){t.notify("Your post has been updated"),r.path("/blog")},function(e){t.error(e.data)})},e.deletePost=function(){e.post.$delete({slug:e.post.slug},function(){t.notify("Deleted from server"),r.path("/blog")})}}]),angular.module("willsBlog").factory("mvCachedPost",["mvPost",function(e){var t;return{query:function(){return t||(t=e.query()),t}}}]),angular.module("willsBlog").factory("mvPost",["$resource",function(e){return e("/api/posts/:slug",{slug:"@slug"},{update:{method:"PUT"}},{stripTrailingSlashes:!1})}]),angular.module("willsBlog").controller("newPostCtrl",["$scope","notifier","mvPost","$location",function(e,t,o,n){e.post=new o,e.createNewPost=function(){e.post.$save(function(){t.notify("New Post Created"),n.path("/blog")})},e.cancel=function(){n.path("/blog")}}]),angular.module("willsBlog").controller("postDetailCtrl",["$scope","mvCachedPost","mvPost","$stateParams","Meta",function(e,t,o,n,r){window.scrollTo(0,0),e.post=o.get({slug:n.slug},function(){var t=e.post.title,o=e.post.excerpt;r.setTitle(t),r.setDesc(o)})}]),angular.module("willsBlog").directive("globalModal",function(){return{restrict:"E",scope:{show:"="},replace:!0,transclude:!0,link:function(e,t,o){e.dialogStyle={},o.width&&(e.dialogStyle.width=o.width),o.height&&(e.dialogStyle.height=o.height),e.hideModal=function(){e.show=!1}},templateUrl:"/partials/common/modal"}}),angular.module("willsBlog").value("Toastr",toastr),angular.module("willsBlog").factory("notifier",["Toastr",function(e){return{notify:function(t){e.success(t),console.log(t)},error:function(t){e.error(t),console.log(t)}}}]),angular.module("willsBlog").factory("Meta",function(){var e="Web Development, Denver, CO",t="I enjoy all things web development and am always actively learning the newest techniques and langauges. If you have a web design or development project, give me a shout, I would love to talk about it.";return{title:function(){return e},setTitle:function(t){e=t},description:function(){return t},setDesc:function(e){t=e}}}).controller("metaCtrl",["$scope","Meta",function(e,t){e.Meta=t,e.metaDesc=t}]),angular.module("willsBlog").factory("TwitterService",["$http","$q",function(e,t){var o=function(o){var n=t.defer();return e.post("/twitter/user",{username:o}).success(function(e){return n.resolve(e)}).error(function(e){return n.reject(e)}),n.promise};return{getUser:o}}]),angular.module("willsBlog").factory("identity",["$window","mvUser",function(e,t){var o;return e.bootstrappedUserObject&&(o=new t,angular.extend(o,e.bootstrappedUserObject)),{currentUser:o,isAuthenticated:function(){return!!this.currentUser},isAuthorized:function(e){return!!this.currentUser&&this.currentUser.roles.indexOf(e)>-1}}}]),angular.module("willsBlog").controller("loginCtrl",["$scope","$http","identity","notifier","mvAuth","$location","Meta",function(e,t,o,n,r,a,s){window.scrollTo(0,0),s.setTitle("Account"),e.identity=o,e.signIn=function(t,o){r.authenticateUser(t,o).then(function(t){t?(n.notify("You have signed in"),a.url("/account"),e.actShown=!1):n.notify("Username/Password Incorrect")})},e.signOut=function(){r.logoutUser().then(function(){e.username="",e.password="",n.notify("You have logged out"),a.path("/")})},e.signup=function(){var t={username:e.username,firstName:e.fName,lastName:e.lName,password:e.password};r.createUser(t).then(function(){n.notify("User account created"),a.path("/")},function(e){n.error(e)})},e.cancel=function(){a.path("/")},e.actShown=!1,e.toggleAccount=function(){o.isAuthenticated()?a.path("/account"):e.actShown=!e.actShown},e.signupShown=!1,e.toggleSignup=function(){e.signupShown=!e.signupShown}}]),angular.module("willsBlog").factory("mvAuth",["$http","identity","$q","mvUser",function(e,t,o,n){return{authenticateUser:function(r,a){var s=o.defer();return e.post("/login",{username:r,password:a}).then(function(e){if(e.data.success){var o=new n;angular.extend(o,e.data.user),t.currentUser=o,s.resolve(!0)}else s.resolve(!1)}),s.promise},logoutUser:function(){var n=o.defer();return e.post("/logout",{logout:!0}).then(function(){t.currentUser=void 0,n.resolve()}),n.promise},authorizeCurrentUserForRoute:function(e){return!!t.isAuthorized("admin")||o.reject("not authorized")},authorizeAutheticatedUserForRoute:function(){return!!t.isAuthenticated()||o.reject("not a current user")},createUser:function(e){var r=new n(e),a=o.defer();return r.$save().then(function(){t.currentUser=r,a.resolve()},function(e){a.reject(e.data.reason)}),a.promise},updateCurrentUser:function(e){var n=o.defer(),r=angular.copy(t.currentUser);return angular.extend(r,e),r.$update().then(function(){t.currentUser=r,n.resolve()},function(e){n.reject(e.data.reason)}),n.promise}}}]),angular.module("willsBlog").factory("mvUser",["$resource",function(e){var t=e("/api/users/:id",{_id:"@id"},{update:{method:"PUT",isArray:!1}});return t.prototype.isAdmin=function(){return this.roles&&this.roles.indexOf("admin")>-1},t}]),angular.module("willsBlog").controller("signupCtrl",["$scope","mvAuth","notifier","$location",function(e,t,o,n){e.signup=function(){var r={username:e.username,firstName:e.fName,lastName:e.lName,password:e.password};t.createUser(r).then(function(){o.notify("User account created"),n.path("/")},function(e){o.error(e)})},e.cancel=function(){n.path("/")}}]),angular.module("willsBlog").controller("carouselCtrl",["$scope",function(e){e.slides=[{name:"Mobile",svg:"mobile-svg",desc:"Is your website up to date with the most current mobile design trends? If not, you are loosing valuable business. Ensure that your customers can reach your business from anywhere and receive the best user experience. By building with responsive design in mind, your customers will get a pixel perfect look from mobile to tablet or desktop."},{name:"ECommerce",svg:"ecomm-svg",desc:"Do you have a new product you are looking to bring to market and need an e-commerce site or just looking for more modern feel to an existing site?  By utilizing robust ecommerce platforms, we can design and develop a site that will scale with your business and needs all in time to meet your busy deadlines. "},{name:"SEO",svg:"seo-svg",desc:"Having a modern design and user friendly website is great, but if customers can`t find your business, it wont matter much.  We design and develop every aspect of the website with search engine optimization in mind and so your customers can find you among the competition.  Also through research and analytics we can develop, plan and deploy the best SEO and marketing practices to increase conversions and retention."}],e.currentIndex=0,e.setCurrentSlideIndex=function(t){e.currentIndex=t},e.isCurrentSlideIndex=function(t){return e.currentIndex===t}}]).animation(".slide-animation",function(){return{addClass:function(e,t,o){"ng-hide"==t?TweenMax.to(e,.5,{left:-e.parent().width(),onComplete:o}):o()},removeClass:function(e,t,o){"ng-hide"==t?(e.removeClass("ng-hide"),TweenMax.set(e,{left:e.parent().width()}),TweenMax.to(e,.5,{left:0,onComplete:o})):o()}}}),angular.module("willsBlog").controller("mainCtrl",["$scope","$location","mvCachedPost","notifier","TwitterService","$http","Meta",function(e,t,o,n,r,a,s){s.setTitle("Home"),s.setDesc("I enjoy all things web development and am always actively learning the newest techniques and langauges. If you have a web design or development project, give me a shout, I would love to talk about it."),e.services=[{name:"Development",svg:"dev-logo",description:"Customized and reusable code using the most up to date HTML5, CSS3 and Javascript framworks. Options range from static sites, content managed sites, and ecommerce stores.",more:"Development Skills include HTML5, CSS, Javascript, Angular, Backbone, Node, Express, Boostrap and more."},{name:"Web Design",svg:"design-logo",description:"Creating an excellent user experience through clean, simple and thoroughly crafted design. Collaboration with clients during design process ensures a superb finished project.",more:"Services include wire frames, photoshop mockups, logo design, and company branding."},{name:"Support",svg:"sup-logo",description:"Support is readily available for clients when anything comes up along the development process. Also available are personal instruction on how to maintain or update your own site.",more:"Have a new product or feature you want to implement? Plans for continued support and maintenance are available."}],e.posts=o.query(),e.form={},e.sendMail=function(){var t={contactName:this.contactName,contactCompany:this.contactCompany,contactEmail:this.contactEmail,contactMessage:this.contactMessage};a.post("/contact-form",t).success(function(t,o,r,a){n.notify("Thank you for your message "+t.contactName),e.form.contactForm.$setPristine(),e.form.contactForm.$setUntouched()}).error(function(e,t,o,r){n.notify("There was an error processing your request. Please try again")}),this.contactName=null,this.contactCompany=null,this.contactEmail=null,this.contactMessage=null},e.getUser=function(t){r.getUser(t).then(function(t){e.twitterErrors=void 0,e.tweets=JSON.parse(t.result.userData)}).catch(function(t){console.error("there was an error retrieving data: ",t),e.twitterErrors=t.error})}}]),angular.module("willsBlog").controller("navCtrl",["$scope","$location","$anchorScroll",function(e,t,o){e.linkTo=function(e){t.url(e),o()}}]),angular.module("willsBlog").controller("workCtrl",["$scope",function(e){e.tendrilShown=!1,e.toggleTendril=function(){e.tendrilShown=!e.tendrilShown},e.crownShow=!1,e.toggleCrown=function(){e.crownShow=!e.crownShow},e.broadShow=!1,e.toggleBroad=function(){e.broadShow=!e.broadShow},e.adihow=!1,e.toggleAdi=function(){e.adiShow=!e.adiShow}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFkbWluL3Byb2ZpbGVDdHJsLmpzIiwiYWRtaW4vdXNlckxpc3RDdHJsLmpzIiwiYmxvZy9ibG9nTGlzdEN0cmwuanMiLCJibG9nL2VkaXRQb3N0Q3RybC5qcyIsImJsb2cvbXZDYWNoZWRQb3N0LmpzIiwiYmxvZy9tdlBvc3QuanMiLCJibG9nL25ld1Bvc3RDdHJsLmpzIiwiYmxvZy9wb3N0RGV0YWlsQ3RybC5qcyIsImNvbW1vbi9tb2RhbERpci5qcyIsImNvbW1vbi9ub3RpZmllci5qcyIsImNvbW1vbi9wYWdlLmpzIiwiY29tbW9uL3R3aXR0ZXIuanMiLCJsb2dpbi9pZGVudGl0eS5qcyIsImxvZ2luL2xvZ2luQ3RybC5qcyIsImxvZ2luL212QXV0aC5qcyIsImxvZ2luL212VXNlci5qcyIsImxvZ2luL3NpZ251cEN0cmwuanMiLCJtYWluL2Nhcm91c2VsQ3RybC5qcyIsIm1haW4vbWFpbkN0cmwuanMiLCJtYWluL25hdkN0cmwuanMiLCJtYWluL3dvcmtDdHJsLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkbG9jYXRpb25Qcm92aWRlciIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwiaHRtbDVNb2RlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJyZXNvbHZlIiwicm91dGVSb2xlQ2hlY2siLCJtdkF1dGgiLCJhdXRob3JpemVBdXRoZXRpY2F0ZWRVc2VyRm9yUm91dGUiLCJhdXRob3JpemVDdXJyZW50VXNlckZvclJvdXRlIiwicnVuIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsIiRvbiIsImV2dCIsImN1cnJlbnQiLCJwcmV2aW91cyIsInJlamVjdGlvbiIsInBhdGgiLCIkc2NvcGUiLCJpZGVudGl0eSIsIm5vdGlmaWVyIiwidXNlcm5hbWUiLCJjdXJyZW50VXNlciIsImZOYW1lIiwiZmlyc3ROYW1lIiwibE5hbWUiLCJsYXN0TmFtZSIsInVwZGF0ZSIsIm5ld1VzZXJEYXRhIiwicGFzc3dvcmQiLCJsZW5ndGgiLCJ1cGRhdGVDdXJyZW50VXNlciIsInRoZW4iLCJub3RpZnkiLCJyZWFzb24iLCJlcnJvciIsIm12VXNlciIsInVzZXJzIiwicXVlcnkiLCJtdkNhY2hlZFBvc3QiLCJNZXRhIiwid2luZG93Iiwic2Nyb2xsVG8iLCJzZXRUaXRsZSIsInBvc3RzIiwic29ydE9wdGlvbnMiLCJ2YWx1ZSIsInRleHQiLCJzb3J0T3JkZXIiLCJtdlBvc3QiLCIkcSIsIiRzdGF0ZVBhcmFtcyIsInBvc3QiLCJnZXQiLCJzbHVnIiwiZGF0YSIsIl9pZCIsInRpdGxlIiwiY2F0ZWdvcmllcyIsImhlYWRlckltYWdlIiwiZXhjZXJwdCIsImJvZHkiLCJhdXRob3IiLCJ1cGRhdGVQb3N0IiwiJHVwZGF0ZSIsImRlbGV0ZVBvc3QiLCIkZGVsZXRlIiwiZmFjdG9yeSIsInBvc3RMaXN0IiwiJHJlc291cmNlIiwibWV0aG9kIiwic3RyaXBUcmFpbGluZ1NsYXNoZXMiLCJjcmVhdGVOZXdQb3N0IiwiJHNhdmUiLCJjYW5jZWwiLCJkZXNjIiwic2V0RGVzYyIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJzaG93IiwicmVwbGFjZSIsInRyYW5zY2x1ZGUiLCJsaW5rIiwiZWxlbWVudCIsImF0dHJzIiwiZGlhbG9nU3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsImhpZGVNb2RhbCIsInRvYXN0ciIsIlRvYXN0ciIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsIm5ld1RpdGxlIiwiZGVzY3JpcHRpb24iLCJuZXdEZXNjIiwibWV0YURlc2MiLCIkaHR0cCIsImdldFVzZXIiLCJkIiwiZGVmZXIiLCJyZWplY3QiLCJwcm9taXNlIiwiJHdpbmRvdyIsImJvb3RzdHJhcHBlZFVzZXJPYmplY3QiLCJleHRlbmQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJ0aGlzIiwiaXNBdXRob3JpemVkIiwicm9sZSIsInJvbGVzIiwiaW5kZXhPZiIsInNpZ25JbiIsImF1dGhlbnRpY2F0ZVVzZXIiLCJhY3RTaG93biIsInNpZ25PdXQiLCJsb2dvdXRVc2VyIiwic2lnbnVwIiwiY3JlYXRlVXNlciIsInRvZ2dsZUFjY291bnQiLCJzaWdudXBTaG93biIsInRvZ2dsZVNpZ251cCIsImRlZmVycmVkIiwicmVzcG9uc2UiLCJ1c2VyIiwibG9nb3V0IiwidW5kZWZpbmVkIiwibmV3VXNlciIsImNsb25lIiwiY29weSIsIlVzZXJSZXNvdXJjZSIsImlzQXJyYXkiLCJwcm90b3R5cGUiLCJpc0FkbWluIiwic2xpZGVzIiwibmFtZSIsInN2ZyIsImN1cnJlbnRJbmRleCIsInNldEN1cnJlbnRTbGlkZUluZGV4IiwiaW5kZXgiLCJpc0N1cnJlbnRTbGlkZUluZGV4IiwiYW5pbWF0aW9uIiwiYWRkQ2xhc3MiLCJjbGFzc05hbWUiLCJkb25lIiwiVHdlZW5NYXgiLCJ0byIsImxlZnQiLCJwYXJlbnQiLCJvbkNvbXBsZXRlIiwicmVtb3ZlQ2xhc3MiLCJzZXQiLCJUd2l0dGVyU2VydmljZSIsInNlcnZpY2VzIiwibW9yZSIsImZvcm0iLCJzZW5kTWFpbCIsImNvbnRhY3ROYW1lIiwiY29udGFjdENvbXBhbnkiLCJjb250YWN0RW1haWwiLCJjb250YWN0TWVzc2FnZSIsInN0YXR1cyIsImhlYWRlcnMiLCJjb250YWN0Rm9ybSIsIiRzZXRQcmlzdGluZSIsIiRzZXRVbnRvdWNoZWQiLCJ0d2l0dGVyRXJyb3JzIiwidHdlZXRzIiwiSlNPTiIsInBhcnNlIiwicmVzdWx0IiwidXNlckRhdGEiLCJjYXRjaCIsIiRhbmNob3JTY3JvbGwiLCJsaW5rVG8iLCJpZCIsInRlbmRyaWxTaG93biIsInRvZ2dsZVRlbmRyaWwiLCJjcm93blNob3ciLCJ0b2dnbGVDcm93biIsImJyb2FkU2hvdyIsInRvZ2dsZUJyb2FkIiwiYWRpaG93IiwidG9nZ2xlQWRpIiwiYWRpU2hvdyJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsYUFBQSxhQUFBLFlBQUEsYUFBQSxjQUVB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QSxZQzVEQTNDLFFBQUFDLE9BQUEsYUFBQVUsV0FBQSxXQUFBLFNBQUEsWUFBQSxnQkFBQSxTQUFBZSxFQUFBUCxFQUFBcUssR0FDQTlKLEVBQUErSixPQUFBLFNBQUFDLEdBQ0F2SyxFQUFBVixJQUFBaUwsR0FDQUYsUUNIQXhMLFFBQUFDLE9BQUEsYUFBQVUsV0FBQSxZQUFBLFNBQUEsU0FBQWUsR0FFQUEsRUFBQWlLLGNBQUEsRUFDQWpLLEVBQUFrSyxjQUFBLFdBQ0FsSyxFQUFBaUssY0FBQWpLLEVBQUFpSyxjQUdBakssRUFBQW1LLFdBQUEsRUFDQW5LLEVBQUFvSyxZQUFBLFdBQ0FwSyxFQUFBbUssV0FBQW5LLEVBQUFtSyxXQUdBbkssRUFBQXFLLFdBQUEsRUFDQXJLLEVBQUFzSyxZQUFBLFdBQ0F0SyxFQUFBcUssV0FBQXJLLEVBQUFxSyxXQUdBckssRUFBQXVLLFFBQUEsRUFDQXZLLEVBQUF3SyxVQUFBLFdBQ0F4SyxFQUFBeUssU0FBQXpLLEVBQUF5SyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycsIFsnbmdSZXNvdXJjZScsICduZ0FuaW1hdGUnLCAnbmdTYW5pdGl6ZScsICd1aS5yb3V0ZXInXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb25maWcoWyckbG9jYXRpb25Qcm92aWRlcicsICckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCBmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlciwgJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcil7XG5cbiAgICB2YXIgcm91dGVSb2xlQ2hlY2tzID0ge1xuICAgICAgYWRtaW46IGZ1bmN0aW9uKG12QXV0aCl7XG4gICAgICAgICAgcmV0dXJuIG12QXV0aC5hdXRob3JpemVDdXJyZW50VXNlckZvclJvdXRlKCdhZG1pbicpO1xuICAgICAgfSxcbiAgICAgIHVzZXI6IGZ1bmN0aW9uKG12QXV0aCl7XG4gICAgICAgICAgcmV0dXJuIG12QXV0aC5hdXRob3JpemVBdXRoZXRpY2F0ZWRVc2VyRm9yUm91dGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG5cbiAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG5cbiAgICAkc3RhdGVQcm92aWRlclxuICAgIC5zdGF0ZSgnaG9tZScsIHtcbiAgICAgIHVybDogJy8nLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvbWFpbi9tYWluJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdtYWluQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnYWNjb3VudCcsIHtcbiAgICAgIHVybDogJy9hY2NvdW50JyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2xvZ2luL2xvZ2luJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ3NpZ251cCcsIHtcbiAgICAgIHVybDogJy9zaWdudXAnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvbG9naW4vc2lnbnVwJyxcbiAgICAgIGNvbnRyb2xsZXI6ICdzaWdudXBDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdibG9nJywge1xuICAgICAgdXJsOiAnL2Jsb2cnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYmxvZy9ibG9nLWxpc3QnLFxuICAgICAgY29udHJvbGxlcjogJ2Jsb2dMaXN0Q3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgncHJvZmlsZScsIHtcbiAgICAgIHVybDogJy9wcm9maWxlJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2FkbWluL3Byb2ZpbGUnLFxuICAgICAgY29udHJvbGxlcjogJ3Byb2ZpbGVDdHJsJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgcm91dGVSb2xlQ2hlY2s6IFsnbXZBdXRoJywgZnVuY3Rpb24obXZBdXRoKXtcbiAgICAgICAgICAgIHJldHVybiBtdkF1dGguYXV0aG9yaXplQXV0aGV0aWNhdGVkVXNlckZvclJvdXRlKCk7XG4gICAgICAgIH1cbiAgICAgIF19XG4gICAgfSlcbiAgICAuc3RhdGUoJ3Bvc3REZXRhaWwnLCB7IC8vdmlldyBzaW5nbGUgcG9zdFxuICAgICAgdXJsOiAnL3Bvc3RzLzpzbHVnJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2Jsb2cvcG9zdC1kZXRhaWwnLFxuICAgICAgY29udHJvbGxlcjogJ3Bvc3REZXRhaWxDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCduZXdQb3N0JywgeyAgLy9hZGRpbmcgYSBuZXcgcG9zdFxuICAgICAgdXJsOiAnL2FkbWluL25ldy1wb3N0JyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2Jsb2cvbmV3LXBvc3QnLFxuICAgICAgY29udHJvbGxlcjogJ25ld1Bvc3RDdHJsJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgcm91dGVSb2xlQ2hlY2s6IFsnbXZBdXRoJywgZnVuY3Rpb24obXZBdXRoKXtcbiAgICAgICAgICAgIHJldHVybiBtdkF1dGguYXV0aG9yaXplQ3VycmVudFVzZXJGb3JSb3V0ZSgnYWRtaW4nKTtcbiAgICAgICAgfVxuICAgICAgXX1cbiAgICB9KVxuICAgIC5zdGF0ZSgnZWRpdFBvc3QnLCB7ICAvL2VkaXQgcG9zdFxuICAgICAgdXJsOiAnL2FkbWluLzpzbHVnL2VkaXQnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYmxvZy9lZGl0LXBvc3QnLFxuICAgICAgY29udHJvbGxlcjogJ2VkaXRQb3N0Q3RybCcsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIHJvdXRlUm9sZUNoZWNrOiBbJ212QXV0aCcsIGZ1bmN0aW9uKG12QXV0aCl7XG4gICAgICAgICAgICByZXR1cm4gbXZBdXRoLmF1dGhvcml6ZUN1cnJlbnRVc2VyRm9yUm91dGUoJ2FkbWluJyk7XG4gICAgICAgIH1cbiAgICAgIF19XG4gICAgfSlcbiAgICAuc3RhdGUoJ3VzZXJzJywge1xuICAgICAgdXJsOiAnL2FkbWluL3VzZXJzJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2FkbWluL3VzZXJzLWxpc3QnLFxuICAgICAgY29udHJvbGxlcjogJ3VzZXJMaXN0Q3RybCcsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIHJvdXRlUm9sZUNoZWNrOiBbJ212QXV0aCcsIGZ1bmN0aW9uKG12QXV0aCl7XG4gICAgICAgICAgICByZXR1cm4gbXZBdXRoLmF1dGhvcml6ZUN1cnJlbnRVc2VyRm9yUm91dGUoJ2FkbWluJyk7XG4gICAgICAgIH1cbiAgICAgIF19XG4gICAgfSk7XG5cbn1dKTsvL2VuZCBjb25maWdcblxuXG5hbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykucnVuKFsnJHJvb3RTY29wZScsICckbG9jYXRpb24nLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkbG9jYXRpb24pe1xuXG4gICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VFcnJvcicsIGZ1bmN0aW9uKGV2dCwgY3VycmVudCwgcHJldmlvdXMsIHJlamVjdGlvbikge1xuICAgICAgaWYocmVqZWN0aW9uID09PSAnbm90IGF1dGhvcml6ZWQnKSB7XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgICB9XG4gIH0pO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcigncHJvZmlsZUN0cmwnLCBbJyRzY29wZScsICdtdkF1dGgnLCAnaWRlbnRpdHknLCAnbm90aWZpZXInLCBmdW5jdGlvbigkc2NvcGUsIG12QXV0aCwgaWRlbnRpdHksIG5vdGlmaWVyKXtcbiAgJHNjb3BlLnVzZXJuYW1lID0gaWRlbnRpdHkuY3VycmVudFVzZXIudXNlcm5hbWU7XG4gICRzY29wZS5mTmFtZSA9IGlkZW50aXR5LmN1cnJlbnRVc2VyLmZpcnN0TmFtZTtcbiAgJHNjb3BlLmxOYW1lID0gaWRlbnRpdHkuY3VycmVudFVzZXIubGFzdE5hbWU7XG5cbiAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmV3VXNlckRhdGEgPSB7XG4gICAgICAgIHVzZXJuYW1lOiAkc2NvcGUudXNlcm5hbWUsXG4gICAgICAgIGZpcnN0TmFtZTogJHNjb3BlLmZOYW1lLFxuICAgICAgICBsYXN0TmFtZTogJHNjb3BlLmxOYW1lXG4gICAgICB9XG5cbiAgICAgIGlmKCRzY29wZS5wYXNzd29yZCAmJiAkc2NvcGUucGFzc3dvcmQubGVuZ3RoID4gMCkge1xuICAgICAgIG5ld1VzZXJEYXRhLnBhc3N3b3JkID0gJHNjb3BlLnBhc3N3b3JkO1xuICAgICAgfVxuXG4gICAgICBtdkF1dGgudXBkYXRlQ3VycmVudFVzZXIobmV3VXNlckRhdGEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgbm90aWZpZXIubm90aWZ5KCdZb3VyIGluZm9ybWF0aW9uIGhhcyBiZWVuIHVwZGF0ZWQnKTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgICBub3RpZmllci5lcnJvcihyZWFzb24pO1xuICAgICAgICB9KTtcbiAgfVxuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcigndXNlckxpc3RDdHJsJywgWyckc2NvcGUnLCAnbXZVc2VyJywgZnVuY3Rpb24oJHNjb3BlLCBtdlVzZXIpe1xuICAkc2NvcGUudXNlcnMgPSBtdlVzZXIucXVlcnkoKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCdibG9nTGlzdEN0cmwnLCBbJyRzY29wZScsICdtdkNhY2hlZFBvc3QnLCAnaWRlbnRpdHknLCAnJGxvY2F0aW9uJywgJ01ldGEnLCAgZnVuY3Rpb24oJHNjb3BlLCBtdkNhY2hlZFBvc3QsIGlkZW50aXR5LCAkbG9jYXRpb24sIE1ldGEpe1xuXG4gIHdpbmRvdy5zY3JvbGxUbygwLDApO1xuXG4gIE1ldGEuc2V0VGl0bGUoJ0Jsb2cnKTtcblxuICAkc2NvcGUucG9zdHMgPSBtdkNhY2hlZFBvc3QucXVlcnkoKTtcblxuICAkc2NvcGUuaWRlbnRpdHkgPSBpZGVudGl0eTtcblxuICAkc2NvcGUuc29ydE9wdGlvbnM9IFtcbiAgICB7dmFsdWU6ICd0aXRsZScsIHRleHQ6ICdTb3J0IGJ5IFRpdGxlJ30sXG4gICAge3ZhbHVlOiAncHVibGlzaGVkJywgdGV4dDogJ1B1Ymxpc2hlZCBEYXRlJ31dO1xuXG4gICRzY29wZS5zb3J0T3JkZXIgPSAkc2NvcGUuc29ydE9wdGlvbnNbMF0udmFsdWU7XG59XSk7XG4iLCIgYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmNvbnRyb2xsZXIoJ2VkaXRQb3N0Q3RybCcsIFsnJHNjb3BlJywgJ25vdGlmaWVyJywgJ212UG9zdCcsICckcScsICckbG9jYXRpb24nLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24oJHNjb3BlLCBub3RpZmllciwgbXZQb3N0LCAkcSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMpe1xuXG4gICAgJHNjb3BlLnBvc3QgPSBtdlBvc3QuZ2V0KHsgc2x1ZzogJHN0YXRlUGFyYW1zLnNsdWcgfSk7XG5cbiAgICAkc2NvcGUucG9zdC5kYXRhID0ge1xuICAgICAgICBfaWQ6ICRzY29wZS5wb3N0Ll9pZCxcbiAgICAgICAgdGl0bGUgOiAkc2NvcGUucG9zdC50aXRsZSxcbiAgICAgICAgc2x1ZzogJHNjb3BlLnBvc3Quc2x1ZyxcbiAgICAgICAgY2F0ZWdvcmllcyA6ICRzY29wZS5wb3N0LmNhdGVnb3JpZXMsXG4gICAgICAgIGhlYWRlckltYWdlIDogJHNjb3BlLnBvc3QuaGVhZGVySW1hZ2UsXG4gICAgICAgIGV4Y2VycHQgOiAkc2NvcGUucG9zdC5leGNlcnB0LFxuICAgICAgICBib2R5IDogJHNjb3BlLnBvc3QuYm9keSxcbiAgICAgICAgYXV0aG9yOiAkc2NvcGUucG9zdC5hdXRob3JcbiAgICB9XG5cbiAgICAkc2NvcGUudXBkYXRlUG9zdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5wb3N0LiR1cGRhdGUoIHsgc2x1ZzogJHNjb3BlLnBvc3Quc2x1ZyB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgIG5vdGlmaWVyLm5vdGlmeSgnWW91ciBwb3N0IGhhcyBiZWVuIHVwZGF0ZWQnKTtcbiAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2Jsb2cnKTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgICBub3RpZmllci5lcnJvcihyZWFzb24uZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5kZWxldGVQb3N0ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5wb3N0LiRkZWxldGUoeyBzbHVnOiAkc2NvcGUucG9zdC5zbHVnIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICBub3RpZmllci5ub3RpZnkoJ0RlbGV0ZWQgZnJvbSBzZXJ2ZXInKTtcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9ibG9nJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5mYWN0b3J5KCdtdkNhY2hlZFBvc3QnLCBbJ212UG9zdCcsIGZ1bmN0aW9uKG12UG9zdCl7XG4gIHZhciBwb3N0TGlzdDtcblxuICByZXR1cm4ge1xuICAgIHF1ZXJ5OiBmdW5jdGlvbigpe1xuICAgICAgaWYoIXBvc3RMaXN0KXtcbiAgICAgICAgcG9zdExpc3QgPSBtdlBvc3QucXVlcnkoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBvc3RMaXN0O1xuICAgIH1cbiAgfVxuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuZmFjdG9yeSgnbXZQb3N0JywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbigkcmVzb3VyY2Upe1xuXG4gIHJldHVybiAkcmVzb3VyY2UoJy9hcGkvcG9zdHMvOnNsdWcnLCB7c2x1ZzogJ0BzbHVnJ30sIHtcbiAgICB1cGRhdGUgOiB7XG4gICAgICBtZXRob2Q6ICdQVVQnXG4gICAgfVxuICB9LCB7XG4gICAgc3RyaXBUcmFpbGluZ1NsYXNoZXM6IGZhbHNlXG4gIH0pO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcignbmV3UG9zdEN0cmwnLCBbJyRzY29wZScsICdub3RpZmllcicsICdtdlBvc3QnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24oJHNjb3BlLCBub3RpZmllciwgbXZQb3N0LCAkbG9jYXRpb24pe1xuXG4gICRzY29wZS5wb3N0ID0gbmV3IG12UG9zdCgpO1xuXG4gICRzY29wZS5jcmVhdGVOZXdQb3N0ID0gZnVuY3Rpb24oKXtcbiAgICAkc2NvcGUucG9zdC4kc2F2ZShmdW5jdGlvbigpe1xuICAgICAgICBub3RpZmllci5ub3RpZnkoJ05ldyBQb3N0IENyZWF0ZWQnKTtcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9ibG9nJyk7XG4gICAgfSk7XG4gIH1cblxuICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcbiAgICAkbG9jYXRpb24ucGF0aCgnL2Jsb2cnKTtcbiAgfTtcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmNvbnRyb2xsZXIoJ3Bvc3REZXRhaWxDdHJsJywgWyckc2NvcGUnLCAnbXZDYWNoZWRQb3N0JywgJ212UG9zdCcsICckc3RhdGVQYXJhbXMnLCAnTWV0YScsICBmdW5jdGlvbigkc2NvcGUsIG12Q2FjaGVkUG9zdCwgbXZQb3N0LCAkc3RhdGVQYXJhbXMsIE1ldGEpe1xuXG4gIHdpbmRvdy5zY3JvbGxUbygwLDApO1xuXG4gIC8vIG12Q2FjaGVkUG9zdC5xdWVyeSgpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24oY29sbGVjdGlvbil7XG4gIC8vICAgY29sbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uKHBvc3Qpe1xuICAvLyAgICAgaWYocG9zdC5faWQgPT09ICRzdGF0ZVBhcmFtcy5pZCl7XG4gIC8vICAgICAgICRzY29wZS5wb3N0ID0gcG9zdDtcbiAgLy8gICAgIH1cbiAgLy8gICB9KTtcbiAgLy8gfSk7XG5cbiAgICRzY29wZS5wb3N0ID0gbXZQb3N0LmdldCh7IHNsdWc6ICRzdGF0ZVBhcmFtcy5zbHVnIH0sIGZ1bmN0aW9uKCl7XG4gICAgIHZhciB0aXRsZSA9ICRzY29wZS5wb3N0LnRpdGxlO1xuICAgICB2YXIgZGVzYyA9ICRzY29wZS5wb3N0LmV4Y2VycHQ7XG4gICAgIE1ldGEuc2V0VGl0bGUodGl0bGUpO1xuICAgICBNZXRhLnNldERlc2MoZGVzYyk7XG4gICB9KTtcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmRpcmVjdGl2ZSgnZ2xvYmFsTW9kYWwnLCBmdW5jdGlvbigpe1xuICByZXR1cm57XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBzY29wZToge1xuICAgICAgc2hvdzogJz0nXG4gICAgfSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgbGluayA6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XG4gICAgICBzY29wZS5kaWFsb2dTdHlsZSA9IHt9O1xuICAgICAgaWYoYXR0cnMud2lkdGgpXG4gICAgICAgIHNjb3BlLmRpYWxvZ1N0eWxlLndpZHRoID0gYXR0cnMud2lkdGg7XG4gICAgICBpZiAoYXR0cnMuaGVpZ2h0KVxuICAgICAgICBzY29wZS5kaWFsb2dTdHlsZS5oZWlnaHQgPSBhdHRycy5oZWlnaHQ7XG5cbiAgICAgIHNjb3BlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHNjb3BlLnNob3cgPSBmYWxzZTtcbiAgICAgIH07XG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9jb21tb24vbW9kYWwnXG4gIH1cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLnZhbHVlKCdUb2FzdHInLCB0b2FzdHIpO1xuXG5hbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuZmFjdG9yeSgnbm90aWZpZXInLCBbJ1RvYXN0cicsIGZ1bmN0aW9uKFRvYXN0cil7XG4gIHJldHVybiB7XG4gICAgbm90aWZ5OiBmdW5jdGlvbihtZXNzYWdlKXtcbiAgICAgIFRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UpO1xuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24obWVzc2FnZSl7XG4gICAgICBUb2FzdHIuZXJyb3IobWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICB9XG4gIH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5mYWN0b3J5KCdNZXRhJywgZnVuY3Rpb24oKXtcbiAgdmFyIHRpdGxlID0gJ1dlYiBEZXZlbG9wbWVudCwgRGVudmVyLCBDTyc7XG4gIHZhciBkZXNjID0gJ0kgZW5qb3kgYWxsIHRoaW5ncyB3ZWIgZGV2ZWxvcG1lbnQgYW5kIGFtIGFsd2F5cyBhY3RpdmVseSBsZWFybmluZyB0aGUgbmV3ZXN0IHRlY2huaXF1ZXMgYW5kIGxhbmdhdWdlcy4gSWYgeW91IGhhdmUgYSB3ZWIgZGVzaWduIG9yIGRldmVsb3BtZW50IHByb2plY3QsIGdpdmUgbWUgYSBzaG91dCwgSSB3b3VsZCBsb3ZlIHRvIHRhbGsgYWJvdXQgaXQuJztcbiAgcmV0dXJuIHtcbiAgICB0aXRsZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRpdGxlO30sXG4gICAgc2V0VGl0bGU6IGZ1bmN0aW9uKG5ld1RpdGxlKSB7IHRpdGxlID0gbmV3VGl0bGUgfSxcbiAgICBkZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7IHJldHVybiBkZXNjO30sXG4gICAgc2V0RGVzYyA6IGZ1bmN0aW9uKG5ld0Rlc2MpIHsgZGVzYyA9IG5ld0Rlc2N9XG4gIH1cbn0pXG4uY29udHJvbGxlcignbWV0YUN0cmwnLCBbJyRzY29wZScsICdNZXRhJywgZnVuY3Rpb24oJHNjb3BlLCBNZXRhKXtcbiAgJHNjb3BlLk1ldGEgPSBNZXRhO1xuICAkc2NvcGUubWV0YURlc2MgPSBNZXRhO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmZhY3RvcnkoJ1R3aXR0ZXJTZXJ2aWNlJywgWyckaHR0cCcsICckcScsIGZ1bmN0aW9uKCRodHRwLCAkcSl7XG5cbiAgdmFyIGdldFVzZXIgPSBmdW5jdGlvbih1c2VybmFtZSl7XG4gICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuXG4gICAgJGh0dHAucG9zdCgnL3R3aXR0ZXIvdXNlcicsIHt1c2VybmFtZSA6IHVzZXJuYW1lfSlcbiAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICByZXR1cm4gZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5lcnJvcihmdW5jdGlvbihlcnJvcil7XG4gICAgICAgIHJldHVybiBkLnJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRVc2VyIDogZ2V0VXNlclxuICAgIH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5mYWN0b3J5KCdpZGVudGl0eScsIFsnJHdpbmRvdycsICdtdlVzZXInLCBmdW5jdGlvbigkd2luZG93LCBtdlVzZXIpe1xuXG4gIHZhciBjdXJyZW50VXNlcjtcbiAgaWYoISEkd2luZG93LmJvb3RzdHJhcHBlZFVzZXJPYmplY3QpIHtcbiAgICBjdXJyZW50VXNlciA9IG5ldyBtdlVzZXIoKTtcbiAgICBhbmd1bGFyLmV4dGVuZChjdXJyZW50VXNlciwgJHdpbmRvdy5ib290c3RyYXBwZWRVc2VyT2JqZWN0KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGN1cnJlbnRVc2VyOiBjdXJyZW50VXNlcixcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gISF0aGlzLmN1cnJlbnRVc2VyO1xuICAgIH0sXG5cbiAgICBpc0F1dGhvcml6ZWQ6IGZ1bmN0aW9uKHJvbGUpe1xuICAgICAgcmV0dXJuICEhdGhpcy5jdXJyZW50VXNlciAmJiB0aGlzLmN1cnJlbnRVc2VyLnJvbGVzLmluZGV4T2Yocm9sZSkgPiAtMTtcbiAgICB9XG5cbiAgfVxuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcignbG9naW5DdHJsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnaWRlbnRpdHknLCAnbm90aWZpZXInLCAnbXZBdXRoJywgJyRsb2NhdGlvbicsICdNZXRhJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgaWRlbnRpdHksIG5vdGlmaWVyLCBtdkF1dGgsICRsb2NhdGlvbiwgTWV0YSl7XG5cbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwwKTtcbiAgICBNZXRhLnNldFRpdGxlKCdBY2NvdW50Jyk7XG5cbiAgICAkc2NvcGUuaWRlbnRpdHkgPSBpZGVudGl0eTtcblxuICAgICRzY29wZS5zaWduSW4gPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpe1xuICAgICAgbXZBdXRoLmF1dGhlbnRpY2F0ZVVzZXIodXNlcm5hbWUsIHBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uKHN1Y2Nlc3Mpe1xuICAgICAgICBpZihzdWNjZXNzKXtcbiAgICAgICAgICBub3RpZmllci5ub3RpZnkoJ1lvdSBoYXZlIHNpZ25lZCBpbicpO1xuICAgICAgICAgICRsb2NhdGlvbi51cmwoJy9hY2NvdW50Jyk7XG4gICAgICAgICAgJHNjb3BlLmFjdFNob3duID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm90aWZpZXIubm90aWZ5KCdVc2VybmFtZS9QYXNzd29yZCBJbmNvcnJlY3QnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5zaWduT3V0ID0gZnVuY3Rpb24oKXtcbiAgICAgIG12QXV0aC5sb2dvdXRVc2VyKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnVzZXJuYW1lID0gJyc7XG4gICAgICAgICRzY29wZS5wYXNzd29yZCA9ICcnO1xuICAgICAgICBub3RpZmllci5ub3RpZnkoJ1lvdSBoYXZlIGxvZ2dlZCBvdXQnKTtcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbnVwID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBuZXdVc2VyRGF0YSA9IHtcbiAgICAgICAgdXNlcm5hbWU6ICRzY29wZS51c2VybmFtZSxcbiAgICAgICAgZmlyc3ROYW1lOiAkc2NvcGUuZk5hbWUsXG4gICAgICAgIGxhc3ROYW1lOiAkc2NvcGUubE5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiAkc2NvcGUucGFzc3dvcmRcbiAgICAgIH07XG4gICAgICBtdkF1dGguY3JlYXRlVXNlcihuZXdVc2VyRGF0YSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICBub3RpZmllci5ub3RpZnkoJ1VzZXIgYWNjb3VudCBjcmVhdGVkJyk7XG4gICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIG5vdGlmaWVyLmVycm9yKHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuYWN0U2hvd24gPSBmYWxzZTtcbiAgICAkc2NvcGUudG9nZ2xlQWNjb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoaWRlbnRpdHkuaXNBdXRoZW50aWNhdGVkKCkpe1xuICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FjY291bnQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRzY29wZS5hY3RTaG93biA9ICEkc2NvcGUuYWN0U2hvd247XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zaWdudXBTaG93biA9IGZhbHNlO1xuICAgICRzY29wZS50b2dnbGVTaWdudXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5zaWdudXBTaG93biA9ICEkc2NvcGUuc2lnbnVwU2hvd247XG4gICAgfTtcblxuXG59XSk7XG4iLCJcbmFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5mYWN0b3J5KCdtdkF1dGgnLCBbJyRodHRwJywgJ2lkZW50aXR5JywgJyRxJywgJ212VXNlcicsIGZ1bmN0aW9uKCRodHRwLCBpZGVudGl0eSwgJHEsIG12VXNlcil7XG5cbiAgcmV0dXJuIHtcbiAgICAvLyB0aGlzIHRoaW5nIHdvcmtpbmdcbiAgICBhdXRoZW50aWNhdGVVc2VyOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpe1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAucG9zdCgnL2xvZ2luJywge1xuICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3Mpe1xuXG4gICAgICAgICAgdmFyIHVzZXIgPSBuZXcgbXZVc2VyKCk7XG4gICAgICAgICAgYW5ndWxhci5leHRlbmQodXNlciwgcmVzcG9uc2UuZGF0YS51c2VyKTtcbiAgICAgICAgICBpZGVudGl0eS5jdXJyZW50VXNlciA9IHVzZXI7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICBsb2dvdXRVc2VyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLnBvc3QoJy9sb2dvdXQnLCB7bG9nb3V0OiB0cnVlfSkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICBpZGVudGl0eS5jdXJyZW50VXNlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgfSxcblxuICAgIGF1dGhvcml6ZUN1cnJlbnRVc2VyRm9yUm91dGU6IGZ1bmN0aW9uKHJvbGUpe1xuICAgICAgaWYgKGlkZW50aXR5LmlzQXV0aG9yaXplZCgnYWRtaW4nKSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgnbm90IGF1dGhvcml6ZWQnKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXV0aG9yaXplQXV0aGV0aWNhdGVkVXNlckZvclJvdXRlOiBmdW5jdGlvbigpe1xuICAgICAgaWYgKGlkZW50aXR5LmlzQXV0aGVudGljYXRlZCgpKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KCdub3QgYSBjdXJyZW50IHVzZXInKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY3JlYXRlVXNlciA6IGZ1bmN0aW9uKG5ld1VzZXJEYXRhKSB7XG4gICAgICAgdmFyIG5ld1VzZXIgPSBuZXcgbXZVc2VyKG5ld1VzZXJEYXRhKTtcbiAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgbmV3VXNlci4kc2F2ZSgpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgIGlkZW50aXR5LmN1cnJlbnRVc2VyID0gbmV3VXNlcjtcbiAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICBkZWZlcnJlZC5yZWplY3QocmVzcG9uc2UuZGF0YS5yZWFzb24pO1xuICAgICAgIH0pO1xuXG4gICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfSxcblxuICAgIHVwZGF0ZUN1cnJlbnRVc2VyOiBmdW5jdGlvbihuZXdVc2VyRGF0YSl7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIHZhciBjbG9uZSA9IGFuZ3VsYXIuY29weShpZGVudGl0eS5jdXJyZW50VXNlcik7XG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGNsb25lLCBuZXdVc2VyRGF0YSk7XG4gICAgICAgIGNsb25lLiR1cGRhdGUoKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgaWRlbnRpdHkuY3VycmVudFVzZXIgPSBjbG9uZTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QocmVzcG9uc2UuZGF0YS5yZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gIH0vLyByZXR1cm5cblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmZhY3RvcnkoJ212VXNlcicsIFsnJHJlc291cmNlJywgZnVuY3Rpb24oJHJlc291cmNlKXtcblxuICB2YXIgVXNlclJlc291cmNlID0gJHJlc291cmNlKCcvYXBpL3VzZXJzLzppZCcsIHtfaWQgOiAnQGlkJ30sIHtcbiAgICB1cGRhdGU6IHttZXRob2Q6ICdQVVQnLCBpc0FycmF5OiBmYWxzZX1cbiAgfSk7XG5cbiAgVXNlclJlc291cmNlLnByb3RvdHlwZS5pc0FkbWluID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5yb2xlcyAmJiB0aGlzLnJvbGVzLmluZGV4T2YoJ2FkbWluJykgPiAtMTtcbiAgfVxuXG4gIHJldHVybiBVc2VyUmVzb3VyY2U7XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCdzaWdudXBDdHJsJywgWyckc2NvcGUnLCAnbXZBdXRoJywgJ25vdGlmaWVyJywgJyRsb2NhdGlvbicsIGZ1bmN0aW9uKCRzY29wZSwgbXZBdXRoLCBub3RpZmllciwgJGxvY2F0aW9uKXtcbiAgICAkc2NvcGUuc2lnbnVwID0gZnVuY3Rpb24oKXtcblxuICAgICAgdmFyIG5ld1VzZXJEYXRhID0ge1xuICAgICAgICB1c2VybmFtZTogJHNjb3BlLnVzZXJuYW1lLFxuICAgICAgICBmaXJzdE5hbWU6ICRzY29wZS5mTmFtZSxcbiAgICAgICAgbGFzdE5hbWU6ICRzY29wZS5sTmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6ICRzY29wZS5wYXNzd29yZFxuICAgICAgfTtcbiAgICAgIG12QXV0aC5jcmVhdGVVc2VyKG5ld1VzZXJEYXRhKVxuICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgIG5vdGlmaWVyLm5vdGlmeSgnVXNlciBhY2NvdW50IGNyZWF0ZWQnKTtcbiAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgbm90aWZpZXIuZXJyb3IocmVhc29uKTtcbiAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpe1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICB9O1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcignY2Fyb3VzZWxDdHJsJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpe1xuICAkc2NvcGUuc2xpZGVzID0gW1xuICAgIHsgbmFtZTogJ01vYmlsZScsXG4gICAgc3ZnOiAnbW9iaWxlLXN2ZycsXG4gICAgZGVzYzogJ0lzIHlvdXIgd2Vic2l0ZSB1cCB0byBkYXRlIHdpdGggdGhlIG1vc3QgY3VycmVudCBtb2JpbGUgZGVzaWduIHRyZW5kcz8gSWYgbm90LCB5b3UgYXJlIGxvb3NpbmcgdmFsdWFibGUgYnVzaW5lc3MuIEVuc3VyZSB0aGF0IHlvdXIgY3VzdG9tZXJzIGNhbiByZWFjaCB5b3VyIGJ1c2luZXNzIGZyb20gYW55d2hlcmUgYW5kIHJlY2VpdmUgdGhlIGJlc3QgdXNlciBleHBlcmllbmNlLiBCeSBidWlsZGluZyB3aXRoIHJlc3BvbnNpdmUgZGVzaWduIGluIG1pbmQsIHlvdXIgY3VzdG9tZXJzIHdpbGwgZ2V0IGEgcGl4ZWwgcGVyZmVjdCBsb29rIGZyb20gbW9iaWxlIHRvIHRhYmxldCBvciBkZXNrdG9wLicgfSxcblxuICAgIHsgbmFtZTogJ0VDb21tZXJjZScsXG4gICAgc3ZnOiAnZWNvbW0tc3ZnJyxcbiAgICBkZXNjOiAnRG8geW91IGhhdmUgYSBuZXcgcHJvZHVjdCB5b3UgYXJlIGxvb2tpbmcgdG8gYnJpbmcgdG8gbWFya2V0IGFuZCBuZWVkIGFuIGUtY29tbWVyY2Ugc2l0ZSBvciBqdXN0IGxvb2tpbmcgZm9yIG1vcmUgbW9kZXJuIGZlZWwgdG8gYW4gZXhpc3Rpbmcgc2l0ZT8gIEJ5IHV0aWxpemluZyByb2J1c3QgZWNvbW1lcmNlIHBsYXRmb3Jtcywgd2UgY2FuIGRlc2lnbiBhbmQgZGV2ZWxvcCBhIHNpdGUgdGhhdCB3aWxsIHNjYWxlIHdpdGggeW91ciBidXNpbmVzcyBhbmQgbmVlZHMgYWxsIGluIHRpbWUgdG8gbWVldCB5b3VyIGJ1c3kgZGVhZGxpbmVzLiAnIH0sXG5cbiAgICB7IG5hbWU6ICdTRU8nLFxuICAgIHN2ZzogJ3Nlby1zdmcnLFxuICAgIGRlc2M6ICdIYXZpbmcgYSBtb2Rlcm4gZGVzaWduIGFuZCB1c2VyIGZyaWVuZGx5IHdlYnNpdGUgaXMgZ3JlYXQsIGJ1dCBpZiBjdXN0b21lcnMgY2FuYHQgZmluZCB5b3VyIGJ1c2luZXNzLCBpdCB3b250IG1hdHRlciBtdWNoLiAgV2UgZGVzaWduIGFuZCBkZXZlbG9wIGV2ZXJ5IGFzcGVjdCBvZiB0aGUgd2Vic2l0ZSB3aXRoIHNlYXJjaCBlbmdpbmUgb3B0aW1pemF0aW9uIGluIG1pbmQgYW5kIHNvIHlvdXIgY3VzdG9tZXJzIGNhbiBmaW5kIHlvdSBhbW9uZyB0aGUgY29tcGV0aXRpb24uICBBbHNvIHRocm91Z2ggcmVzZWFyY2ggYW5kIGFuYWx5dGljcyB3ZSBjYW4gZGV2ZWxvcCwgcGxhbiBhbmQgZGVwbG95IHRoZSBiZXN0IFNFTyBhbmQgbWFya2V0aW5nIHByYWN0aWNlcyB0byBpbmNyZWFzZSBjb252ZXJzaW9ucyBhbmQgcmV0ZW50aW9uLicgfVxuXG4gIF07XG5cbiAgJHNjb3BlLmN1cnJlbnRJbmRleCA9IDA7XG4gICRzY29wZS5zZXRDdXJyZW50U2xpZGVJbmRleCA9IGZ1bmN0aW9uKGluZGV4KXtcbiAgICAkc2NvcGUuY3VycmVudEluZGV4ID0gaW5kZXg7XG4gIH1cbiAgJHNjb3BlLmlzQ3VycmVudFNsaWRlSW5kZXggPSBmdW5jdGlvbihpbmRleCl7XG4gICAgcmV0dXJuICRzY29wZS5jdXJyZW50SW5kZXggPT09IGluZGV4O1xuICB9XG59XSlcblxuLmFuaW1hdGlvbignLnNsaWRlLWFuaW1hdGlvbicsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiB7XG4gICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSl7XG4gICAgICBpZiAoY2xhc3NOYW1lID09ICduZy1oaWRlJyl7XG4gICAgICAgICAgVHdlZW5NYXgudG8oZWxlbWVudCwgMC41LCB7bGVmdDogLWVsZW1lbnQucGFyZW50KCkud2lkdGgoKSwgb25Db21wbGV0ZTogZG9uZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpe1xuICAgICAgaWYoY2xhc3NOYW1lID09ICduZy1oaWRlJyl7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ25nLWhpZGUnKTtcbiAgICAgICAgVHdlZW5NYXguc2V0KGVsZW1lbnQsIHsgbGVmdDogZWxlbWVudC5wYXJlbnQoKS53aWR0aCgpIH0pO1xuICAgICAgICBUd2Vlbk1heC50byhlbGVtZW50LCAwLjUsIHtsZWZ0OiAwLCBvbkNvbXBsZXRlOiBkb25lIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcignbWFpbkN0cmwnLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnbXZDYWNoZWRQb3N0JywgJ25vdGlmaWVyJyAsJ1R3aXR0ZXJTZXJ2aWNlJywgJyRodHRwJywgJ01ldGEnLCBmdW5jdGlvbigkc2NvcGUsICRsb2NhdGlvbiwgbXZDYWNoZWRQb3N0LCBub3RpZmllciwgVHdpdHRlclNlcnZpY2UsICRodHRwLCBNZXRhKXtcblxuICBNZXRhLnNldFRpdGxlKCdIb21lJyk7XG4gIE1ldGEuc2V0RGVzYygnSSBlbmpveSBhbGwgdGhpbmdzIHdlYiBkZXZlbG9wbWVudCBhbmQgYW0gYWx3YXlzIGFjdGl2ZWx5IGxlYXJuaW5nIHRoZSBuZXdlc3QgdGVjaG5pcXVlcyBhbmQgbGFuZ2F1Z2VzLiBJZiB5b3UgaGF2ZSBhIHdlYiBkZXNpZ24gb3IgZGV2ZWxvcG1lbnQgcHJvamVjdCwgZ2l2ZSBtZSBhIHNob3V0LCBJIHdvdWxkIGxvdmUgdG8gdGFsayBhYm91dCBpdC4nKTtcblxuICAkc2NvcGUuc2VydmljZXMgPSBbXG4gICAgeyBuYW1lOiAnRGV2ZWxvcG1lbnQnLFxuICAgIHN2ZzogJ2Rldi1sb2dvJyxcbiAgICBkZXNjcmlwdGlvbjogJ0N1c3RvbWl6ZWQgYW5kIHJldXNhYmxlIGNvZGUgdXNpbmcgdGhlIG1vc3QgdXAgdG8gZGF0ZSBIVE1MNSwgQ1NTMyBhbmQgSmF2YXNjcmlwdCBmcmFtd29ya3MuIE9wdGlvbnMgcmFuZ2UgZnJvbSBzdGF0aWMgc2l0ZXMsIGNvbnRlbnQgbWFuYWdlZCBzaXRlcywgYW5kIGVjb21tZXJjZSBzdG9yZXMuJyxcbiAgICBtb3JlOiAnRGV2ZWxvcG1lbnQgU2tpbGxzIGluY2x1ZGUgSFRNTDUsIENTUywgSmF2YXNjcmlwdCwgQW5ndWxhciwgQmFja2JvbmUsIE5vZGUsIEV4cHJlc3MsIEJvb3N0cmFwIGFuZCBtb3JlLicgfSxcblxuICAgIHsgbmFtZTogJ1dlYiBEZXNpZ24nLFxuICAgIHN2ZzogJ2Rlc2lnbi1sb2dvJyxcbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0aW5nIGFuIGV4Y2VsbGVudCB1c2VyIGV4cGVyaWVuY2UgdGhyb3VnaCBjbGVhbiwgc2ltcGxlIGFuZCB0aG9yb3VnaGx5IGNyYWZ0ZWQgZGVzaWduLiBDb2xsYWJvcmF0aW9uIHdpdGggY2xpZW50cyBkdXJpbmcgZGVzaWduIHByb2Nlc3MgZW5zdXJlcyBhIHN1cGVyYiBmaW5pc2hlZCBwcm9qZWN0LicsXG4gICAgbW9yZTogJ1NlcnZpY2VzIGluY2x1ZGUgd2lyZSBmcmFtZXMsIHBob3Rvc2hvcCBtb2NrdXBzLCBsb2dvIGRlc2lnbiwgYW5kIGNvbXBhbnkgYnJhbmRpbmcuJyB9LFxuXG4gICAgeyBuYW1lOiAnU3VwcG9ydCcsXG4gICAgc3ZnOiAnc3VwLWxvZ28nLFxuICAgIGRlc2NyaXB0aW9uOiAnU3VwcG9ydCBpcyByZWFkaWx5IGF2YWlsYWJsZSBmb3IgY2xpZW50cyB3aGVuIGFueXRoaW5nIGNvbWVzIHVwIGFsb25nIHRoZSBkZXZlbG9wbWVudCBwcm9jZXNzLiBBbHNvIGF2YWlsYWJsZSBhcmUgcGVyc29uYWwgaW5zdHJ1Y3Rpb24gb24gaG93IHRvIG1haW50YWluIG9yIHVwZGF0ZSB5b3VyIG93biBzaXRlLicsXG4gICAgbW9yZTogJ0hhdmUgYSBuZXcgcHJvZHVjdCBvciBmZWF0dXJlIHlvdSB3YW50IHRvIGltcGxlbWVudD8gUGxhbnMgZm9yIGNvbnRpbnVlZCBzdXBwb3J0IGFuZCBtYWludGVuYW5jZSBhcmUgYXZhaWxhYmxlLicgfVxuXG4gIF07XG5cbiAgJHNjb3BlLnBvc3RzID0gbXZDYWNoZWRQb3N0LnF1ZXJ5KCk7XG5cbiAgJHNjb3BlLmZvcm0gPSB7fTtcblxuICAkc2NvcGUuc2VuZE1haWwgPSBmdW5jdGlvbigpe1xuICAgIHZhciBkYXRhID0oe1xuICAgICAgY29udGFjdE5hbWUgOiB0aGlzLmNvbnRhY3ROYW1lLFxuICAgICAgY29udGFjdENvbXBhbnkgOiB0aGlzLmNvbnRhY3RDb21wYW55LFxuICAgICAgY29udGFjdEVtYWlsIDogdGhpcy5jb250YWN0RW1haWwsXG4gICAgICBjb250YWN0TWVzc2FnZSA6IHRoaXMuY29udGFjdE1lc3NhZ2VcbiAgICB9KTtcblxuICAgICRodHRwLnBvc3QoJy9jb250YWN0LWZvcm0nLCBkYXRhKVxuICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpe1xuICAgICAgICBub3RpZmllci5ub3RpZnkoJ1RoYW5rIHlvdSBmb3IgeW91ciBtZXNzYWdlICcgKyBkYXRhLmNvbnRhY3ROYW1lKTtcbiAgICAgICAgICAgJHNjb3BlLmZvcm0uY29udGFjdEZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgICAgICAgICRzY29wZS5mb3JtLmNvbnRhY3RGb3JtLiRzZXRVbnRvdWNoZWQoKTtcbiAgICAgIH0pXG4gICAgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpe1xuICAgICAgICBub3RpZmllci5ub3RpZnkoJ1RoZXJlIHdhcyBhbiBlcnJvciBwcm9jZXNzaW5nIHlvdXIgcmVxdWVzdC4gUGxlYXNlIHRyeSBhZ2FpbicpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNvbnRhY3ROYW1lID0gbnVsbDtcbiAgICAgIHRoaXMuY29udGFjdENvbXBhbnkgPSBudWxsO1xuICAgICAgdGhpcy5jb250YWN0RW1haWwgPSBudWxsO1xuICAgICAgdGhpcy5jb250YWN0TWVzc2FnZSA9IG51bGw7XG5cbiAgfVxuXG4gICRzY29wZS5nZXRVc2VyID0gZnVuY3Rpb24odXNlcm5hbWUpe1xuXHRcdFR3aXR0ZXJTZXJ2aWNlLmdldFVzZXIodXNlcm5hbWUpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuXHRcdCAgICAgICAgJHNjb3BlLnR3aXR0ZXJFcnJvcnMgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgXHQkc2NvcGUudHdlZXRzID0gSlNPTi5wYXJzZShkYXRhLnJlc3VsdC51c2VyRGF0YSk7XG5cdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZygkc2NvcGUudHdlZXRzKTtcblx0XHQgICAgfSlcblx0XHQgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKXtcblx0XHQgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3RoZXJlIHdhcyBhbiBlcnJvciByZXRyaWV2aW5nIGRhdGE6ICcsIGVycm9yKTtcblx0XHQgICAgICAgICRzY29wZS50d2l0dGVyRXJyb3JzID0gZXJyb3IuZXJyb3I7XG5cdFx0ICAgIH0pXG5cdH07XG5cbiAgLy8kc2NvcGUuZ2V0VXNlcigpO1xuXG5cblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmNvbnRyb2xsZXIoJ25hdkN0cmwnLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKXtcbiAgJHNjb3BlLmxpbmtUbyA9IGZ1bmN0aW9uKGlkKXtcbiAgICAkbG9jYXRpb24udXJsKGlkKTtcbiAgICAkYW5jaG9yU2Nyb2xsKCk7XG4gIH07XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCd3b3JrQ3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKXtcblxuICAkc2NvcGUudGVuZHJpbFNob3duID0gZmFsc2U7XG4gICRzY29wZS50b2dnbGVUZW5kcmlsID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnRlbmRyaWxTaG93biA9ICEkc2NvcGUudGVuZHJpbFNob3duO1xuICB9O1xuXG4gICRzY29wZS5jcm93blNob3cgPSBmYWxzZTtcbiAgJHNjb3BlLnRvZ2dsZUNyb3duID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmNyb3duU2hvdyA9ICEkc2NvcGUuY3Jvd25TaG93O1xuICB9O1xuXG4gICRzY29wZS5icm9hZFNob3cgPSBmYWxzZTtcbiAgJHNjb3BlLnRvZ2dsZUJyb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmJyb2FkU2hvdyA9ICEkc2NvcGUuYnJvYWRTaG93O1xuICB9O1xuXG4gICRzY29wZS5hZGlob3cgPSBmYWxzZTtcbiAgJHNjb3BlLnRvZ2dsZUFkaSA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5hZGlTaG93ID0gISRzY29wZS5hZGlTaG93O1xuICB9O1xuXG59XSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
