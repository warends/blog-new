angular.module("willsBlog",["ngResource","ngAnimate","ngSanitize","ui.router","duScroll"]),angular.module("willsBlog").config(["$locationProvider","$stateProvider","$urlRouterProvider",function(e,t,o){o.otherwise("/"),e.html5Mode(!0),t.state("home",{url:"/",templateUrl:"/partials/main/main",controller:"mainCtrl"}).state("account",{url:"/account",templateUrl:"/partials/login/login",controller:"loginCtrl"}).state("signup",{url:"/signup",templateUrl:"/partials/login/signup",controller:"signupCtrl"}).state("posts",{url:"/posts",templateUrl:"/partials/blog/blog-list",controller:"blogListCtrl"}).state("profile",{url:"/profile",templateUrl:"/partials/admin/profile",controller:"profileCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeAutheticatedUserForRoute()}]}}).state("postDetail",{url:"/posts/:slug",templateUrl:"/partials/blog/post-detail",controller:"postDetailCtrl"}).state("newPost",{url:"/admin/new-post",templateUrl:"/partials/blog/new-post",controller:"newPostCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeCurrentUserForRoute("admin")}]}}).state("editPost",{url:"/admin/:slug/edit",templateUrl:"/partials/blog/edit-post",controller:"editPostCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeCurrentUserForRoute("admin")}]}}).state("users",{url:"/admin/users",templateUrl:"/partials/admin/users-list",controller:"userListCtrl",resolve:{routeRoleCheck:["mvAuth",function(e){return e.authorizeCurrentUserForRoute("admin")}]}})}]),angular.module("willsBlog").run(["$rootScope","$location","$stateParams",function(e,t,o){e.$on("$stateChangeError",function(e,o,n,r){"not authorized"===r&&t.path("/")}),e.$on("$stateChangeSuccess",function(e,t,o){window.scrollTo(0,0)})}]),angular.module("willsBlog").controller("profileCtrl",["$scope","mvAuth","identity","notifier",function(e,t,o,n){e.username=o.currentUser.username,e.fName=o.currentUser.firstName,e.lName=o.currentUser.lastName,e.update=function(){var o={username:e.username,firstName:e.fName,lastName:e.lName};e.password&&e.password.length>0&&(o.password=e.password),t.updateCurrentUser(o).then(function(){n.notify("Your information has been updated")},function(e){n.error(e)})}}]),angular.module("willsBlog").controller("userListCtrl",["$scope","mvUser",function(e,t){e.users=t.query()}]),angular.module("willsBlog").controller("blogListCtrl",["$scope","mvCachedPost","identity","$location","Meta",function(e,t,o,n,r){r.setTitle("Blog"),e.posts=t.query(),e.identity=o,e.sortOptions=[{value:"title",text:"Sort by Title"},{value:"published",text:"Published Date"}],e.sortOrder=e.sortOptions[0].value}]),angular.module("willsBlog").controller("editPostCtrl",["$scope","notifier","mvPost","$q","$location","$stateParams",function(e,t,o,n,r,a){e.post=o.get({slug:a.slug}),e.post.data={_id:e.post._id,title:e.post.title,slug:e.post.slug,categories:e.post.categories,headerImage:e.post.headerImage,excerpt:e.post.excerpt,body:e.post.body,author:e.post.author},e.updatePost=function(){e.post.$update({slug:e.post.slug},function(){t.notify("Your post has been updated"),r.path("/blog")},function(e){t.error(e.data)})},e.deletePost=function(){e.post.$delete({slug:e.post.slug},function(){t.notify("Deleted from server"),r.path("/blog")})}}]),angular.module("willsBlog").factory("mvCachedPost",["mvPost",function(e){var t;return{query:function(){return t||(t=e.query()),t}}}]),angular.module("willsBlog").factory("mvPost",["$resource",function(e){return e("/api/posts/:slug",{slug:"@slug"},{update:{method:"PUT"}},{stripTrailingSlashes:!1})}]),angular.module("willsBlog").controller("newPostCtrl",["$scope","notifier","mvPost","$location",function(e,t,o,n){e.post=new o,e.createNewPost=function(){e.post.$save(function(){t.notify("New Post Created"),n.path("/blog")})},e.cancel=function(){n.path("/blog")}}]),angular.module("willsBlog").controller("postDetailCtrl",["$scope","mvCachedPost","mvPost","$stateParams","Meta",function(e,t,o,n,r){e.post=o.get({slug:n.slug},function(){var t=e.post.title,o=e.post.excerpt;r.setTitle(t),r.setDesc(o)})}]),angular.module("willsBlog").factory("identity",["$window","mvUser",function(e,t){var o;return e.bootstrappedUserObject&&(o=new t,angular.extend(o,e.bootstrappedUserObject)),{currentUser:o,isAuthenticated:function(){return!!this.currentUser},isAuthorized:function(e){return!!this.currentUser&&this.currentUser.roles.indexOf(e)>-1}}}]),angular.module("willsBlog").controller("loginCtrl",["$scope","$http","identity","notifier","mvAuth","$location","Meta",function(e,t,o,n,r,a,s){s.setTitle("Account"),e.identity=o,e.signIn=function(t,o){r.authenticateUser(t,o).then(function(t){t?(n.notify("You have signed in"),a.url("/account"),e.actShown=!1):n.notify("Username/Password Incorrect")})},e.signOut=function(){r.logoutUser().then(function(){e.username="",e.password="",n.notify("You have logged out"),a.path("/")})},e.signup=function(){var t={username:e.username,firstName:e.fName,lastName:e.lName,password:e.password};r.createUser(t).then(function(){n.notify("User account created"),a.path("/")},function(e){n.error(e)})},e.cancel=function(){a.path("/")},e.actShown=!1,e.toggleAccount=function(){o.isAuthenticated()?a.path("/account"):e.actShown=!e.actShown},e.signupShown=!1,e.toggleSignup=function(){e.signupShown=!e.signupShown}}]),angular.module("willsBlog").factory("mvAuth",["$http","identity","$q","mvUser",function(e,t,o,n){return{authenticateUser:function(r,a){var s=o.defer();return e.post("/login",{username:r,password:a}).then(function(e){if(e.data.success){var o=new n;angular.extend(o,e.data.user),t.currentUser=o,s.resolve(!0)}else s.resolve(!1)}),s.promise},logoutUser:function(){var n=o.defer();return e.post("/logout",{logout:!0}).then(function(){t.currentUser=void 0,n.resolve()}),n.promise},authorizeCurrentUserForRoute:function(e){return!!t.isAuthorized("admin")||o.reject("not authorized")},authorizeAutheticatedUserForRoute:function(){return!!t.isAuthenticated()||o.reject("not a current user")},createUser:function(e){var r=new n(e),a=o.defer();return r.$save().then(function(){t.currentUser=r,a.resolve()},function(e){a.reject(e.data.reason)}),a.promise},updateCurrentUser:function(e){var n=o.defer(),r=angular.copy(t.currentUser);return angular.extend(r,e),r.$update().then(function(){t.currentUser=r,n.resolve()},function(e){n.reject(e.data.reason)}),n.promise}}}]),angular.module("willsBlog").factory("mvUser",["$resource",function(e){var t=e("/api/users/:id",{_id:"@id"},{update:{method:"PUT",isArray:!1}});return t.prototype.isAdmin=function(){return this.roles&&this.roles.indexOf("admin")>-1},t}]),angular.module("willsBlog").controller("signupCtrl",["$scope","mvAuth","notifier","$location",function(e,t,o,n){e.signup=function(){var r={username:e.username,firstName:e.fName,lastName:e.lName,password:e.password};t.createUser(r).then(function(){o.notify("User account created"),n.path("/")},function(e){o.error(e)})},e.cancel=function(){n.path("/")}}]),angular.module("willsBlog").directive("globalModal",function(){return{restrict:"E",scope:{show:"="},replace:!0,transclude:!0,link:function(e,t,o){e.dialogStyle={},o.width&&(e.dialogStyle.width=o.width),o.height&&(e.dialogStyle.height=o.height),e.hideModal=function(){e.show=!1}},templateUrl:"/partials/common/modal"}}),angular.module("willsBlog").value("Toastr",toastr),angular.module("willsBlog").factory("notifier",["Toastr",function(e){return{notify:function(t){e.success(t),console.log(t)},error:function(t){e.error(t),console.log(t)}}}]),angular.module("willsBlog").factory("Meta",function(){var e="Web Development, Denver, CO",t="I enjoy all things web development and am always actively learning the newest techniques and langauges. If you have a web design or development project, give me a shout, I would love to talk about it.";return{title:function(){return e},setTitle:function(t){e=t},description:function(){return t},setDesc:function(e){t=e}}}).controller("metaCtrl",["$scope","Meta",function(e,t){e.Meta=t,e.metaDesc=t}]),angular.module("willsBlog").factory("TwitterService",["$http","$q",function(e,t){var o=function(o){var n=t.defer();return e.post("/twitter/user",{username:o}).success(function(e){return n.resolve(e)}).error(function(e){return n.reject(e)}),n.promise};return{getUser:o}}]),angular.module("willsBlog").controller("carouselCtrl",["$scope",function(e){e.slides=[{name:"Mobile",svg:"mobile-svg",desc:"Is your website up to date with the most current mobile design trends? If not, you are loosing valuable business. Ensure that your customers can reach your business from anywhere and receive the best user experience. By building with responsive design in mind, your customers will get a pixel perfect look from mobile to tablet or desktop."},{name:"ECommerce",svg:"ecomm-svg",desc:"Do you have a new product you are looking to bring to market and need an e-commerce site or just looking for more modern feel to an existing site?  By utilizing robust ecommerce platforms, we can design and develop a site that will scale with your business and needs all in time to meet your busy deadlines. "},{name:"SEO",svg:"seo-svg",desc:"Having a modern design and user friendly website is great, but if customers can`t find your business, it wont matter much.  We design and develop every aspect of the website with search engine optimization in mind and so your customers can find you among the competition.  Also through research and analytics we can develop, plan and deploy the best SEO and marketing practices to increase conversions and retention."}],e.currentIndex=0,e.setCurrentSlideIndex=function(t){e.currentIndex=t},e.isCurrentSlideIndex=function(t){return e.currentIndex===t}}]).animation(".slide-animation",function(){return{addClass:function(e,t,o){"ng-hide"==t?TweenMax.to(e,.5,{left:-e.parent().width(),onComplete:o}):o()},removeClass:function(e,t,o){"ng-hide"==t?(e.removeClass("ng-hide"),TweenMax.set(e,{left:e.parent().width()}),TweenMax.to(e,.5,{left:0,onComplete:o})):o()}}}),angular.module("willsBlog").controller("mainCtrl",["$scope","$location","mvCachedPost","notifier","TwitterService","$http","Meta",function(e,t,o,n,r,a,s){s.setTitle("Home"),s.setDesc("I enjoy all things web development and am always actively learning the newest techniques and langauges. If you have a web design or development project, give me a shout, I would love to talk about it."),e.services=[{name:"Development",svg:"dev-logo",description:"Customized and reusable code using the most up to date HTML5, CSS3 and Javascript framworks. Options range from static sites, content managed sites, and ecommerce stores.",more:"Development Skills include HTML5, CSS, Javascript, Angular, Backbone, Node, Express, Boostrap and more."},{name:"Web Design",svg:"design-logo",description:"Creating an excellent user experience through clean, simple and thoroughly crafted design. Collaboration with clients during design process ensures a superb finished project.",more:"Services include wire frames, photoshop mockups, logo design, and company branding."},{name:"Support",svg:"sup-logo",description:"Support is readily available for clients when anything comes up along the development process. Also available are personal instruction on how to maintain or update your own site.",more:"Have a new product or feature you want to implement? Plans for continued support and maintenance are available."}],e.posts=o.query(),e.form={},e.sendMail=function(){var t={contactName:this.contactName,contactCompany:this.contactCompany,contactEmail:this.contactEmail,contactMessage:this.contactMessage};a.post("/contact-form",t).success(function(t,o,r,a){n.notify("Thank you for your message "+t.contactName),e.form.contactForm.$setPristine(),e.form.contactForm.$setUntouched()}).error(function(e,t,o,r){n.notify("There was an error processing your request. Please try again")}),this.contactName=null,this.contactCompany=null,this.contactEmail=null,this.contactMessage=null},e.getUser=function(t){r.getUser(t).then(function(t){e.twitterErrors=void 0,e.tweets=JSON.parse(t.result.userData)}).catch(function(t){console.error("there was an error retrieving data: ",t),e.twitterErrors=t.error})}}]),angular.module("willsBlog").controller("navCtrl",["$scope","$location","$anchorScroll","$document",function(e,t,o,n){e.scrollTop=function(){n.scrollTopAnimated(0).then(function(){console.log("You just scrolled to the top!")})},e.linkTo=function(e){var o=t.url(),r=60,a=800,s=angular.element(e);"/"!==o?t.url("/",function(){n.scrollToElement(s,r,a)}):n.scrollToElement(s,r,a)}}]),angular.module("willsBlog").controller("workCtrl",["$scope",function(e){e.tendrilShown=!1,e.toggleTendril=function(){e.tendrilShown=!e.tendrilShown},e.crownShow=!1,e.toggleCrown=function(){e.crownShow=!e.crownShow},e.broadShow=!1,e.toggleBroad=function(){e.broadShow=!e.broadShow},e.adihow=!1,e.toggleAdi=function(){e.adiShow=!e.adiShow}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFkbWluL3Byb2ZpbGVDdHJsLmpzIiwiYWRtaW4vdXNlckxpc3RDdHJsLmpzIiwiYmxvZy9ibG9nTGlzdEN0cmwuanMiLCJibG9nL2VkaXRQb3N0Q3RybC5qcyIsImJsb2cvbXZDYWNoZWRQb3N0LmpzIiwiYmxvZy9tdlBvc3QuanMiLCJibG9nL25ld1Bvc3RDdHJsLmpzIiwiYmxvZy9wb3N0RGV0YWlsQ3RybC5qcyIsImxvZ2luL2lkZW50aXR5LmpzIiwibG9naW4vbG9naW5DdHJsLmpzIiwibG9naW4vbXZBdXRoLmpzIiwibG9naW4vbXZVc2VyLmpzIiwibG9naW4vc2lnbnVwQ3RybC5qcyIsImNvbW1vbi9tb2RhbERpci5qcyIsImNvbW1vbi9ub3RpZmllci5qcyIsImNvbW1vbi9wYWdlLmpzIiwiY29tbW9uL3R3aXR0ZXIuanMiLCJtYWluL2Nhcm91c2VsQ3RybC5qcyIsIm1haW4vbWFpbkN0cmwuanMiLCJtYWluL25hdkN0cmwuanMiLCJtYWluL3dvcmtDdHJsLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkbG9jYXRpb25Qcm92aWRlciIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwiaHRtbDVNb2RlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJyZXNvbHZlIiwicm91dGVSb2xlQ2hlY2siLCJtdkF1dGgiLCJhdXRob3JpemVBdXRoZXRpY2F0ZWRVc2VyRm9yUm91dGUiLCJhdXRob3JpemVDdXJyZW50VXNlckZvclJvdXRlIiwicnVuIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsIiRzdGF0ZVBhcmFtcyIsIiRvbiIsImV2dCIsImN1cnJlbnQiLCJwcmV2aW91cyIsInJlamVjdGlvbiIsInBhdGgiLCJldmVudCIsImN1cnJlbnRSb3V0ZSIsInByZXZpb3VzUm91dGUiLCJ3aW5kb3ciLCJzY3JvbGxUbyIsIiRzY29wZSIsImlkZW50aXR5Iiwibm90aWZpZXIiLCJ1c2VybmFtZSIsImN1cnJlbnRVc2VyIiwiZk5hbWUiLCJmaXJzdE5hbWUiLCJsTmFtZSIsImxhc3ROYW1lIiwidXBkYXRlIiwibmV3VXNlckRhdGEiLCJwYXNzd29yZCIsImxlbmd0aCIsInVwZGF0ZUN1cnJlbnRVc2VyIiwidGhlbiIsIm5vdGlmeSIsInJlYXNvbiIsImVycm9yIiwibXZVc2VyIiwidXNlcnMiLCJxdWVyeSIsIm12Q2FjaGVkUG9zdCIsIk1ldGEiLCJzZXRUaXRsZSIsInBvc3RzIiwic29ydE9wdGlvbnMiLCJ2YWx1ZSIsInRleHQiLCJzb3J0T3JkZXIiLCJtdlBvc3QiLCIkcSIsInBvc3QiLCJnZXQiLCJzbHVnIiwiZGF0YSIsIl9pZCIsInRpdGxlIiwiY2F0ZWdvcmllcyIsImhlYWRlckltYWdlIiwiZXhjZXJwdCIsImJvZHkiLCJhdXRob3IiLCJ1cGRhdGVQb3N0IiwiJHVwZGF0ZSIsImRlbGV0ZVBvc3QiLCIkZGVsZXRlIiwiZmFjdG9yeSIsInBvc3RMaXN0IiwiJHJlc291cmNlIiwibWV0aG9kIiwic3RyaXBUcmFpbGluZ1NsYXNoZXMiLCJjcmVhdGVOZXdQb3N0IiwiJHNhdmUiLCJjYW5jZWwiLCJkZXNjIiwic2V0RGVzYyIsIiR3aW5kb3ciLCJib290c3RyYXBwZWRVc2VyT2JqZWN0IiwiZXh0ZW5kIiwiaXNBdXRoZW50aWNhdGVkIiwidGhpcyIsImlzQXV0aG9yaXplZCIsInJvbGUiLCJyb2xlcyIsImluZGV4T2YiLCIkaHR0cCIsInNpZ25JbiIsImF1dGhlbnRpY2F0ZVVzZXIiLCJzdWNjZXNzIiwiYWN0U2hvd24iLCJzaWduT3V0IiwibG9nb3V0VXNlciIsInNpZ251cCIsImNyZWF0ZVVzZXIiLCJ0b2dnbGVBY2NvdW50Iiwic2lnbnVwU2hvd24iLCJ0b2dnbGVTaWdudXAiLCJkZWZlcnJlZCIsImRlZmVyIiwicmVzcG9uc2UiLCJ1c2VyIiwicHJvbWlzZSIsImxvZ291dCIsInVuZGVmaW5lZCIsInJlamVjdCIsIm5ld1VzZXIiLCJjbG9uZSIsImNvcHkiLCJVc2VyUmVzb3VyY2UiLCJpc0FycmF5IiwicHJvdG90eXBlIiwiaXNBZG1pbiIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJzaG93IiwicmVwbGFjZSIsInRyYW5zY2x1ZGUiLCJsaW5rIiwiZWxlbWVudCIsImF0dHJzIiwiZGlhbG9nU3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsImhpZGVNb2RhbCIsInRvYXN0ciIsIlRvYXN0ciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwibmV3VGl0bGUiLCJkZXNjcmlwdGlvbiIsIm5ld0Rlc2MiLCJtZXRhRGVzYyIsImdldFVzZXIiLCJkIiwic2xpZGVzIiwibmFtZSIsInN2ZyIsImN1cnJlbnRJbmRleCIsInNldEN1cnJlbnRTbGlkZUluZGV4IiwiaW5kZXgiLCJpc0N1cnJlbnRTbGlkZUluZGV4IiwiYW5pbWF0aW9uIiwiYWRkQ2xhc3MiLCJjbGFzc05hbWUiLCJkb25lIiwiVHdlZW5NYXgiLCJ0byIsImxlZnQiLCJwYXJlbnQiLCJvbkNvbXBsZXRlIiwicmVtb3ZlQ2xhc3MiLCJzZXQiLCJUd2l0dGVyU2VydmljZSIsInNlcnZpY2VzIiwibW9yZSIsImZvcm0iLCJzZW5kTWFpbCIsImNvbnRhY3ROYW1lIiwiY29udGFjdENvbXBhbnkiLCJjb250YWN0RW1haWwiLCJjb250YWN0TWVzc2FnZSIsInN0YXR1cyIsImhlYWRlcnMiLCJjb250YWN0Rm9ybSIsIiRzZXRQcmlzdGluZSIsIiRzZXRVbnRvdWNoZWQiLCJ0d2l0dGVyRXJyb3JzIiwidHdlZXRzIiwiSlNPTiIsInBhcnNlIiwicmVzdWx0IiwidXNlckRhdGEiLCJjYXRjaCIsIiRhbmNob3JTY3JvbGwiLCIkZG9jdW1lbnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxUb3BBbmltYXRlZCIsImxpbmtUbyIsImlkIiwicm91dGUiLCJvZmZzZXQiLCJkdXJhdGlvbiIsInNjcm9sbFRvRWxlbWVudCIsInRlbmRyaWxTaG93biIsInRvZ2dsZVRlbmRyaWwiLCJjcm93blNob3ciLCJ0b2dnbGVDcm93biIsImJyb2FkU2hvdyIsInRvZ2dsZUJyb2FkIiwiYWRpaG93IiwidG9nZ2xlQWRpIiwiYWRpU2hvdyJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsYUFBQSxhQUFBLFlBQUEsYUFBQSxZQUFBLGFBRUFELFFBQUFDLE9BQUEsYUFBQUMsUUFBQSxvQkFBQSxpQkFBQSxxQkFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQVdBQSxFQUFBQyxVQUFBLEtBRUFILEVBQUFJLFdBQUEsR0FFQUgsRUFDQUksTUFBQSxRQUNBQyxJQUFBLElBQ0FDLFlBQUEsc0JBQ0FDLFdBQUEsYUFFQUgsTUFBQSxXQUNBQyxJQUFBLFdBQ0FDLFlBQUEsd0JBQ0FDLFdBQUEsY0FFQUgsTUFBQSxVQUNBQyxJQUFBLFVBQ0FDLFlBQUEseUJBQ0FDLFdBQUEsZUFFQUgsTUFBQSxTQUNBQyxJQUFBLFNBQ0FDLFlBQUEsMkJBQ0FDLFdBQUEsaUJBRUFILE1BQUEsV0FDQUMsSUFBQSxXQUNBQyxZQUFBLDBCQUNBQyxXQUFBLGNBQ0FDLFNBQ0FDLGdCQUFBLFNBQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBQyx5Q0FJQVAsTUFBQSxjQUNBQyxJQUFBLGVBQ0FDLFlBQUEsNkJBQ0FDLFdBQUEsbUJBRUFILE1BQUEsV0FDQUMsSUFBQSxrQkFDQUMsWUFBQSwwQkFDQUMsV0FBQSxjQUNBQyxTQUNBQyxnQkFBQSxTQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUUsNkJBQUEsY0FJQVIsTUFBQSxZQUNBQyxJQUFBLG9CQUNBQyxZQUFBLDJCQUNBQyxXQUFBLGVBQ0FDLFNBQ0FDLGdCQUFBLFNBQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBRSw2QkFBQSxjQUlBUixNQUFBLFNBQ0FDLElBQUEsZUFDQUMsWUFBQSw2QkFDQUMsV0FBQSxlQUNBQyxTQUNBQyxnQkFBQSxTQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUUsNkJBQUEsaUJBUUFoQixRQUFBQyxPQUFBLGFBQUFnQixLQUFBLGFBQUEsWUFBQSxlQUFBLFNBQUFDLEVB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VyxLQUFBLFNBQUFvQixHQUNBbEMsRUFBQW9KLGNBQUFqRSxPQUNBbkYsRUFBQXFKLE9BQUFDLEtBQUFDLE1BQUFySCxFQUFBc0gsT0FBQUMsWUFHQUMsTUFBQSxTQUFBekksR0FDQTJGLFFBQUEzRixNQUFBLHVDQUFBQSxHQUNBakIsRUFBQW9KLGNBQUFuSSxFQUFBQSxZQzVEQWpELFFBQUFDLE9BQUEsYUFBQVUsV0FBQSxXQUFBLFNBQUEsWUFBQSxnQkFBQSxZQUFBLFNBQUFxQixFQUFBYixFQUFBd0ssRUFBQUMsR0FFQTVKLEVBQUE2SixVQUFBLFdBQ0FELEVBQUFFLGtCQUFBLEdBQUFoSixLQUFBLFdBQ0E4RixRQUFBQyxJQUFBLG9DQUdBN0csRUFBQStKLE9BQUEsU0FBQUMsR0FFQSxHQUFBQyxHQUFBOUssRUFBQVYsTUFDQXlMLEVBQUEsR0FDQUMsRUFBQSxJQUNBaEUsRUFBQW5JLFFBQUFtSSxRQUFBNkQsRUFFQSxPQUFBQyxFQUVBOUssRUFBQVYsSUFBQSxJQUFBLFdBQ0FtTCxFQUFBUSxnQkFBQWpFLEVBQUErRCxFQUFBQyxLQUtBUCxFQUFBUSxnQkFBQWpFLEVBQUErRCxFQUFBQyxPQ3RCQW5NLFFBQUFDLE9BQUEsYUFBQVUsV0FBQSxZQUFBLFNBQUEsU0FBQXFCLEdBRUFBLEVBQUFxSyxjQUFBLEVBQ0FySyxFQUFBc0ssY0FBQSxXQUNBdEssRUFBQXFLLGNBQUFySyxFQUFBcUssY0FHQXJLLEVBQUF1SyxXQUFBLEVBQ0F2SyxFQUFBd0ssWUFBQSxXQUNBeEssRUFBQXVLLFdBQUF2SyxFQUFBdUssV0FHQXZLLEVBQUF5SyxXQUFBLEVBQ0F6SyxFQUFBMEssWUFBQSxXQUNBMUssRUFBQXlLLFdBQUF6SyxFQUFBeUssV0FHQXpLLEVBQUEySyxRQUFBLEVBQ0EzSyxFQUFBNEssVUFBQSxXQUNBNUssRUFBQTZLLFNBQUE3SyxFQUFBNksiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnLCBbJ25nUmVzb3VyY2UnLCAnbmdBbmltYXRlJywgJ25nU2FuaXRpemUnLCAndWkucm91dGVyJywgJ2R1U2Nyb2xsJ10pO1xuXG5hbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCAnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgZnVuY3Rpb24oJGxvY2F0aW9uUHJvdmlkZXIsICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpe1xuXG4gICAgdmFyIHJvdXRlUm9sZUNoZWNrcyA9IHtcbiAgICAgIGFkbWluOiBmdW5jdGlvbihtdkF1dGgpe1xuICAgICAgICAgIHJldHVybiBtdkF1dGguYXV0aG9yaXplQ3VycmVudFVzZXJGb3JSb3V0ZSgnYWRtaW4nKTtcbiAgICAgIH0sXG4gICAgICB1c2VyOiBmdW5jdGlvbihtdkF1dGgpe1xuICAgICAgICAgIHJldHVybiBtdkF1dGguYXV0aG9yaXplQXV0aGV0aWNhdGVkVXNlckZvclJvdXRlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuXG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuXG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2hvbWUnLCB7XG4gICAgICB1cmw6ICcvJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL21haW4vbWFpbicsXG4gICAgICBjb250cm9sbGVyOiAnbWFpbkN0cmwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ2FjY291bnQnLCB7XG4gICAgICB1cmw6ICcvYWNjb3VudCcsXG4gICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9sb2dpbi9sb2dpbicsXG4gICAgICBjb250cm9sbGVyOiAnbG9naW5DdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdzaWdudXAnLCB7XG4gICAgICB1cmw6ICcvc2lnbnVwJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2xvZ2luL3NpZ251cCcsXG4gICAgICBjb250cm9sbGVyOiAnc2lnbnVwQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgncG9zdHMnLCB7XG4gICAgICB1cmw6ICcvcG9zdHMnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYmxvZy9ibG9nLWxpc3QnLFxuICAgICAgY29udHJvbGxlcjogJ2Jsb2dMaXN0Q3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgncHJvZmlsZScsIHtcbiAgICAgIHVybDogJy9wcm9maWxlJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2FkbWluL3Byb2ZpbGUnLFxuICAgICAgY29udHJvbGxlcjogJ3Byb2ZpbGVDdHJsJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgcm91dGVSb2xlQ2hlY2s6IFsnbXZBdXRoJywgZnVuY3Rpb24obXZBdXRoKXtcbiAgICAgICAgICAgIHJldHVybiBtdkF1dGguYXV0aG9yaXplQXV0aGV0aWNhdGVkVXNlckZvclJvdXRlKCk7XG4gICAgICAgIH1cbiAgICAgIF19XG4gICAgfSlcbiAgICAuc3RhdGUoJ3Bvc3REZXRhaWwnLCB7IC8vdmlldyBzaW5nbGUgcG9zdFxuICAgICAgdXJsOiAnL3Bvc3RzLzpzbHVnJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2Jsb2cvcG9zdC1kZXRhaWwnLFxuICAgICAgY29udHJvbGxlcjogJ3Bvc3REZXRhaWxDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCduZXdQb3N0JywgeyAgLy9hZGRpbmcgYSBuZXcgcG9zdFxuICAgICAgdXJsOiAnL2FkbWluL25ldy1wb3N0JyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2Jsb2cvbmV3LXBvc3QnLFxuICAgICAgY29udHJvbGxlcjogJ25ld1Bvc3RDdHJsJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgcm91dGVSb2xlQ2hlY2s6IFsnbXZBdXRoJywgZnVuY3Rpb24obXZBdXRoKXtcbiAgICAgICAgICAgIHJldHVybiBtdkF1dGguYXV0aG9yaXplQ3VycmVudFVzZXJGb3JSb3V0ZSgnYWRtaW4nKTtcbiAgICAgICAgfVxuICAgICAgXX1cbiAgICB9KVxuICAgIC5zdGF0ZSgnZWRpdFBvc3QnLCB7ICAvL2VkaXQgcG9zdFxuICAgICAgdXJsOiAnL2FkbWluLzpzbHVnL2VkaXQnLFxuICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbHMvYmxvZy9lZGl0LXBvc3QnLFxuICAgICAgY29udHJvbGxlcjogJ2VkaXRQb3N0Q3RybCcsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIHJvdXRlUm9sZUNoZWNrOiBbJ212QXV0aCcsIGZ1bmN0aW9uKG12QXV0aCl7XG4gICAgICAgICAgICByZXR1cm4gbXZBdXRoLmF1dGhvcml6ZUN1cnJlbnRVc2VyRm9yUm91dGUoJ2FkbWluJyk7XG4gICAgICAgIH1cbiAgICAgIF19XG4gICAgfSlcbiAgICAuc3RhdGUoJ3VzZXJzJywge1xuICAgICAgdXJsOiAnL2FkbWluL3VzZXJzJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxzL2FkbWluL3VzZXJzLWxpc3QnLFxuICAgICAgY29udHJvbGxlcjogJ3VzZXJMaXN0Q3RybCcsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIHJvdXRlUm9sZUNoZWNrOiBbJ212QXV0aCcsIGZ1bmN0aW9uKG12QXV0aCl7XG4gICAgICAgICAgICByZXR1cm4gbXZBdXRoLmF1dGhvcml6ZUN1cnJlbnRVc2VyRm9yUm91dGUoJ2FkbWluJyk7XG4gICAgICAgIH1cbiAgICAgIF19XG4gICAgfSk7XG5cbn1dKTsvL2VuZCBjb25maWdcblxuXG5hbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykucnVuKFsnJHJvb3RTY29wZScsICckbG9jYXRpb24nLCAnJHN0YXRlUGFyYW1zJyAsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJHN0YXRlUGFyYW1zKXtcblxuICAvLyRhbmNob3JTY3JvbGwueU9mZnNldCA9IDYwO1xuXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsIGZ1bmN0aW9uKGV2dCwgY3VycmVudCwgcHJldmlvdXMsIHJlamVjdGlvbikge1xuICAgICAgaWYocmVqZWN0aW9uID09PSAnbm90IGF1dGhvcml6ZWQnKSB7XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgICB9XG4gIH0pO1xuXG4gICRyb290U2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlU3VjY2Vzc1wiLCBmdW5jdGlvbiAoZXZlbnQsIGN1cnJlbnRSb3V0ZSwgcHJldmlvdXNSb3V0ZSkge1xuICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgfSk7XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCdwcm9maWxlQ3RybCcsIFsnJHNjb3BlJywgJ212QXV0aCcsICdpZGVudGl0eScsICdub3RpZmllcicsIGZ1bmN0aW9uKCRzY29wZSwgbXZBdXRoLCBpZGVudGl0eSwgbm90aWZpZXIpe1xuICAkc2NvcGUudXNlcm5hbWUgPSBpZGVudGl0eS5jdXJyZW50VXNlci51c2VybmFtZTtcbiAgJHNjb3BlLmZOYW1lID0gaWRlbnRpdHkuY3VycmVudFVzZXIuZmlyc3ROYW1lO1xuICAkc2NvcGUubE5hbWUgPSBpZGVudGl0eS5jdXJyZW50VXNlci5sYXN0TmFtZTtcblxuICAkc2NvcGUudXBkYXRlID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBuZXdVc2VyRGF0YSA9IHtcbiAgICAgICAgdXNlcm5hbWU6ICRzY29wZS51c2VybmFtZSxcbiAgICAgICAgZmlyc3ROYW1lOiAkc2NvcGUuZk5hbWUsXG4gICAgICAgIGxhc3ROYW1lOiAkc2NvcGUubE5hbWVcbiAgICAgIH1cblxuICAgICAgaWYoJHNjb3BlLnBhc3N3b3JkICYmICRzY29wZS5wYXNzd29yZC5sZW5ndGggPiAwKSB7XG4gICAgICAgbmV3VXNlckRhdGEucGFzc3dvcmQgPSAkc2NvcGUucGFzc3dvcmQ7XG4gICAgICB9XG5cbiAgICAgIG12QXV0aC51cGRhdGVDdXJyZW50VXNlcihuZXdVc2VyRGF0YSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICBub3RpZmllci5ub3RpZnkoJ1lvdXIgaW5mb3JtYXRpb24gaGFzIGJlZW4gdXBkYXRlZCcpO1xuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAgIG5vdGlmaWVyLmVycm9yKHJlYXNvbik7XG4gICAgICAgIH0pO1xuICB9XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCd1c2VyTGlzdEN0cmwnLCBbJyRzY29wZScsICdtdlVzZXInLCBmdW5jdGlvbigkc2NvcGUsIG12VXNlcil7XG4gICRzY29wZS51c2VycyA9IG12VXNlci5xdWVyeSgpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmNvbnRyb2xsZXIoJ2Jsb2dMaXN0Q3RybCcsIFsnJHNjb3BlJywgJ212Q2FjaGVkUG9zdCcsICdpZGVudGl0eScsICckbG9jYXRpb24nLCAnTWV0YScsICBmdW5jdGlvbigkc2NvcGUsIG12Q2FjaGVkUG9zdCwgaWRlbnRpdHksICRsb2NhdGlvbiwgTWV0YSl7XG5cbiAgTWV0YS5zZXRUaXRsZSgnQmxvZycpO1xuXG4gICRzY29wZS5wb3N0cyA9IG12Q2FjaGVkUG9zdC5xdWVyeSgpO1xuXG4gICRzY29wZS5pZGVudGl0eSA9IGlkZW50aXR5O1xuXG4gICRzY29wZS5zb3J0T3B0aW9ucz0gW1xuICAgIHt2YWx1ZTogJ3RpdGxlJywgdGV4dDogJ1NvcnQgYnkgVGl0bGUnfSxcbiAgICB7dmFsdWU6ICdwdWJsaXNoZWQnLCB0ZXh0OiAnUHVibGlzaGVkIERhdGUnfV07XG5cbiAgJHNjb3BlLnNvcnRPcmRlciA9ICRzY29wZS5zb3J0T3B0aW9uc1swXS52YWx1ZTtcbn1dKTtcbiIsIiBhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcignZWRpdFBvc3RDdHJsJywgWyckc2NvcGUnLCAnbm90aWZpZXInLCAnbXZQb3N0JywgJyRxJywgJyRsb2NhdGlvbicsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbigkc2NvcGUsIG5vdGlmaWVyLCBtdlBvc3QsICRxLCAkbG9jYXRpb24sICRzdGF0ZVBhcmFtcyl7XG5cbiAgICAkc2NvcGUucG9zdCA9IG12UG9zdC5nZXQoeyBzbHVnOiAkc3RhdGVQYXJhbXMuc2x1ZyB9KTtcblxuICAgICRzY29wZS5wb3N0LmRhdGEgPSB7XG4gICAgICAgIF9pZDogJHNjb3BlLnBvc3QuX2lkLFxuICAgICAgICB0aXRsZSA6ICRzY29wZS5wb3N0LnRpdGxlLFxuICAgICAgICBzbHVnOiAkc2NvcGUucG9zdC5zbHVnLFxuICAgICAgICBjYXRlZ29yaWVzIDogJHNjb3BlLnBvc3QuY2F0ZWdvcmllcyxcbiAgICAgICAgaGVhZGVySW1hZ2UgOiAkc2NvcGUucG9zdC5oZWFkZXJJbWFnZSxcbiAgICAgICAgZXhjZXJwdCA6ICRzY29wZS5wb3N0LmV4Y2VycHQsXG4gICAgICAgIGJvZHkgOiAkc2NvcGUucG9zdC5ib2R5LFxuICAgICAgICBhdXRob3I6ICRzY29wZS5wb3N0LmF1dGhvclxuICAgIH1cblxuICAgICRzY29wZS51cGRhdGVQb3N0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJHNjb3BlLnBvc3QuJHVwZGF0ZSggeyBzbHVnOiAkc2NvcGUucG9zdC5zbHVnIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgbm90aWZpZXIubm90aWZ5KCdZb3VyIHBvc3QgaGFzIGJlZW4gdXBkYXRlZCcpO1xuICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYmxvZycpO1xuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAgIG5vdGlmaWVyLmVycm9yKHJlYXNvbi5kYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmRlbGV0ZVBvc3QgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLnBvc3QuJGRlbGV0ZSh7IHNsdWc6ICRzY29wZS5wb3N0LnNsdWcgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIG5vdGlmaWVyLm5vdGlmeSgnRGVsZXRlZCBmcm9tIHNlcnZlcicpO1xuICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2Jsb2cnKTtcbiAgICAgIH0pO1xuICAgIH1cblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmZhY3RvcnkoJ212Q2FjaGVkUG9zdCcsIFsnbXZQb3N0JywgZnVuY3Rpb24obXZQb3N0KXtcbiAgdmFyIHBvc3RMaXN0O1xuXG4gIHJldHVybiB7XG4gICAgcXVlcnk6IGZ1bmN0aW9uKCl7XG4gICAgICBpZighcG9zdExpc3Qpe1xuICAgICAgICBwb3N0TGlzdCA9IG12UG9zdC5xdWVyeSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9zdExpc3Q7XG4gICAgfVxuICB9XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5mYWN0b3J5KCdtdlBvc3QnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uKCRyZXNvdXJjZSl7XG5cbiAgcmV0dXJuICRyZXNvdXJjZSgnL2FwaS9wb3N0cy86c2x1ZycsIHtzbHVnOiAnQHNsdWcnfSwge1xuICAgIHVwZGF0ZSA6IHtcbiAgICAgIG1ldGhvZDogJ1BVVCdcbiAgICB9XG4gIH0sIHtcbiAgICBzdHJpcFRyYWlsaW5nU2xhc2hlczogZmFsc2VcbiAgfSk7XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCduZXdQb3N0Q3RybCcsIFsnJHNjb3BlJywgJ25vdGlmaWVyJywgJ212UG9zdCcsICckbG9jYXRpb24nLCBmdW5jdGlvbigkc2NvcGUsIG5vdGlmaWVyLCBtdlBvc3QsICRsb2NhdGlvbil7XG5cbiAgJHNjb3BlLnBvc3QgPSBuZXcgbXZQb3N0KCk7XG5cbiAgJHNjb3BlLmNyZWF0ZU5ld1Bvc3QgPSBmdW5jdGlvbigpe1xuICAgICRzY29wZS5wb3N0LiRzYXZlKGZ1bmN0aW9uKCl7XG4gICAgICAgIG5vdGlmaWVyLm5vdGlmeSgnTmV3IFBvc3QgQ3JlYXRlZCcpO1xuICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2Jsb2cnKTtcbiAgICB9KTtcbiAgfVxuXG4gICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpe1xuICAgICRsb2NhdGlvbi5wYXRoKCcvYmxvZycpO1xuICB9O1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcigncG9zdERldGFpbEN0cmwnLCBbJyRzY29wZScsICdtdkNhY2hlZFBvc3QnLCAnbXZQb3N0JywgJyRzdGF0ZVBhcmFtcycsICdNZXRhJywgIGZ1bmN0aW9uKCRzY29wZSwgbXZDYWNoZWRQb3N0LCBtdlBvc3QsICRzdGF0ZVBhcmFtcywgTWV0YSl7XG5cbiAgLy8gbXZDYWNoZWRQb3N0LnF1ZXJ5KCkuJHByb21pc2UudGhlbihmdW5jdGlvbihjb2xsZWN0aW9uKXtcbiAgLy8gICBjb2xsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24ocG9zdCl7XG4gIC8vICAgICBpZihwb3N0Ll9pZCA9PT0gJHN0YXRlUGFyYW1zLmlkKXtcbiAgLy8gICAgICAgJHNjb3BlLnBvc3QgPSBwb3N0O1xuICAvLyAgICAgfVxuICAvLyAgIH0pO1xuICAvLyB9KTtcblxuICAgJHNjb3BlLnBvc3QgPSBtdlBvc3QuZ2V0KHsgc2x1ZzogJHN0YXRlUGFyYW1zLnNsdWcgfSwgZnVuY3Rpb24oKXtcbiAgICAgdmFyIHRpdGxlID0gJHNjb3BlLnBvc3QudGl0bGU7XG4gICAgIHZhciBkZXNjID0gJHNjb3BlLnBvc3QuZXhjZXJwdDtcbiAgICAgTWV0YS5zZXRUaXRsZSh0aXRsZSk7XG4gICAgIE1ldGEuc2V0RGVzYyhkZXNjKTtcbiAgIH0pO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuZmFjdG9yeSgnaWRlbnRpdHknLCBbJyR3aW5kb3cnLCAnbXZVc2VyJywgZnVuY3Rpb24oJHdpbmRvdywgbXZVc2VyKXtcblxuICB2YXIgY3VycmVudFVzZXI7XG4gIGlmKCEhJHdpbmRvdy5ib290c3RyYXBwZWRVc2VyT2JqZWN0KSB7XG4gICAgY3VycmVudFVzZXIgPSBuZXcgbXZVc2VyKCk7XG4gICAgYW5ndWxhci5leHRlbmQoY3VycmVudFVzZXIsICR3aW5kb3cuYm9vdHN0cmFwcGVkVXNlck9iamVjdCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50VXNlcjogY3VycmVudFVzZXIsXG4gICAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuICEhdGhpcy5jdXJyZW50VXNlcjtcbiAgICB9LFxuXG4gICAgaXNBdXRob3JpemVkOiBmdW5jdGlvbihyb2xlKXtcbiAgICAgIHJldHVybiAhIXRoaXMuY3VycmVudFVzZXIgJiYgdGhpcy5jdXJyZW50VXNlci5yb2xlcy5pbmRleE9mKHJvbGUpID4gLTE7XG4gICAgfVxuXG4gIH1cblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmNvbnRyb2xsZXIoJ2xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJyRodHRwJywgJ2lkZW50aXR5JywgJ25vdGlmaWVyJywgJ212QXV0aCcsICckbG9jYXRpb24nLCAnTWV0YScsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsIGlkZW50aXR5LCBub3RpZmllciwgbXZBdXRoLCAkbG9jYXRpb24sIE1ldGEpe1xuXG4gICAgTWV0YS5zZXRUaXRsZSgnQWNjb3VudCcpO1xuXG4gICAgJHNjb3BlLmlkZW50aXR5ID0gaWRlbnRpdHk7XG5cbiAgICAkc2NvcGUuc2lnbkluID0gZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKXtcbiAgICAgIG12QXV0aC5hdXRoZW50aWNhdGVVc2VyKHVzZXJuYW1lLCBwYXNzd29yZCkudGhlbihmdW5jdGlvbihzdWNjZXNzKXtcbiAgICAgICAgaWYoc3VjY2Vzcyl7XG4gICAgICAgICAgbm90aWZpZXIubm90aWZ5KCdZb3UgaGF2ZSBzaWduZWQgaW4nKTtcbiAgICAgICAgICAkbG9jYXRpb24udXJsKCcvYWNjb3VudCcpO1xuICAgICAgICAgICRzY29wZS5hY3RTaG93biA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vdGlmaWVyLm5vdGlmeSgnVXNlcm5hbWUvUGFzc3dvcmQgSW5jb3JyZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbk91dCA9IGZ1bmN0aW9uKCl7XG4gICAgICBtdkF1dGgubG9nb3V0VXNlcigpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS51c2VybmFtZSA9ICcnO1xuICAgICAgICAkc2NvcGUucGFzc3dvcmQgPSAnJztcbiAgICAgICAgbm90aWZpZXIubm90aWZ5KCdZb3UgaGF2ZSBsb2dnZWQgb3V0Jyk7XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNpZ251cCA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmV3VXNlckRhdGEgPSB7XG4gICAgICAgIHVzZXJuYW1lOiAkc2NvcGUudXNlcm5hbWUsXG4gICAgICAgIGZpcnN0TmFtZTogJHNjb3BlLmZOYW1lLFxuICAgICAgICBsYXN0TmFtZTogJHNjb3BlLmxOYW1lLFxuICAgICAgICBwYXNzd29yZDogJHNjb3BlLnBhc3N3b3JkXG4gICAgICB9O1xuICAgICAgbXZBdXRoLmNyZWF0ZVVzZXIobmV3VXNlckRhdGEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgbm90aWZpZXIubm90aWZ5KCdVc2VyIGFjY291bnQgY3JlYXRlZCcpO1xuICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICBub3RpZmllci5lcnJvcihyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpe1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmFjdFNob3duID0gZmFsc2U7XG4gICAgJHNjb3BlLnRvZ2dsZUFjY291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKGlkZW50aXR5LmlzQXV0aGVudGljYXRlZCgpKXtcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hY2NvdW50Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUuYWN0U2hvd24gPSAhJHNjb3BlLmFjdFNob3duO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbnVwU2hvd24gPSBmYWxzZTtcbiAgICAkc2NvcGUudG9nZ2xlU2lnbnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuc2lnbnVwU2hvd24gPSAhJHNjb3BlLnNpZ251cFNob3duO1xuICAgIH07XG5cblxufV0pO1xuIiwiXG5hbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuZmFjdG9yeSgnbXZBdXRoJywgWyckaHR0cCcsICdpZGVudGl0eScsICckcScsICdtdlVzZXInLCBmdW5jdGlvbigkaHR0cCwgaWRlbnRpdHksICRxLCBtdlVzZXIpe1xuXG4gIHJldHVybiB7XG4gICAgLy8gdGhpcyB0aGluZyB3b3JraW5nXG4gICAgYXV0aGVudGljYXRlVXNlcjogZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKXtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLnBvc3QoJy9sb2dpbicsIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKXtcblxuICAgICAgICAgIHZhciB1c2VyID0gbmV3IG12VXNlcigpO1xuICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHVzZXIsIHJlc3BvbnNlLmRhdGEudXNlcik7XG4gICAgICAgICAgaWRlbnRpdHkuY3VycmVudFVzZXIgPSB1c2VyO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgbG9nb3V0VXNlcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cC5wb3N0KCcvbG9nb3V0Jywge2xvZ291dDogdHJ1ZX0pLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgaWRlbnRpdHkuY3VycmVudFVzZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgIH0sXG5cbiAgICBhdXRob3JpemVDdXJyZW50VXNlckZvclJvdXRlOiBmdW5jdGlvbihyb2xlKXtcbiAgICAgIGlmIChpZGVudGl0eS5pc0F1dGhvcml6ZWQoJ2FkbWluJykpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoJ25vdCBhdXRob3JpemVkJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGF1dGhvcml6ZUF1dGhldGljYXRlZFVzZXJGb3JSb3V0ZTogZnVuY3Rpb24oKXtcbiAgICAgIGlmIChpZGVudGl0eS5pc0F1dGhlbnRpY2F0ZWQoKSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgnbm90IGEgY3VycmVudCB1c2VyJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZVVzZXIgOiBmdW5jdGlvbihuZXdVc2VyRGF0YSkge1xuICAgICAgIHZhciBuZXdVc2VyID0gbmV3IG12VXNlcihuZXdVc2VyRGF0YSk7XG4gICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgIG5ld1VzZXIuJHNhdmUoKS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICBpZGVudGl0eS5jdXJyZW50VXNlciA9IG5ld1VzZXI7XG4gICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlLmRhdGEucmVhc29uKTtcbiAgICAgICB9KTtcblxuICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0sXG5cbiAgICB1cGRhdGVDdXJyZW50VXNlcjogZnVuY3Rpb24obmV3VXNlckRhdGEpe1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICB2YXIgY2xvbmUgPSBhbmd1bGFyLmNvcHkoaWRlbnRpdHkuY3VycmVudFVzZXIpO1xuICAgICAgICBhbmd1bGFyLmV4dGVuZChjbG9uZSwgbmV3VXNlckRhdGEpO1xuICAgICAgICBjbG9uZS4kdXBkYXRlKCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgIGlkZW50aXR5LmN1cnJlbnRVc2VyID0gY2xvbmU7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlLmRhdGEucmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICB9Ly8gcmV0dXJuXG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5mYWN0b3J5KCdtdlVzZXInLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uKCRyZXNvdXJjZSl7XG5cbiAgdmFyIFVzZXJSZXNvdXJjZSA9ICRyZXNvdXJjZSgnL2FwaS91c2Vycy86aWQnLCB7X2lkIDogJ0BpZCd9LCB7XG4gICAgdXBkYXRlOiB7bWV0aG9kOiAnUFVUJywgaXNBcnJheTogZmFsc2V9XG4gIH0pO1xuXG4gIFVzZXJSZXNvdXJjZS5wcm90b3R5cGUuaXNBZG1pbiA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMucm9sZXMgJiYgdGhpcy5yb2xlcy5pbmRleE9mKCdhZG1pbicpID4gLTE7XG4gIH1cblxuICByZXR1cm4gVXNlclJlc291cmNlO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcignc2lnbnVwQ3RybCcsIFsnJHNjb3BlJywgJ212QXV0aCcsICdub3RpZmllcicsICckbG9jYXRpb24nLCBmdW5jdGlvbigkc2NvcGUsIG12QXV0aCwgbm90aWZpZXIsICRsb2NhdGlvbil7XG4gICAgJHNjb3BlLnNpZ251cCA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgIHZhciBuZXdVc2VyRGF0YSA9IHtcbiAgICAgICAgdXNlcm5hbWU6ICRzY29wZS51c2VybmFtZSxcbiAgICAgICAgZmlyc3ROYW1lOiAkc2NvcGUuZk5hbWUsXG4gICAgICAgIGxhc3ROYW1lOiAkc2NvcGUubE5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiAkc2NvcGUucGFzc3dvcmRcbiAgICAgIH07XG4gICAgICBtdkF1dGguY3JlYXRlVXNlcihuZXdVc2VyRGF0YSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICBub3RpZmllci5ub3RpZnkoJ1VzZXIgYWNjb3VudCBjcmVhdGVkJyk7XG4gICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIG5vdGlmaWVyLmVycm9yKHJlYXNvbik7XG4gICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24oKXtcbiAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgfTtcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmRpcmVjdGl2ZSgnZ2xvYmFsTW9kYWwnLCBmdW5jdGlvbigpe1xuICByZXR1cm57XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBzY29wZToge1xuICAgICAgc2hvdzogJz0nXG4gICAgfSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgbGluayA6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XG4gICAgICBzY29wZS5kaWFsb2dTdHlsZSA9IHt9O1xuICAgICAgaWYoYXR0cnMud2lkdGgpXG4gICAgICAgIHNjb3BlLmRpYWxvZ1N0eWxlLndpZHRoID0gYXR0cnMud2lkdGg7XG4gICAgICBpZiAoYXR0cnMuaGVpZ2h0KVxuICAgICAgICBzY29wZS5kaWFsb2dTdHlsZS5oZWlnaHQgPSBhdHRycy5oZWlnaHQ7XG5cbiAgICAgIHNjb3BlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHNjb3BlLnNob3cgPSBmYWxzZTtcbiAgICAgIH07XG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFscy9jb21tb24vbW9kYWwnXG4gIH1cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLnZhbHVlKCdUb2FzdHInLCB0b2FzdHIpO1xuXG5hbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuZmFjdG9yeSgnbm90aWZpZXInLCBbJ1RvYXN0cicsIGZ1bmN0aW9uKFRvYXN0cil7XG4gIHJldHVybiB7XG4gICAgbm90aWZ5OiBmdW5jdGlvbihtZXNzYWdlKXtcbiAgICAgIFRvYXN0ci5zdWNjZXNzKG1lc3NhZ2UpO1xuICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24obWVzc2FnZSl7XG4gICAgICBUb2FzdHIuZXJyb3IobWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICB9XG4gIH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5mYWN0b3J5KCdNZXRhJywgZnVuY3Rpb24oKXtcbiAgdmFyIHRpdGxlID0gJ1dlYiBEZXZlbG9wbWVudCwgRGVudmVyLCBDTyc7XG4gIHZhciBkZXNjID0gJ0kgZW5qb3kgYWxsIHRoaW5ncyB3ZWIgZGV2ZWxvcG1lbnQgYW5kIGFtIGFsd2F5cyBhY3RpdmVseSBsZWFybmluZyB0aGUgbmV3ZXN0IHRlY2huaXF1ZXMgYW5kIGxhbmdhdWdlcy4gSWYgeW91IGhhdmUgYSB3ZWIgZGVzaWduIG9yIGRldmVsb3BtZW50IHByb2plY3QsIGdpdmUgbWUgYSBzaG91dCwgSSB3b3VsZCBsb3ZlIHRvIHRhbGsgYWJvdXQgaXQuJztcbiAgcmV0dXJuIHtcbiAgICB0aXRsZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRpdGxlO30sXG4gICAgc2V0VGl0bGU6IGZ1bmN0aW9uKG5ld1RpdGxlKSB7IHRpdGxlID0gbmV3VGl0bGUgfSxcbiAgICBkZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7IHJldHVybiBkZXNjO30sXG4gICAgc2V0RGVzYyA6IGZ1bmN0aW9uKG5ld0Rlc2MpIHsgZGVzYyA9IG5ld0Rlc2N9XG4gIH1cbn0pXG4uY29udHJvbGxlcignbWV0YUN0cmwnLCBbJyRzY29wZScsICdNZXRhJywgZnVuY3Rpb24oJHNjb3BlLCBNZXRhKXtcbiAgJHNjb3BlLk1ldGEgPSBNZXRhO1xuICAkc2NvcGUubWV0YURlc2MgPSBNZXRhO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbGxzQmxvZycpLmZhY3RvcnkoJ1R3aXR0ZXJTZXJ2aWNlJywgWyckaHR0cCcsICckcScsIGZ1bmN0aW9uKCRodHRwLCAkcSl7XG5cbiAgdmFyIGdldFVzZXIgPSBmdW5jdGlvbih1c2VybmFtZSl7XG4gICAgdmFyIGQgPSAkcS5kZWZlcigpO1xuXG4gICAgJGh0dHAucG9zdCgnL3R3aXR0ZXIvdXNlcicsIHt1c2VybmFtZSA6IHVzZXJuYW1lfSlcbiAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICByZXR1cm4gZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5lcnJvcihmdW5jdGlvbihlcnJvcil7XG4gICAgICAgIHJldHVybiBkLnJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkLnByb21pc2U7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRVc2VyIDogZ2V0VXNlclxuICAgIH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCdjYXJvdXNlbEN0cmwnLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSl7XG4gICRzY29wZS5zbGlkZXMgPSBbXG4gICAgeyBuYW1lOiAnTW9iaWxlJyxcbiAgICBzdmc6ICdtb2JpbGUtc3ZnJyxcbiAgICBkZXNjOiAnSXMgeW91ciB3ZWJzaXRlIHVwIHRvIGRhdGUgd2l0aCB0aGUgbW9zdCBjdXJyZW50IG1vYmlsZSBkZXNpZ24gdHJlbmRzPyBJZiBub3QsIHlvdSBhcmUgbG9vc2luZyB2YWx1YWJsZSBidXNpbmVzcy4gRW5zdXJlIHRoYXQgeW91ciBjdXN0b21lcnMgY2FuIHJlYWNoIHlvdXIgYnVzaW5lc3MgZnJvbSBhbnl3aGVyZSBhbmQgcmVjZWl2ZSB0aGUgYmVzdCB1c2VyIGV4cGVyaWVuY2UuIEJ5IGJ1aWxkaW5nIHdpdGggcmVzcG9uc2l2ZSBkZXNpZ24gaW4gbWluZCwgeW91ciBjdXN0b21lcnMgd2lsbCBnZXQgYSBwaXhlbCBwZXJmZWN0IGxvb2sgZnJvbSBtb2JpbGUgdG8gdGFibGV0IG9yIGRlc2t0b3AuJyB9LFxuXG4gICAgeyBuYW1lOiAnRUNvbW1lcmNlJyxcbiAgICBzdmc6ICdlY29tbS1zdmcnLFxuICAgIGRlc2M6ICdEbyB5b3UgaGF2ZSBhIG5ldyBwcm9kdWN0IHlvdSBhcmUgbG9va2luZyB0byBicmluZyB0byBtYXJrZXQgYW5kIG5lZWQgYW4gZS1jb21tZXJjZSBzaXRlIG9yIGp1c3QgbG9va2luZyBmb3IgbW9yZSBtb2Rlcm4gZmVlbCB0byBhbiBleGlzdGluZyBzaXRlPyAgQnkgdXRpbGl6aW5nIHJvYnVzdCBlY29tbWVyY2UgcGxhdGZvcm1zLCB3ZSBjYW4gZGVzaWduIGFuZCBkZXZlbG9wIGEgc2l0ZSB0aGF0IHdpbGwgc2NhbGUgd2l0aCB5b3VyIGJ1c2luZXNzIGFuZCBuZWVkcyBhbGwgaW4gdGltZSB0byBtZWV0IHlvdXIgYnVzeSBkZWFkbGluZXMuICcgfSxcblxuICAgIHsgbmFtZTogJ1NFTycsXG4gICAgc3ZnOiAnc2VvLXN2ZycsXG4gICAgZGVzYzogJ0hhdmluZyBhIG1vZGVybiBkZXNpZ24gYW5kIHVzZXIgZnJpZW5kbHkgd2Vic2l0ZSBpcyBncmVhdCwgYnV0IGlmIGN1c3RvbWVycyBjYW5gdCBmaW5kIHlvdXIgYnVzaW5lc3MsIGl0IHdvbnQgbWF0dGVyIG11Y2guICBXZSBkZXNpZ24gYW5kIGRldmVsb3AgZXZlcnkgYXNwZWN0IG9mIHRoZSB3ZWJzaXRlIHdpdGggc2VhcmNoIGVuZ2luZSBvcHRpbWl6YXRpb24gaW4gbWluZCBhbmQgc28geW91ciBjdXN0b21lcnMgY2FuIGZpbmQgeW91IGFtb25nIHRoZSBjb21wZXRpdGlvbi4gIEFsc28gdGhyb3VnaCByZXNlYXJjaCBhbmQgYW5hbHl0aWNzIHdlIGNhbiBkZXZlbG9wLCBwbGFuIGFuZCBkZXBsb3kgdGhlIGJlc3QgU0VPIGFuZCBtYXJrZXRpbmcgcHJhY3RpY2VzIHRvIGluY3JlYXNlIGNvbnZlcnNpb25zIGFuZCByZXRlbnRpb24uJyB9XG5cbiAgXTtcblxuICAkc2NvcGUuY3VycmVudEluZGV4ID0gMDtcbiAgJHNjb3BlLnNldEN1cnJlbnRTbGlkZUluZGV4ID0gZnVuY3Rpb24oaW5kZXgpe1xuICAgICRzY29wZS5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgfVxuICAkc2NvcGUuaXNDdXJyZW50U2xpZGVJbmRleCA9IGZ1bmN0aW9uKGluZGV4KXtcbiAgICByZXR1cm4gJHNjb3BlLmN1cnJlbnRJbmRleCA9PT0gaW5kZXg7XG4gIH1cbn1dKVxuXG4uYW5pbWF0aW9uKCcuc2xpZGUtYW5pbWF0aW9uJywgZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKXtcbiAgICAgIGlmIChjbGFzc05hbWUgPT0gJ25nLWhpZGUnKXtcbiAgICAgICAgICBUd2Vlbk1heC50byhlbGVtZW50LCAwLjUsIHtsZWZ0OiAtZWxlbWVudC5wYXJlbnQoKS53aWR0aCgpLCBvbkNvbXBsZXRlOiBkb25lIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSl7XG4gICAgICBpZihjbGFzc05hbWUgPT0gJ25nLWhpZGUnKXtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnbmctaGlkZScpO1xuICAgICAgICBUd2Vlbk1heC5zZXQoZWxlbWVudCwgeyBsZWZ0OiBlbGVtZW50LnBhcmVudCgpLndpZHRoKCkgfSk7XG4gICAgICAgIFR3ZWVuTWF4LnRvKGVsZW1lbnQsIDAuNSwge2xlZnQ6IDAsIG9uQ29tcGxldGU6IGRvbmUgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCdtYWluQ3RybCcsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICdtdkNhY2hlZFBvc3QnLCAnbm90aWZpZXInICwnVHdpdHRlclNlcnZpY2UnLCAnJGh0dHAnLCAnTWV0YScsIGZ1bmN0aW9uKCRzY29wZSwgJGxvY2F0aW9uLCBtdkNhY2hlZFBvc3QsIG5vdGlmaWVyLCBUd2l0dGVyU2VydmljZSwgJGh0dHAsIE1ldGEpe1xuXG4gIE1ldGEuc2V0VGl0bGUoJ0hvbWUnKTtcbiAgTWV0YS5zZXREZXNjKCdJIGVuam95IGFsbCB0aGluZ3Mgd2ViIGRldmVsb3BtZW50IGFuZCBhbSBhbHdheXMgYWN0aXZlbHkgbGVhcm5pbmcgdGhlIG5ld2VzdCB0ZWNobmlxdWVzIGFuZCBsYW5nYXVnZXMuIElmIHlvdSBoYXZlIGEgd2ViIGRlc2lnbiBvciBkZXZlbG9wbWVudCBwcm9qZWN0LCBnaXZlIG1lIGEgc2hvdXQsIEkgd291bGQgbG92ZSB0byB0YWxrIGFib3V0IGl0LicpO1xuXG4gICRzY29wZS5zZXJ2aWNlcyA9IFtcbiAgICB7IG5hbWU6ICdEZXZlbG9wbWVudCcsXG4gICAgc3ZnOiAnZGV2LWxvZ28nLFxuICAgIGRlc2NyaXB0aW9uOiAnQ3VzdG9taXplZCBhbmQgcmV1c2FibGUgY29kZSB1c2luZyB0aGUgbW9zdCB1cCB0byBkYXRlIEhUTUw1LCBDU1MzIGFuZCBKYXZhc2NyaXB0IGZyYW13b3Jrcy4gT3B0aW9ucyByYW5nZSBmcm9tIHN0YXRpYyBzaXRlcywgY29udGVudCBtYW5hZ2VkIHNpdGVzLCBhbmQgZWNvbW1lcmNlIHN0b3Jlcy4nLFxuICAgIG1vcmU6ICdEZXZlbG9wbWVudCBTa2lsbHMgaW5jbHVkZSBIVE1MNSwgQ1NTLCBKYXZhc2NyaXB0LCBBbmd1bGFyLCBCYWNrYm9uZSwgTm9kZSwgRXhwcmVzcywgQm9vc3RyYXAgYW5kIG1vcmUuJyB9LFxuXG4gICAgeyBuYW1lOiAnV2ViIERlc2lnbicsXG4gICAgc3ZnOiAnZGVzaWduLWxvZ28nLFxuICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRpbmcgYW4gZXhjZWxsZW50IHVzZXIgZXhwZXJpZW5jZSB0aHJvdWdoIGNsZWFuLCBzaW1wbGUgYW5kIHRob3JvdWdobHkgY3JhZnRlZCBkZXNpZ24uIENvbGxhYm9yYXRpb24gd2l0aCBjbGllbnRzIGR1cmluZyBkZXNpZ24gcHJvY2VzcyBlbnN1cmVzIGEgc3VwZXJiIGZpbmlzaGVkIHByb2plY3QuJyxcbiAgICBtb3JlOiAnU2VydmljZXMgaW5jbHVkZSB3aXJlIGZyYW1lcywgcGhvdG9zaG9wIG1vY2t1cHMsIGxvZ28gZGVzaWduLCBhbmQgY29tcGFueSBicmFuZGluZy4nIH0sXG5cbiAgICB7IG5hbWU6ICdTdXBwb3J0JyxcbiAgICBzdmc6ICdzdXAtbG9nbycsXG4gICAgZGVzY3JpcHRpb246ICdTdXBwb3J0IGlzIHJlYWRpbHkgYXZhaWxhYmxlIGZvciBjbGllbnRzIHdoZW4gYW55dGhpbmcgY29tZXMgdXAgYWxvbmcgdGhlIGRldmVsb3BtZW50IHByb2Nlc3MuIEFsc28gYXZhaWxhYmxlIGFyZSBwZXJzb25hbCBpbnN0cnVjdGlvbiBvbiBob3cgdG8gbWFpbnRhaW4gb3IgdXBkYXRlIHlvdXIgb3duIHNpdGUuJyxcbiAgICBtb3JlOiAnSGF2ZSBhIG5ldyBwcm9kdWN0IG9yIGZlYXR1cmUgeW91IHdhbnQgdG8gaW1wbGVtZW50PyBQbGFucyBmb3IgY29udGludWVkIHN1cHBvcnQgYW5kIG1haW50ZW5hbmNlIGFyZSBhdmFpbGFibGUuJyB9XG5cbiAgXTtcblxuICAkc2NvcGUucG9zdHMgPSBtdkNhY2hlZFBvc3QucXVlcnkoKTtcblxuICAkc2NvcGUuZm9ybSA9IHt9O1xuXG4gICRzY29wZS5zZW5kTWFpbCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGRhdGEgPSh7XG4gICAgICBjb250YWN0TmFtZSA6IHRoaXMuY29udGFjdE5hbWUsXG4gICAgICBjb250YWN0Q29tcGFueSA6IHRoaXMuY29udGFjdENvbXBhbnksXG4gICAgICBjb250YWN0RW1haWwgOiB0aGlzLmNvbnRhY3RFbWFpbCxcbiAgICAgIGNvbnRhY3RNZXNzYWdlIDogdGhpcy5jb250YWN0TWVzc2FnZVxuICAgIH0pO1xuXG4gICAgJGh0dHAucG9zdCgnL2NvbnRhY3QtZm9ybScsIGRhdGEpXG4gICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZyl7XG4gICAgICAgIG5vdGlmaWVyLm5vdGlmeSgnVGhhbmsgeW91IGZvciB5b3VyIG1lc3NhZ2UgJyArIGRhdGEuY29udGFjdE5hbWUpO1xuICAgICAgICAgICAkc2NvcGUuZm9ybS5jb250YWN0Rm9ybS4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgICAgJHNjb3BlLmZvcm0uY29udGFjdEZvcm0uJHNldFVudG91Y2hlZCgpO1xuICAgICAgfSlcbiAgICAgIC5lcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZyl7XG4gICAgICAgIG5vdGlmaWVyLm5vdGlmeSgnVGhlcmUgd2FzIGFuIGVycm9yIHByb2Nlc3NpbmcgeW91ciByZXF1ZXN0LiBQbGVhc2UgdHJ5IGFnYWluJyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29udGFjdE5hbWUgPSBudWxsO1xuICAgICAgdGhpcy5jb250YWN0Q29tcGFueSA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRhY3RFbWFpbCA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRhY3RNZXNzYWdlID0gbnVsbDtcblxuICB9XG5cbiAgJHNjb3BlLmdldFVzZXIgPSBmdW5jdGlvbih1c2VybmFtZSl7XG5cdFx0VHdpdHRlclNlcnZpY2UuZ2V0VXNlcih1c2VybmFtZSlcblx0XHQgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG5cdFx0ICAgICAgICAkc2NvcGUudHdpdHRlckVycm9ycyA9IHVuZGVmaW5lZDtcblx0ICAgICAgICBcdCRzY29wZS50d2VldHMgPSBKU09OLnBhcnNlKGRhdGEucmVzdWx0LnVzZXJEYXRhKTtcblx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCRzY29wZS50d2VldHMpO1xuXHRcdCAgICB9KVxuXHRcdCAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipe1xuXHRcdCAgICAgICAgY29uc29sZS5lcnJvcigndGhlcmUgd2FzIGFuIGVycm9yIHJldHJpZXZpbmcgZGF0YTogJywgZXJyb3IpO1xuXHRcdCAgICAgICAgJHNjb3BlLnR3aXR0ZXJFcnJvcnMgPSBlcnJvci5lcnJvcjtcblx0XHQgICAgfSlcblx0fTtcblxuICAvLyRzY29wZS5nZXRVc2VyKCk7XG5cblxuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnd2lsbHNCbG9nJykuY29udHJvbGxlcignbmF2Q3RybCcsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICckYW5jaG9yU2Nyb2xsJywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsLCAkZG9jdW1lbnQpe1xuXG4gICRzY29wZS5zY3JvbGxUb3AgPSBmdW5jdGlvbigpe1xuICAgICRkb2N1bWVudC5zY3JvbGxUb3BBbmltYXRlZCgwKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coJ1lvdSBqdXN0IHNjcm9sbGVkIHRvIHRoZSB0b3AhJyk7XG4gICAgfSk7XG4gIH1cbiAgJHNjb3BlLmxpbmtUbyA9IGZ1bmN0aW9uKGlkKXtcblxuICAgICAgdmFyIHJvdXRlID0gJGxvY2F0aW9uLnVybCgpO1xuICAgICAgdmFyIG9mZnNldCA9IDYwO1xuICAgICAgdmFyIGR1cmF0aW9uID0gODAwO1xuICAgICAgdmFyIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoaWQpO1xuXG4gICAgICBpZihyb3V0ZSAhPT0gJy8nKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnYW5vdGhlciByb3V0ZSArICcgKyByb3V0ZSk7XG4gICAgICAgICRsb2NhdGlvbi51cmwoJy8nLCBmdW5jdGlvbigpe1xuICAgICAgICAgICRkb2N1bWVudC5zY3JvbGxUb0VsZW1lbnQoZWxlbWVudCwgb2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdzYW1lIHJvdXRlJyk7XG4gICAgICAgICRkb2N1bWVudC5zY3JvbGxUb0VsZW1lbnQoZWxlbWVudCwgb2Zmc2V0LCBkdXJhdGlvbik7XG4gICAgICB9XG5cbiAgICAgLy8kbG9jYXRpb24udXJsKGlkKTtcbiAgICAgLy8kYW5jaG9yU2Nyb2xsKCk7XG4gIH07XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd3aWxsc0Jsb2cnKS5jb250cm9sbGVyKCd3b3JrQ3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKXtcblxuICAkc2NvcGUudGVuZHJpbFNob3duID0gZmFsc2U7XG4gICRzY29wZS50b2dnbGVUZW5kcmlsID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnRlbmRyaWxTaG93biA9ICEkc2NvcGUudGVuZHJpbFNob3duO1xuICB9O1xuXG4gICRzY29wZS5jcm93blNob3cgPSBmYWxzZTtcbiAgJHNjb3BlLnRvZ2dsZUNyb3duID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmNyb3duU2hvdyA9ICEkc2NvcGUuY3Jvd25TaG93O1xuICB9O1xuXG4gICRzY29wZS5icm9hZFNob3cgPSBmYWxzZTtcbiAgJHNjb3BlLnRvZ2dsZUJyb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmJyb2FkU2hvdyA9ICEkc2NvcGUuYnJvYWRTaG93O1xuICB9O1xuXG4gICRzY29wZS5hZGlob3cgPSBmYWxzZTtcbiAgJHNjb3BlLnRvZ2dsZUFkaSA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5hZGlTaG93ID0gISRzY29wZS5hZGlTaG93O1xuICB9O1xuXG59XSk7XG4iXX0=
